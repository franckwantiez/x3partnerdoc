<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="fr-fr" xml:lang="fr-fr" class="_Skins_Sage_Skin_SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="Accueil|Aide produit|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="author" content="ADONIX" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="keywords" content="Regles,Workflow,Objet" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="description" content="Règles Workflow" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="module" content="Superviseur" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="robots" content="all" xmlns="http://www.w3.org/1999/xhtml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Règles Workflow</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Sage.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/Stylesheets/font-awesome.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: #000000 url('../../Skins/Default/Stylesheets/Images/60x60_globe_white-on-transparent_icon.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../Resources/TableStyles/NormalRows.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Retour" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Passer au contenu principal</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Compte</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Paramètres</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Déconnexion</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Afficher le volet de navigation" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Compte</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Paramètres</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Déconnexion</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Champ de recherche" placeholder="Rechercher" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filtrer&#160;:</span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Filtre de recherche" title="Tous les fichiers" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">Tous les fichiers</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Rechercher" role="button" tabindex="0"><span class="invisible-label">Démarrer la recherche</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <script type="text/javascript">/*<![CDATA[*/$(document).ready(function(){
			$("#selectlang").appendTo("div.central-account-wrapper");
		});/*]]>*/</script>
                                    <div id="selectlang" class="headerlang">
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Language_toggle mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie select-language-button" title="Changer de langue">
                                                    <div>
                                                        <div role="img" class="button-icon-wrapper" aria-label="Changer de langue">
                                                            <div class="button-icon"> </div>
                                                        </div>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="sage-header-title">
                                        <img id="sage-header-logo" src="../Resources/Images/Sage_logo_green.svg" alt="Sage" /><span id="sage-header-product-name"><span id="sage-header-product"><span class="mc-variable Sage-Product.ProductName variable">X3 Warehousing</span></span></span>
                                    </div>
                                    <section class="sage-topic-body sage-layout-two-columns">
                                        <div class="sage-layout-topic-main">
                                            <div class="nocontent">
                                                <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Pistes de navigation" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="10" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">Menu: </span>
                                                </div>
                                            </div>
                                            <div role="main" id="mc-main-content">
                                                <div id="container" xmlns="http://www.w3.org/1999/xhtml">
                                                    <div id="pageHeader">
                                                        <h1 class="g1" id="RèglesWorkflow" data-magellan-target="RèglesWorkflow"><span>Règles Workflow</span>
                                                        </h1>
                                                    </div>
                                                    <div id="intro">
                                                        <div id="presentation">
                                                            <p>Les règles de Workflow permettent de définir l'exécution d'un certain nombre d'actions lorsque des événements particuliers arrivent au sein du progiciel Sage X3.</p>
                                                            <p>Les actions possibles sont :</p>
                                                            <ul>
                                                                <li>l'envoi de messages par la messagerie </li>
                                                                <li>l'apparition de notifications dans des plans de travail</li>
                                                                <li>la mise à jour de données par l'exécution d'actions, soit directement au moment où l'événement se produit, soit ultérieurement lorsque le ou les destinataires de la notification auront réagi (action de visa ou de signature dans le <a href="SAIWRKPLN.htm">plan de travail</a>, clic sur un lien dans le message, double-clic pour se connecter dans un contexte lié et réaliser des mises à jour manuellement)</li>
                                                            </ul>
                                                            <p>Des données issues du contexte de déclenchement pourront être utilisées dans les messages, les notifications, les actions.</p>
                                                            <p>Les événements à l'origine d'une règle de Workflow peuvent être très divers :</p>
                                                            <ul>
                                                                <li>action de l'utilisateur dans une gestion d'objet (création, modification,&#160;déclenchement d'une action)</li>
                                                                <li>exécution d'une tâche batch, d'un&#160;import, d'une édition</li>
                                                                <li>action de signature sur une notification antérieure (dans ce cas, on peut avoir des circuits complexes de signature imbriqués)</li>
                                                                <li>traitement batch parcourant un ensemble de tables de la base &#160;</li>
                                                            </ul>
                                                            <p>L'envoi des messages est conditionné par l'utilisation d'une messagerie acceptant l'interface MAPI lors de l'envoi depuis le poste client ou SMTP POP3 lors de l'envoi depuis le serveur (ce qui est le cas de la plupart des messageries du marché).</p>
                                                            <p>Les destinataires des notifications du Workflow peuvent être paramétrés directement dans la règle, soit par le biais d'un code utilisateur, soit par le biais d'un code tiers et d'un type d'interlocuteur chez le tiers. Mais il est aussi possible de créer des tables multi-critères nommées <a href="GESAWR.htm">règles d'affectation</a>, pour permettre à un utilisateur tiers de définir les destinataires en fonction de valeurs des critères pré-définis.</p>
                                                        </div>
                                                    </div>
                                                    <div id="supportingText">
                                                        <div class="stdBloc"><a id="PRQ"></a>
                                                            <h2 class="g1" id="Prérequis" data-magellan-target="Prérequis">Pré-requis</h2>
                                                            <div class="links">
                                                            </div>
                                                            <p>
                                                                <img src="../Resources/Images/SEEREFERTTO.png" alt="SEEREFERTTO" keeps="true" realloc="SEEREFERTTO" /> Reportez-vous à la documentation de  <a href="PRQ_AFC_GESAWA.htm#PRQ">Mise en oeuvre</a></p>
                                                            <div class="stdBloc"><a id="ECR"></a>
                                                                <h2 class="g1" id="Gestiondelécran" data-magellan-target="Gestiondelécran">Gestion de l'écran</h2>
                                                                <div class="links">
                                                                    <ul>
                                                                        <li><a href="#ENT">En-tête</a>
                                                                        </li>
                                                                        <li><a href="#ON1">Onglet Général</a>
                                                                        </li>
                                                                        <li><a href="#ON2">Onglet Destinataires</a>
                                                                        </li>
                                                                        <li><a href="#ON3">Onglet Message</a>
                                                                        </li>
                                                                        <li><a href="#ON4">Onglet Suivi</a>
                                                                        </li>
                                                                        <li><a href="#ON5">Onglet Action</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                                <p>L'écran de paramétrage des règles Workflow est composé de 5 onglets, dont les 3 premiers relèvent du paramétrage de base, (il suffit de remplir les champs essentiels de ces trois écrans dans les cas simples de notification), et les deux suivants permettent un paramétrage avancé :</p>
                                                                <ul>
                                                                    <li>Le&#160;premier onglet permet de définir le contexte de déclenchement de la règle.</li>
                                                                    <li>Le second donne la liste des destinataires du message ou des notifications.</li>
                                                                    <li>Le troisième permet de saisir le corps du message, lorsqu'un message doit être envoyé, ainsi que la définition d'éventuelles pièces jointes.</li>
                                                                    <li>Le quatrième permet de définir les conditions éventuelles de signature, lorsqu'une règle de Workflow suppose un enchaînement d'étapes ultérieures et un processus de signature.</li>
                                                                    <li>Le cinquième est utilisé lorsqu'il est nécessaire de déclencher des actions particulières (par action, on entend des sous-programmes normalisés, soit pré-définis et documentés, comme par exemple les actions liées à l'engagement d'un budget, soit spécifiques réalisés par un intégrateur pour répondre à un besoin particulier).</li>
                                                                </ul>
                                                                <p />
                                                                <p />
                                                                <p /><a id="ENT"></a>
                                                                <h3 class="g1">En-tête</h3>
                                                                <div id="desc_ent" class="ddesc" style="display: block;">
                                                                    <p>Une règle est identifiée par un code, mais on peut lui associer, pour des raisons d'organisation, une catégorie définie dans une table diverse. Ce sont donc ces informations que l'on retrouve en tête de l'écran.</p>
                                                                </div>
                                                                <div class="bfields">
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Descriptions des champs</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <div id="ent" class="dfields" xmlns="http://www.w3.org/1999/xhtml">
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Bloc numéro 1</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Code (<a href="#" class="selected">champ CODE</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>
Ce champ identifie la règle de Workflow. 
                </p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Intitulé (champ INTIT)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Permet de définir un intitulé associé à chaque fiche.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Bloc numéro 2</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Catégorie (<a href="GESADI.htm">champ CATEG</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>
Ce champ permet de faire des regroupements par typologie des règles de workflow. 
                </p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Actif (champ ENAFLG)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>
Tant que cette case n'est pas cochée, la règle de Workflow n'est pas susceptible de se déclencher.
                </p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><a id="ON1"></a>
                                                                <h3 class="g1">Onglet Général</h3>
                                                                <div id="desc_on1" class="ddesc" style="display: block;">
                                                                    <p>Cet onglet définit le contexte de déclenchement, donné par un type d'événement et un code associé, ainsi que, dans certains cas,&#160;des codes opération complémentaires. On trouve aussi un tableau de conditions : elles doivent être vérifiées pour que la règle soit déclenchée. Certains événement agissant sur des données organisées selon un schéma en-tête et lignes, on précise alors à quel niveau chacune des conditions porte.</p>
                                                                    <p>On peut par ailleurs associer à une règle un <a href="GESAWM.htm">modèle de données</a>, qui décrit un ensemble de tables complémentaires qui seront lues lorsque la règle sera testée. Dans le cas d'une règle dont le type est <em>Manuel</em>, ce modèle de données est obligatoire, le seul contexte existant étant lié au modèle. Dans le cas de règles liés à des objets, ou à des événements divers, ce modèle est optionnel, et permet simplement de compléter les tables en ligne.</p>
                                                                    <p>En fonction du type de règle et du modèle qui lui est associé, on pourra définir si le workflow porte sur les informations d'en-tête ou sur les informations de ligne, et, le cas échéant, on définira comment les lignes sont regroupées.</p>
                                                                    <p>Enfin, une <a href="GESAWR.htm">règle d'affectation</a> peut être donnée pour définir la façon dont les destinataires du message seront définis. Une telle règle peut renvoyer un ou plusieurs destinataires. Les destinataires en question pourront recevoir la notification issue de la règle, ou être transmis à une règle suivante, dans le cas de signatures enchaînées.</p>
                                                                    <p>On trouvera dans une annexe technique le détail des informations disponibles dans le contexte d'exécution.</p>
                                                                </div>
                                                                <div class="bfields">
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Descriptions des champs</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <div id="on1" class="dfields" xmlns="http://www.w3.org/1999/xhtml">
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Evénement déclenchant</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Type événement (champ TYPEVT)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Le type d'événement Workflow peut prendre les valeurs suivantes :</p>
                                                                                            <ul>
                                                                                                <li><em>Objet</em> : on est dans une fonction de type <a href="GESAOB.htm">objet</a> (gestion d'une fiche en création, modification, duplication, suppression...). Le code événement correspond alors au code de l'objet.</li>
                                                                                                <li><em>Entrée fonction</em> : on déclenche la règle à l'entrée dans une fonction du progiciel. Le code événement correspond au code de la fonction (un objet codé <em>XXX</em> correspond à la fonction <em>GESXXX</em>, ce type d'événement peut donc aussi être utilisé pour les objets).</li>
                                                                                                <li><em>Edition</em> : on lance un état, dont le code peut être spécifié dans le champ code événement.</li>
                                                                                                <li><em>Fin de tâche </em>: on déclenche un Workflow en fin de tâche batch, dont le code correspond au code événement&#160;(il faut que la tâche batch en question ait la case <em>Message utisateur</em> cochée, sinon cela ne fonctionnera pas : un message d'avertissement signale si ce n'est pas le cas, sans pour autant empêcher la saisie).</li>
                                                                                                <li><em>Arrêt de tâche</em> : cette règle de&#160;Workflow est déclenchée lorsqu'un utilisateur décide, depuis la surveillance des tâches, d'arrêter une tâche batch, dont le code correspond au code événement. Il envoie alors une demande d'arrêt au serveur batch, et c'est le serveur qui arrête la tâche. Compte tenu du contexte d'exécution de cet événement, on est limité dans les possibilités de déclenchement. Ainsi :</li>
                                                                                                <ul>
                                                                                                    <li>on ne dispose pas des variables d'environnement habituelles (GUSER, par exemple), mais uniquement de l'enregistrement courant dans la table <a href="../MCD/ABATRQT.htm">ABATRQT</a> d'abréviation [ABR].</li>
                                                                                                    <li>on ne peut envoyer qu'un message via messagerie (aucune table de suivi ne peut être mises à jour).</li>
                                                                                                </ul>
                                                                                                <li><em>Import/Export</em> : ce type d'événement se déclenche en début (et/ou en fin) d'import (et/ou d'export), le code événement permettant de préciser le modèle utilisé.</li>
                                                                                                <li><em>Signature</em> : cette règle est déclenchée lors de la signature d'une règle antérieure, dont le code peut être donné par le code événement.</li>
                                                                                                <li><em>Manuel</em> : cette règle est déclenchée sur le parcours d'un ensemble de tables décrites dans le modèle de données. Ce parcours est déclenché par une <a href="SAIWRKMAN.htm">opération manuelle</a>, qui peut bien entendue être lancée en batch. Ceci permet notamment de déclencher les règles Workflow liées à des modifications de champs dans la base (la règle parcourt les tables d'audit).</li>
                                                                                                <li><em>Divers</em> : cette règle est déclenchée sur des événements particuliers identifiés par une liste finie de code événements. Ces événements peuvent soit être génériques pour tous les progiciels écrits en technologie adonix (par exemple connexion, déconnexion...),&#160;&#160;soit dépendre d'une fonction propre au progiciel utilisé. On trouvera la liste des&#160;événements génériques dans&#160;une <a href="AWA_DIV_SUP.htm">première annexe de documentation</a>, et la liste des événements propres à chaque progiciel dans une <a href="AWA_DIV.htm">seconde annexe de documentation</a>.</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Code événement (champ CODEVT)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet de préciser le contexte déclenchant, selon le type qui est défini&#160;au préalable :</p>
                                                                                            <ul>
                                                                                                <li>pour un type <em>Objet</em>, on donne le code de l'objet qui correspond.</li>
                                                                                                <li>pour un type <em>Entrée fonction</em>, on donne le code de la fonction.</li>
                                                                                                <li>pour un type <em>Edition</em>, on donne le code de l'état.</li>
                                                                                                <li>pour un type <em>Fin de tâche</em> ou <em>Arrêt de tâche</em>, &#160;on donne le code de la tâche batch.</li>
                                                                                                <li>pour un type <em>Import/Export</em>, on donne le modèle d'import/export utilisé.</li>
                                                                                                <li>pour un type <em>Signature</em>, on donne le code de la règle à l'origine de la demande de signature.</li>
                                                                                                <li>Pour un type <em>Manuel</em>, le code n'est pas saisi.</li>
                                                                                                <li>Pour un type <em>Divers</em>, on donne le code identifiant l'événement divers à l'origine du déclenchement de la règle.</li>
                                                                                            </ul>
                                                                                            <p>Ce champ n'est obligatoire que pour le type d'évènement <em>Divers</em>. S'il n'est pas renseigné,&#160;l'événement se déclenche de façon générique, sachant qu'il est toujours possible de tester davantage le contexte pour être sélectif (grâce notamment aux variables GFONCTION, GOLDETAT...)</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>champ LIBEVT</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>
Intitulé associé au code saisi dans la rubrique précédente
                </p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Opérations (champ OPERATION)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet de préciser de façon plus fine le contexte d'exécution de la règle de Workflow. Selon les types de Workflow, les informations saisies sont différentes :</p>
                                                                                            <ul>
                                                                                                <li>Pour un type <i>Objet</i>, on saisit une série de codes permettant de définir les opérations standard ( M comme modification, C comme création...) et particulières à un objet s'il est spécifié (boutons et items de menus) qui provoqueront le déclenchement de l'événement. Au moins un code opération est alors obligatoire.</li>
                                                                                                <li>Pour un type <i>Edition</i>, on saisit&#160;C (ou rien) pour impression&#160;ou P pour envoyer l'état en pièce jointe.</li>
                                                                                                <li>Pour un type <i>Signature</i>, on saisit le code opération attaché à la réponse faite dans le processus de signature.</li>
                                                                                                <li>Pour un type <i>Import/Export</i>, on précise par une liste de 4 codes maximum si le déclenchement de la règle doit être fait en début et/ou en fin, et s'il concerne les opérations d'import/et ou d'export.</li>
                                                                                                <li>Pour tous les autres types, cette zone n'est pas saisie.</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Fin de transaction (champ TYPDEC)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Dans le cas&#160;de la modification d'une fiche d'un objet simple, le worflow peut être déclenché avant la mise à jour des tables (ce qui permet de définir des critères sur les classes [F] et [M]) ou en fin&#160;de la transaction de modification (après la mise à jour des tables).</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Bloc numéro 4</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Modèle de données (<a href="GESAWM.htm">champ MODELE</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>On peut indiquer ici un <a href="GESAWM.htm">modèle de données</a>&#160;qui définit un ensemble de tables liées qui doivent être disponibles dans le contexte du Workflow. Dans le cas d'un événement de type <em>Manuel</em>, ce code est obligatoire pour définir le contexte d'exécution; dans les autres cas, il permet simplement de compléter ce contexte.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Règle d'affectation (<a href="GESAWR.htm">champ REGLE</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet de définir des règles d'affectation des destinataires de Workflow de façon externe à la règle. Il fait référence à une table de <a href="GESAWR.htm">règles</a>&#160;dans laquelle on définit une liste de champs sur lesquels porteront les critères d'affectation des destinataires.</p>
                                                                                            <p>Une règle est évaluée au moment du déclenchement du Workflow, en fonction du contexte, et renvoie un ou plusieurs utilisateurs définis par un tableau de&#160;variables locales [L]USER, ce qui permet soit de donner une liste de destinataires pour un Workflow donné, soit une chaîne de destinataires dans le cas d'un enchaînement de règles.</p>
                                                                                            <p>Il est important de noter que :</p>
                                                                                            <ul>
                                                                                                <li>lorsqu'une règle d'affectation est définie dans une règle de Workflow, l'ensemble des destinataires est évalué en fonction des critères définis et stocké dans le tableau [L]USER.</li>
                                                                                                <li>lorsqu'aucune règle d'affectation n'est définie, mais que la règle de Workflow est de type <em>Signature</em>, on hérite des valeurs de [L]USER calculées dans l'événement à l'origine de la signature (ces valeurs sont stockées dans l'historique). Si on désire que la règle d'affectation d'origine soit ré-évaluée (parce que des valeurs de critère ont pu changer), il faut renseigner à nouveau cette règle d'affectation dans la règle de Workflow.</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Bloc numéro 5</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Type workflow (champ TYPWRK)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Définit si on déclenche un Workflow sur chaque ligne de détail ou uniquement sur l'en-tête.</p>
                                                                                            <p>Ce champ n'est pas saisi, mais affiché &#160;:</p>
                                                                                            <ul>
                                                                                                <li>si aucune règle d'affectation ni aucun modèle de données ne sont définis. Le type vaut <em>Ligne</em> si le Worfklow est manuel, sinon il est de type <em>En-tête</em>.</li>
                                                                                                <li>Si une règle d'affectation utilisant une table <em>ligne </em>est définie, le Workflow est de type <em>Ligne</em>.</li>
                                                                                            </ul>
                                                                                            <p>Si aucune règle d'affectation n'est donnée, mais qu'un modèle intégrant des liens (1,N) est associé, le champ est saisi. On peut alors choisir si le déclenchement se fait à la ligne ou à l'en-tête (sachant que les lignes peuvent être regroupées par ailleurs pour envoyer une notification par groupe).</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Table ligne (<a href="GESATB.htm">champ TABLIG</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>
Permet de définir le champ ligne dans le cas d'une règle où le contexte intègre des tables d'en-tête et des tables de ligne.
                </p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>champ ABRLIG</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Regroupement lignes (champ GROUPE)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet de définir des critères de regroupement en donnant une liste d'expressions (ou de champs)&#160;séparés par des points virgule. Ceci permet de regrouper des lignes de détail pour ne déclencher qu'un Workflow qu'à chaque rupture sur les valeurs définies par ces expressions.</p>
                                                                                            <p>Ceci est possible dans deux cas :</p>
                                                                                            <ul>
                                                                                                <li>Quand un événement de Workflow utilise un modèle de données faisant apparaître des liens (1,N), et que le Workflow est de type ligne (il parcourt l'intégralité de ligne de la table ligne choisie), on peut regrouper les lignes entre elles.</li>
                                                                                                <li>Quand un événement de Workflow est de type <em>Manuel</em> (l'ensemble des lignes lues peut être regroupé de la même façon).</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b><a href="TBL_MGT.htm">Tableau</a><i> Conditions</i></b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Type (champ TYPCND)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Lorsque l'événement de Workflow est de type <em>Ligne</em>, les conditions peuvent porter soit sur l'en-tête, soit sur la ligne, selon le choix saisi ici.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Conditions (champ CONDITION)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>﻿Ces champs permettent des conditions complémentaires sous la forme d'expressions logiques ( Formule de calcul) incluant des variables en ligne au moment de l'exécution de la règle (contenus de masques d'écrans ou de tables en ligne, selon la description du contexte...). Si ces conditions sont toutes vraies, le message sera envoyé et/ou la trace écrite dans le fichier log.</p>
                                                                                            <p>Il est à noter que, lorsque le contexte est de type en-tête et lignes, on peut filtrer une partie des lignes reliées à un en-tête en définissant des conditions lignes pour ne pas tenir comptes des lignes pour lesquelles la condition est fausse. S'il reste au moins une ligne concernée et que les conditions de l'en-tête sont vraies, le déclenchement se fera quand même.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Gestion</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Activation mail (champ ENAMES)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>
Indicateur permettant d'activer ou non l'envoi des messages indiqués dans <a href="#ON3">l'onglet correspondant</a>. 
                </p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Activation action (champ ENAACT)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>﻿Indicateur permettant d'activer le déclenchement des actions indiquées dans <a href="#ON5">l'onglet correspondant</a>.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Activation suivi (champ ENASUI)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet de définir des règles d'affectation des destinataires de Workflow de façon externe à la règle. Il fait référence à une table de <a href="GESAWR.htm">règles</a>&#160;dans laquelle on définit une liste de champs sur lesquels porteront les critères d'affectation des destinataires.</p>
                                                                                            <p>Une règle est évaluée au moment du déclenchement du Workflow, en fonction du contexte, et renvoie un ou plusieurs utilisateurs définis par un tableau de&#160;variables locales [L]USER, ce qui permet soit de donner une liste de destinataires pour un Workflow donné, soit une chaîne de destinataires dans le cas d'un enchaînement de règles.</p>
                                                                                            <p>Il est important de noter que :</p>
                                                                                            <ul>
                                                                                                <li>lorsqu'une règle d'affectation est définie dans une règle de Workflow, l'ensemble des destinataires est évalué en fonction des critères définis et stocké dans le tableau [L]USER.</li>
                                                                                                <li>lorsqu'aucune règle d'affectation n'est définie, mais que la règle de Workflow est de type <em>Signature</em>, on hérite des valeurs de [L]USER calculées dans l'événement à l'origine de la signature (ces valeurs sont stockées dans l'historique). Si on désire que la règle d'affectation d'origine soit ré-évaluée (parce que des valeurs de critère ont pu changer), il faut renseigner à nouveau cette règle d'affectation dans la règle de Workflow.</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Mise au point (champ DEBUG)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>﻿Indicateur permettant d'activer une aide à la mise au point. Lors de l'exécution d'une règle et si cette option est active, le moteur de workflow émet à l'écran les messages éventuels d'erreur d'évaluation sur les conditions, le log et le message.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Utilisation thème (champ USETHEMEFL)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><a id="ON2"></a>
                                                                <h3 class="g1">Onglet Destinataires</h3>
                                                                <div id="desc_on2" class="ddesc" style="display: block;">
                                                                    <p>Cet onglet permet la saisie de la liste des destinataires des messages ou des notifications. Un destinataire peut être défini comme un utilisateur (on retrouve alors son adresse de messagerie dans la fiche utilisateur), ou comme un tiers (on identifie alors les contacts concernés par leur fonction).</p>
                                                                    <p>Chaque ligne du tableau définit un ou plusieurs destinataires (selon l'<i>option délégués</i> retenue), et ces destinataires peuvent recevoir :</p>
                                                                    <ul>
                                                                        <li>un message</li>
                                                                        <li>une notification impliquant un suivi simple (visa) ou une signature</li>
                                                                        <li>ou les deux</li>
                                                                    </ul>
                                                                    <p>Le groupe de destinataires définis par une ligne de tableau est considéré comme solidaire du point de vue des signatures : il suffit qu'un des membres du groupe ait signé pour que la ligne soit considérée comme signée (le nom du signataire étant propagé dans les signatures en attente pour le groupe).</p>
                                                                    <p>Par contre, s'il y a plusieurs lignes, la signature d'un des destinataires d'une ligne ne se propage pas aux autres lignes. On pourra alors tester, dans un contexte de signature, le nombre de groupes (de lignes) ayant déjà signé, afin de provoquer une mise à jour en tenant éventuellement compte des autres signataires.</p>
                                                                </div>
                                                                <div class="bfields">
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Descriptions des champs</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <div id="on2" class="dfields" xmlns="http://www.w3.org/1999/xhtml">
                                                                                <h4 class="bloctitle">
                                                                                    <p><b><a href="TBL_MGT.htm">Tableau</a><i> Destinataires</i></b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Condition (champ CNDDES)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet de définir une condition logique. Si l'évaluation de cette condition renvoie une valeur fausse (ie. nulle), la ligne de destinataires n'est pas concernée par l'événement.</p>
                                                                                            <p>Il est à noter que l'on dispose, outre des variables liées au contexte de l'événement, du tableau de variables [L]COND, qui permet, sur une ligne donnée, de faire référence à la condition de la ligne numéro N (N étant l'indice).</p>
                                                                                            <p>Ainsi, par exemple, si on exprime une condition sur la première ligne du tableau, et que sur la deuxième ligne, on utilise l'expression :&#160;<em>not [L]COND(1)</em>, cela signifie que les destinataires de la&#160;deuxième ligne seront pris en compte si la condition de la première ligne est fausse.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Type (champ TYPDES)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Dans l'application <b>Sage X3</b>, le destinataire peut être lié à :</p>
                                                                                            <ul>
                                                                                                <li>un code utilisateur (on recherche alors ses coordonnées dans la fiche utilisateur),</li>
                                                                                                <li>un tiers (on saisit sa fonction dans le tableau pour identifier, sur la fiche tiers, quels sont les destinataires concernés).</li>
                                                                                            </ul>
                                                                                            <p>Dans&#160;l'application&#160;<b>Sage HRM</b>, le destinataire peut être lié à :</p>
                                                                                            <ul>
                                                                                                <li>un tiers,</li>
                                                                                                <li>un utilisateur,</li>
                                                                                                <li>un salarié,</li>
                                                                                                <li>un chef,</li>
                                                                                                <li>un circuit hierarchique.</li>
                                                                                            </ul>
                                                                                            <p>Dans l'application <b>Sage Géode</b>, le destinataire peut-être lié à :</p>
                                                                                            <ul>
                                                                                                <li>un utilisateur,</li>
                                                                                                <li>un site,</li>
                                                                                                <li>un déposant,</li>
                                                                                                <li>un transporteur,</li>
                                                                                                <li>un fournisseur,</li>
                                                                                                <li>un client société.</li>
                                                                                            </ul>
                                                                                            <p />
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Destinataires (champ DESTIN)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Fonction (champ FNCDES)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>﻿Cette information n'est saisie que si le type de destinataire est un tiers. Elle fait référence au menu local qui définit les fonctions des interlocuteurs dans la fiche tiers.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Envoi mail (champ ENVOI)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Trois valeurs peuvent être saisies ici, qui concernent les destinataires de la ligne &#160;:</p>
                                                                                            <ul>
                                                                                                <li><em>Non </em>: aucun message ne leur sera envoyé.</li>
                                                                                                <li><em>Oui </em>: un message leur est envoyé en tant que destinataires principaux.</li>
                                                                                                <li><em>Copie</em> : un message leur est envoyé en copie.</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Suivi (champ SUIVI)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Cet indicateur précise si les destinataires de la ligne vont recevoir une notification dans leur plan de travail, selon la valeur saisie&#160;:</p>
                                                                                            <ul>
                                                                                                <li><em>Non </em>:&#160;dans ce cas, aucune notification ne sera disponible dans le plan de travail.</li>
                                                                                                <li><em>Oui</em> : une notification leur sera envoyée, elle pourra être simplement visée, pour signaler que l'utilisateur l'a lue.</li>
                                                                                                <li><em>Avec signature</em> : cette notification devra être signée par un des destinataires de la ligne.</li>
                                                                                            </ul>
                                                                                            <p>Dès lors qu'une notification est envoyée à au moins une des lignes de destinataires, l'onglet <a href="#ON4">Suivi</a>&#160;définit le texte apparaissant dans le suivi, ainsi que les réponses pouvant être apportées en cas de demande de signature.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Natures (<a href="GESADI.htm">champ NATURE</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ peut être utilisé pour classer les lignes de suivi selon leur catégorie. C'est notamment un critère qui peut figurer dans le plan de travail ou être utilisé comme filtre sur un de ses onglets.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Option délégués (champ OPTDEL)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet de préciser la façon dont est géré le fait que le destinataire identifié dans la ligne soit absent (ie. qu'il ait défini un utilisateur délégué pour une période de temps incluant le moment où la règle s'est déclenchée). S'il a défini des utilisateurs délégués <i>Avec pouvoir</i>, la valeur de ce champ définit qui est destinataire de la notification ou du message :</p>
                                                                                            <ul>
                                                                                                <li>S'il vaut <i>Non</i>, seul le destinataire indiqué d'origine est concerné.</li>
                                                                                                <li>S'il vaut <i>Tous</i>, le destinataire&#160; d'origine et tous les utilisateurs définis comme délégués direct du destinataire sont concernés. Le destinataire direct et ses délégués directs peuvent signer.</li>
                                                                                                <li>s'il vaut <i>Cascade</i>, le destinataire d'origine, ses délégués, les délégués de ses délégués, etc... sont concernés. Le destinataire, ses délégués directs, et les délégués de ses délégués peuvent signer.</li>
                                                                                                <li>S'il vaut <i>Premier libre</i>, le premier destinataire qui n'a pas de délégué est concerné. Le destinataire direct ne peut plus signer dans ce cas s'il y a au moins un délégué.</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><a id="ON3"></a>
                                                                <h3 class="g1">Onglet Message</h3>
                                                                <div id="desc_on3" class="ddesc" style="display: block;">
                                                                    <p>Cet onglet permet la définition du contenu du message envoyé aux destinataires concernés. Un message est composé :</p>
                                                                    <ul>
                                                                        <li>d'un champ "objet" (exprimé sous forme d'une <a href="EXPRESSIONS_CALC.htm"><span style="color: #0000ff;">formule adonix</span></a> incluant si nécessaire des constantes, des fonctions, et des variables issues du contexte). Ce contexte est défini plus précisément dans <a href="GES_AWA.htm"><span style="color: #0000ff;">l'annexe technique</span></a> de la documentation.</li>
                                                                        <li>d'un texte principal défini dans le bloc correspondant. On peut y inclure des <a href="EXPRESSIONS_CALC.htm"><span style="color: #0000ff;">formules adonix</span></a> en les encadrant avec des barres verticales. La date courante, par exemple, serait exprimée sous la forme | date$ |, le code de l'utilisateur courant sous la forme | GUSER |. On peut insérer un clob (maximum 5) en écrivant |CLB/<b>CLOB</b>|, où <b>CLOB</b> est une variable de type clob ou expression dont le résultat est un clob.</li>
                                                                        <li>d'un éventuel texte de ligne, correspondant à un sous-détail ligne quand le Workflow est de type <i>en-tête/ligne</i>. Le tableau des lignes associées à chaque en-tête est alors inséré dans le texte principal à l'endroit où la formule |LIG| a été définie.</li>
                                                                        <li>d'éventuels liens permettant de déclencher des signatures par sollicitation d'un serveur http. Ces liens s'écrivent avec des formules de type |SIG/<b>CODE</b>/<b>MESSAGE</b>|, où <b>CODE</b> est le code de la réponse qui va être faite.<br /><br />Ainsi, par exemple, on pourrait écrire :<br />&#160;&#160;&#160; |SIG/VAL/"Pour signer, cliquez sur :"|<br />&#160;&#160;&#160; |SIG/REJ/"Pour refuser, cliquez sur :"|<br />On verrait alors apparaître dans le corps du message :<br />&#160;&#160;&#160; Pour signer, cliquez sur <u>lien déclenchant la signature</u><br />&#160;&#160;&#160; Pour refuser, cliquez sur <u>lien déclenchant le refus</u><br />Ces liens étant bien entendu des liens http variables incluant le contexte nécessaire pour transmettre l'information nécessaire.</li>
                                                                    </ul>
                                                                    <p>Indépendamment de ces éléments, un certain nombre de champs complémentaires définissent les conditions de l'envoi, ainsi que les informations (pièces jointes) qui peuvent être insérées dans le message.</p>
                                                                    <p>Il est nécessaire que le paramètre général <a href="../OBJ/ADP_SUP_TYPMES.htm"><span style="color: #0000ff;">TYPMES</span></a> soit égal à <i><b>Serveur</b></i> pour que des pièces jointes puissent être envoyées. Si ce n'est pas le cas, seule la première pièce jointe est envoyée (ceci est signalé par un message d'avertissement lorsqu'on impose un envoi par <i>Client</i>). Par ailleurs, les pièces jointes doivent être accessibles depuis le serveur d'application (par un chemin réseau si elles ne sont pas stockées dans la base).</p>
                                                                    <p>L'envoi des messages est conditionné par l'utilisation d'une messagerie acceptant l'interface MAPI lors de l'envoi depuis le poste client ou SMTP POP3 lors de l'envoi depuis le serveur (ce qui est le cas de la plupart des messageries du marché).</p>
                                                                    <p>Les destinataires des notifications du Workflow peuvent être paramétrés directement dans la règle, soit par le biais d'un code utilisateur, soit par le biais d'un code tiers et d'un type d'interlocuteur chez le tiers. Mais il est aussi possible de créer des tables multi-critères nommées <a href="GESAWR.htm"><span style="color: #0000ff;">règles d'affectation</span></a>, pour permettre à un utilisateur tiers de définir les destinataires en fonction de valeurs des critères pré-définis.</p>
                                                                </div>
                                                                <div class="bfields">
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Descriptions des champs</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <div id="on3" class="dfields" xmlns="http://www.w3.org/1999/xhtml">
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Message</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Email expéditeur (champ SENDMAIL)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Objet (champ OBJET)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet de de définir le contenu du champ <em>Objet </em>du message envoyé, sous la forme d'une <a href="EXPRESSIONS_CALC.htm">expression calculée</a>&#160;qui sera évaluée au moment du déclenchement de l'événement.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Texte</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Texte (champ TEXTE)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>﻿Ce champ permet de définir le contenu principal du message. Son écriture se fait sous la forme de texte libre incluant des expressions logiques (Formule de calcul) entre deux barres verticales qui tiennent lieu de séparateur. Ainsi, par exemple, on pourra écrire des contenus tels que :</p>
                                                                                            <p>L'événement survenu le | num$(date$) | a donné lieu à cet envoi par | GUSER |</p>
                                                                                            <p>Balises particulières :</p>
                                                                                            <p>"LIG" Permet d'insérer l'expression définie dans le champ "Ligne" de la règle workflow.<br />"CLB/variable clob ou expression"&#160;permet d'insérer le contenu d'un champ clob dans le texte. Ce nombre de balises est limité à 5.<br />"SIG/code réponse/expression texte" permet d'afficher un lien http dans le texte. Le clic sur ce lien déclenche&#160;la réponse de la règle workflow. Ce paramètrage ne peut être opérationnel que si les paramètres généraux superviseur du groupe "WRK" sont correctement renseignés.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Gestion</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Ligne (champ TEXLIG)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>L'<a href="EXPRESSIONS_CALC.htm">expression calculée</a>&#160;saisie dans ce champ est évaluée, au moment du déclenchement de l'événement, pour chaque ligne de détail (dans le cas d'un Workflow de type ligne avec un regroupent des données). Chaque ligne ainsi calculée est insérée dans le corps du message à l'endroit où se trouve la formule |LIG|.</p>
                                                                                            <p>En fonction de la longueur de la ligne, il faut parfois rajouter l'expression "chr$(13)+chr$(10)" dans la formule pour forcer le saut de ligne entre chaque ligne.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Gestion</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Envoi (champ TYPMES)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>
Ce champ permet de préciser si l'envoi doit être fait localement par le poste (en interface MAPI), depuis le serveur (via SMTP), ou indifféremment depuis l'un ou l'autre (auquel cas un paramètre général nommé <a href="../OBJ/ADP_SUP_TYPMES.htm">TYPMES</a>&#160;le définit.
                </p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Icône de retour (champ RETOUR)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ceette case permet, si elle est cochée, d'insérer en pièce jointe, dans le message envoyé, un icône contenant le contexte permettant de rappeler la fiche (par double-clic dessus).&#160; Attention, ceci ne fonctionne que pour une connexion en mode client-serveur.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Fonction de retour (<a href="GESAFC.htm">champ BAKFCT</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Lorsqu'une icône permettant de revenir à Adonix X3 est jointe dans le corps du message, ce champ permet d'indiquer une fonction de retour différente de la fonction ayant déclenché le Workflow.</p>
                                                                                            <p>En Workflow objet, dans le cas de la création ou de la modification d'une fiche, ceci permet, plutôt que de se connecter sur la fiche par défaut, d'aller sur une fiche liée (la fiche de l'utilisateur ayant créé ou modifié l'information qui a déclenché le Workflow, par exemple).</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Clé de lien (champ BAKLNK)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet, si la case à cocher <em>Icône de retour </em>est cochée, de définir la fonction sur laquelle l'utilisateur sera connecté après double-clic sur l'icône incluse dans le message.</p>
                                                                                            <p>Si&#160;la fonction de retour est de type objet, il n'est utile de saisir la fonction que si elle est différente de l'objet d'origine.</p>
                                                                                            <p>Dans la cas d'un Workflow <em>Manuel</em>, le code fonction est obligatoire si l'icône de retour est incluse (il ne peut pas y avoir de valeur par défaut dans ce cas).</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Bloc numéro 6</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Desktop (<a href="GESASW.htm">champ BAKSYRA</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Clé de lien (champ BAKLNKSYRA)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Mobile (<a href="GESASW.htm">champ BAKMOBILE</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Clé de lien (champ BAKLNKMOBI)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Bloc numéro 7</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Message modifiable (champ INTERV)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Cet indicateur permet de rendre le message modifiable avant l'envoi : un écran s'ouvre alors pour saisir des modifications. Ceci n'est&#160;possible que si le déclenchement du Workflow se fait de façon interactive (sinon, la fenêtre ne s'ouvrira pas).</p>
                                                                                            <p>Attention, le fait de cocher cette case provoque l'interruption temporaire du processus de Workflow, puisque l'on est en attente d'une validation de l'utilisateur. Si l'événement de workflow se produit alors qu'une transaction est en cours (ce qui peut être testé par la condition adxlog&lt;&gt;0), tous les autres événements de workflow concurrents sont bloqués par cette saisie. Il est donc fortement recommandé de ne cocher cette case que sur des événements se produisant hors transaction (sauf éventuellement, de façon très temporaire, à des fins de déboguage).</p>
                                                                                            <p>Une bonne façon de s'assurer contre ce risque consiste à ajouter, dans les critères de déclenchement d'un événement de ce type, la condition adxlog=0 (ce qui revient à empêcher le déclenchement d'événements de ce type).</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Groupage par destinataire (champ GRPENV)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Lorsqu'un événement de Workflow crée plusieurs notifications, cette case sert à regrouper les messages créés par&#160;l'événement.</p>
                                                                                            <p>Il y a plusieurs notifications si le Workflow est de type "Ligne", ou s'il s'agit de l'évènement spécial "ANU" (déclenché sur l'annulation de signature).</p>
                                                                                            <p>Les notifications sont regroupées entre elles si elles ont les caractéristiques suivantes en commun :</p>
                                                                                            <ul>
                                                                                                <li>&#160;l'émetteur</li>
                                                                                                <li>le type de serveur</li>
                                                                                                <li>le contexte de retour</li>
                                                                                                <li>l'objet du message</li>
                                                                                                <li>l'accusé de réception</li>
                                                                                                <li>les destinataires</li>
                                                                                                <li>le flag signataire</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Accusé lecture (champ REQREC)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Cette case permet, si elle est cochée, d'envoyer le message en demandant un accusé de réception. Attention, ceci&#160;ne peut fonctionner que si le message est envoyé depuis le poste client, et pas depuis le serveur.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Pièces jointes</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Fichier trace lié (champ TRACE)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Cette case ne peut être cochée que si l'événement déclenchant correspond à la fin d'une tâche batch.</p>
                                                                                            <p>Dans ce cas, si elle est cochée, le fichier&#160;trace associé à la tâche batch va être joint au message envoyé.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Pièce à joindre (champ JOINT)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ&#160;permet d'associer une pièce jointe au message, en donnant un chemin d'accès réseau sous la forme d'une <a href="EXPRESSIONS_CALC.htm">expression calculée</a>&#160;qui sera évaluée au moment du déclenchement de l'événement.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Pièce jointe (champ JOIOBJ)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Quand cette case est cochée, sur un Workflow de type objet, les pièces jointes à la fiche peuvent être envoyées en pièces jointes du message.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Tous types (champ ALLTYPJOI)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet, lorsque la case <em>Tous types </em>n'est pas cochée, de définir un filtre sur le type de pièces jointes à la fiche (table diverse 902) qui doivent être envoyées avec le message.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Type pièce jointe (<a href="GESADI.htm">champ TYPJOI</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Toutes catégories (champ ALLCATJOI)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Cette case n'est saisie que :</p>
                                                                                            <ul>
                                                                                                <li>pour un workflow de type objet</li>
                                                                                                <li>pour lequel la case <em>Pièce jointe</em> est cochée (envoi des pièces jointes à la fiche comme documents liés au message).</li>
                                                                                            </ul>
                                                                                            <p>Si cette case est cochée, toutes les catégories de pièces jointes à la fiche déclenchant le Workflow sont envoyées comme des documents joints au message. Sinon, on saisira la catégorie concernée.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Catégorie (champ CATJOI)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ permet, lorsque des documents joints à une fiche doivent être envoyées en pièce jointe au message, de filtrer les documents liés par leur catégorie (menu local <a href="../MCD/MEN0096.htm">96</a>)</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><a id="ON4"></a>
                                                                <h3 class="g1">Onglet Suivi</h3>
                                                                <div id="desc_on4" class="ddesc" style="display: block;">
                                                                    <p>Cet onglet permet de définir la façon dont les notifications de type <em>Suivi</em> sont faites dans les plans de travail des utilisateurs destinataires, et également les conditions de signature associées, s'il y en a. Ces conditions de signature ne sont applicables que si, dans le tableau des destinataires de <a href="#ON2">l'onglet correspondant</a>, les utilisateurs destinataires sont en suivi <em>Avec signature</em>.</p>
                                                                    <p>On définit alors, sous la forme d'<a href="EXPRESSIONS_CALC.htm">expressions évaluées</a>, le message à faire apparaître dans le plan de travail, et la date limite attendue de signature si une signature est attendue.</p>
                                                                    <p>On trouve ensuite un tableau permettant de préciser les réponses que l'utilisateur pourra faire lors de sa signature, avec la possibilité de mettre directement à jour un champ de la fiche courante lorsque le Workflow est de type <em>Objet</em>.</p>
                                                                    <p>Il est à noter que les éléments évalués dans le tableau des réponses le sont au moment de la signature, alors que les éléments relatifs à la notification ou au message associé le sont au moment du déclenchement du Workflow d'origine. Ceci signifie que le contexte n'est plus exactement le même. Ainsi, dans un contexte Workflow de type objet, on a en ligne:</p>
                                                                    <ul>
                                                                        <li>lors du déclenchement, l'ensemble des variables des écrans et des tables liées à l'objet, ainsi que les tables complémentaires liées à un modèle de données et à une règle d'affectation éventuelles, et les variables globales liées au contexte du signataire (GUSER représente le code de l'utilisateur ayant déclenché l'événement). </li>
                                                                        <li>lors de la signature, on a en ligne l'enregistrement de la table principale de l'objet, ainsi que les tables décrites dans un modèle de données et une règle d'affectation éventuelles, mais on ne dispose plus des écrans en ligne, et les variables globales sont celles du contexte de la signature (GUSER représente alors le code de l'utilisateur qui signe).</li>
                                                                    </ul>
                                                                    <p>Pour permettre de transmettre des valeurs du contexte de déclenchement vers le contexte de signature, on dispose d'un tableau nommé <em>Contexte</em>. Les expressions qui y sont décrites sont évaluées et transmises au moment de la signature sous la forme d'un tableau de variables locales nommées <em>[L]CTX</em>. Ces variables peuvent alors être utilisées dans le paramétrage des plans de travail, dans les conditions et valeurs liées à la signature, et également dans les valeurs et variables liées aux <em>Actions</em> de l'<a href="#ON5">onglet suivant</a>, lorsqu'il s'agit d'action déclenchées lors de la signature.</p>
                                                                </div>
                                                                <div class="bfields">
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Descriptions des champs</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <div id="on4" class="dfields" xmlns="http://www.w3.org/1999/xhtml">
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Texte</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Texte suivi (champ TEXSUI)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ contient une expression évaluée au moment du déclenchement du Workflow. Le résultat de cette évaluation est une chaîne alpahnumérique stockée dans la variable [AWS]TEXSUI. C'est cette valeur qui est normalement présentée dans le moniteur Workflow pour qualifier l'événement à signer.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b>Signature</b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Signature (champ FLGSIG)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Si cette case est cochée, le suivi donne lieu à un processus de signature : on retrouve alors, dans le tableau situé en bas de l'écran, un certain nombre de choix de signature possibles.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Date limite (champ DELSIG)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Dès lors que la case <em>Signature</em> est cochée, il est possible de définir une expression de type date définissant la date au delà de laquelle on considère qu'il y a retard si la signature&#160;n'a pas été faite.</p>
                                                                                            <p>La valeur du champ correspondant est stockée dans le champ DATREL&#160;de&#160;la table des suivis <a href="../MCD/AWRKHISSUI.htm">AWRKHISSUI</a>. Ce champ peut être exploité dans le moniteur Workflow, pour définir un ordre de classement, une mise en valeur par un style particulier (condition de type date$&gt;=[AWS]DATREL+1, par exemple). Mais il peut aussi être exploité pour une gestion de relance des événements en attente de signature, sachant que le champ [AWS]NBREL permet de compter les relances éventuelles faites.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b><a href="TBL_MGT.htm">Tableau</a><i> Contexte</i></b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Contexte (champ VARCTX)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce tableau contient des expressions évaluées au moment du déclenchement d'un Workflow. Ces variables sont :</p>
                                                                                            <ul>
                                                                                                <li>stockées dans l'historique de Workflow (variables VALCTX1 à VALCTX15).</li>
                                                                                                <li>utilisables dans le contexte de signature (tableau de variables CTX(1) à CTX(15)) associé à l'événement originel, ou à un événement de Workflow consécutif à la signature.</li>
                                                                                            </ul>
                                                                                            <p>L'intérêt de ces variables est qu'elles permettent de transmettre des informations qui ne sont pas situées dans les tables à l'origine du contexte déclencheur, et donc qui ne sont pas transmises automatiquement d'un événement à la signature ou à l'événement suivant. En effet, les tables de l'objet, ou celles de la règle d'affectation sont transmises automatiquement; par contre, ne sont pas transmises :</p>
                                                                                            <ul>
                                                                                                <li>des variables globales (les variables GUSER, GFONCTION, GABREV, CLEOBJ, par exemple,&#160;qui définissent respectivement&#160;l'utilisateur courant, la fonction courante, le code de l'objet, et la clé courante&#160;au moment du déclenchement d'un Workflow objet).</li>
                                                                                                <li>des variables liées aux écrans en ligne</li>
                                                                                                <li>des expressions telles que date$, time$... qui qualifient le contexte du déclenchement</li>
                                                                                            </ul>
                                                                                            <p>C'est donc ce type de variable qu'il est intéressant de transmettre via le contexte. Mais il est aussi intéressant de définir dans le contexte des variables transmises par ailleurs dans le contexte, simplement pour savoir les visualiser dans le moniteur de Workflow.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b><a href="TBL_MGT.htm">Tableau</a><i> Réponse</i></b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Réponse (<a href="GESADI.htm">champ ACTSIG</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ fait référence à la table diverse numéro 54, qui définit des choix possibles à la signature (par exemple <em>Validation, Refus</em>). Dans le plan de travail des signatures, un clic droit sur la ligne à signer permettra de proposer parmi la liste des choix issus de cette liste, ceux pour lesquels la condition est vérifiée.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Opération (<a href="GESADI.htm">champ OPESIG</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce code opération, défini par la table diverse 55,&#160;est le code qualifiant la signature réalisée. Il&#160;correspond au code opération utilisé dans un événement de type <em>Signature</em> consécutif à l'événement signé. Il est à noter que plusieurs lignes peuvent porter le même code opération.</p>
                                                                                            <p>Ce code n'est pas stocké dans l'historique de Workflow à l'issue de la signature. C'est en effet la valeur du champ <em>Réponse</em>, qui n'admet pas d'homonymes entre les différentes lignes, qui est stocké).</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Condition (champ CNDSIG)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Cette colonne contient une expression logique évaluée au moment de la signature. Si la condition est réalisée, alors la réponse définie sur la ligne est proposée parmi les choix possibles. Ceci permet, par exemple, de disposer de plusieurs niveaux de signature, en fonction du nombre de signataires ayant déjà signé (seul le dernier signataire ayant accès à une signature qui déclenche une mise à jour finale). De même, il est possible de définir un choix apparemment impossible (par une condition toujours fausse de type 1=0). Ce choix pourra être forcé par une action de signature déclenchée par un autre événement de Workflow. C'est ainsi que sont traités, dans des paramétrages standards, des escalades dans les processus de signature.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Motif (<a href="GESADV.htm">champ REANUM</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Cette colonne permet d'indiquer un numéro de table diverse contenant des motifs de réponse. <br />Si elle est renseignée,&#160;un&#160;motif de réponse sera demandé à la signature de l'évènement.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Champ mis à jour (champ FLDMAJ)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Cette colonne contient le nom d'un champ issu d'une des tables du contexte déclencheur. Ce champ va être mis à jour par la valeur calculée à partir de l'expression suivante, lors du processus de signature. Ainsi on peut, par exemple, mettre à jour un champ tel que ENAFLG (indicateur <em>Actif</em>) de l'objet courant lors d'un processus de signature.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Valeur (champ EXPVAL)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Cette colonne permet de définir l'expression d'une valeur calculée au moment de la signature. La valeur correspondant à la ligne de réponse choisi sera utilisée, en cas de signature :</p>
                                                                                            <ul>
                                                                                                <li>soit pour mettre à jour le champ défini dans la colonne précédente avec cette valeur.</li>
                                                                                                <li>soit lors du déclenchement d'éventuelles actions définies dans l'<a href="#ON5">onglet suivant</a>. Dans ce cas, on retrouve la valeur correspondante dans la variable alphanumérique [L]RESULT.</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Modifiable (champ MODSIG)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Si ce champ vaut <em>Oui</em>, la valeur calculée dans la colonne correspondante est proposée, après le choix de la signature, afin de permettre une éventuelle modification. Ceci permet par exemple de saisir un modif détaillé. La valeur résultant de la saisie sera utilisée pour réaliser la mise à jour s'il y en a une, et transmise à la variable [L]RESULT pour exploitation par une action complémentaire.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div><a id="ON5"></a>
                                                                <h3 class="g1">Onglet Action</h3>
                                                                <div id="desc_on5" class="ddesc" style="display: block;">
                                                                    <p>Cet onglet décrit, dans un premier tableau, une liste d'actions qui peuvent être déclenchées lors du déclenchement de l'événement ou lors de la phase de signature. Ceci permet d'appeler soit des actions standards prédéfinies à cette fin (on en trouvera une liste dans l'<a href="AWA_ACT.htm">annexe technique</a> correspondante), soit des actions spécifiques. Il est à noter que l'action en question n'est appelée que si la condition d'exécution est réalisée.</p>
                                                                    <p>Le tableau situé en dessous est automatiquement chargé avec la liste des paramètres de l'action, afin de permettre de saisir en regard une liste d'expressions évaluées dans le contexte et transmises (soit comme des valeurs, soit comme des pointeurs : dans ce dernier cas, les valeurs de retour sont utilisables dans la suite).</p>
                                                                </div>
                                                                <div class="bfields">
                                                                    <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Descriptions des champs</a></span>
                                                                        <div class="MCDropDownBody dropDownBody">
                                                                            <div id="on5" class="dfields" xmlns="http://www.w3.org/1999/xhtml">
                                                                                <h4 class="bloctitle">
                                                                                    <p><b><a href="TBL_MGT.htm">Tableau</a><i> Action</i></b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Code action (<a href="GESACT.htm">champ ACTION</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ contient un <a href="GESACT.htm">code action</a>&#160;dont l'exécution peut être déclenchée si les conditions sont remplies. Il est à noter que cette action doit avoir la case <em>Workflow</em> cochée, et que par conséquent elle ne peut pas interagir avec l'interface utilisateur (pas de fenêtre associée).</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Déclenchement (champ DECACT)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>Ce champ, dont les valeurs sont définies par le menu local <a href="../MCD/MEN2923.htm">2923</a>, définit les conditions de déclenchement du Workflow. Les valeurs suivantes sont utilisables :</p>
                                                                                            <ul>
                                                                                                <li><em>Début Workflow</em> : l'action est déclenchée en début de constitution du texte du&#160;message. Lorsque le Workflow est de type <em>Ligne</em>, elle n'est exécutée qu'une fois par en-tête, avant la constitution du texte d'en-tête. Les variables retournées par l'action peuvent être utilisées dans le texte du mail (mais plus pour définir les destinataires ou les conditions de l'envoi, qui sont déjà évalués à ce stade).</li>
                                                                                                <li><em>Fin Workflow</em> : l'action est déclenchée après l'envoi du message. Lorsque le Workflow est de type <em>Iligne</em>, cette action n'est exécutée qu'une fois par groupe de lignes.</li>
                                                                                                <li><em>Avant Ligne</em> : l'action est déclenchée avant la lecture de la première ligne, lorsqu'on a un Workflow de type en-tête et lignes. Ceci permet par exemple d'initialiser des variables de cumul pour obtenir un total des lignes, le cumul étant réalisé dans une action <em>Ligne</em>.</li>
                                                                                                <li><em>Ligne</em> : l'action est déclenchée juste avant la constitution de chaque ligne de message, dans le cas d'un Workflow de type ligne. Les variables retournées par l'action peuvent donc être utilisées dans le texte ligne.</li>
                                                                                                <li><em>Signature</em> : l'action est déclenchée après la saisie de la signature (la variable [L]RESULT issue de cette saisie est donc connue), mais avant la mise à jour (on peut modifier cette valeur durant l'action). Dans le cas d'une signature, toutes les mises à jour sont réalisées dans une seule transaction. Ainsi, si un <em>Rollback</em> est réalisé dans une des actions déclenchées par l'événement, on revient à la situation de départ pour toutes les&#160;mises à jour faites.</li>
                                                                                            </ul>
                                                                                            <p>Dans le cas général, du point de vue transactionnel, il faut noter que l'action fait partie de la transaction de Workflow du message (si un <em>Rollback </em>est fait lors de la constitution du message, les mises à jour faites dans l'action sont affectées). Une transaction indépendante est faite pour le suivi (mais cette transaction étant réalisée ensuite, les valeurs retournées par l'action peuvent être utilisées.</p>
                                                                                            <p>Dans le cas particulier du Workflow sur objet, tout est fait dans une seule transaction. Autrement dit, si la création ou la modification d'une fiche échoue, un <em>Rollback</em> est fait sur l'ensemble des mises à jour déclenchées par les actions.</p>
                                                                                            <p>Il en est de même pour le suivi : la transaction qui suit la saisie du suivi inclut le déclenchement des actions.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Condition d'exécution (champ CONACT)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>On saisit ici une expression logique, évaluée dans le contexte de déclenchement de l'action. Si le résultat de l'évaluation est vrai (ie. non nul), l'action est déclenchée. Si le résultat est faux, l'action&#160; n'est pas déclenchée. Si aucune expression n'est saisie, l'action est toujours déclenchée.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                                <h4 class="bloctitle">
                                                                                    <p><b><a href="TBL_MGT.htm">Tableau</a><i> Paramètres</i></b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Paramètre (<a href="GESAAR.htm">champ PARAM</a>)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Type (champ TYPPAR)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Retour (champ ADRVAL)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Valeur paramètre (champ PARVAL)</b>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                            <p>On saisit ici une expression évaluée qui est transmise comme argument à l'action, ou le code d'une variable qui contiendra une valeur de retour (si l'argument est de type <em>Pointeur</em>). Toutes les variables du contexte de Workflow peuvent être utilisées ici.</p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="stdBloc"><a id="BOU_70_10"></a>
                                                                <h2 class="g1" id="Boutonsspécifiques" data-magellan-target="Boutonsspécifiques">Boutons spécifiques</h2>
                                                                <div class="links">
                                                                    <ul>
                                                                        <li><a href="#BOU_70_20">Validation</a>
                                                                        </li>
                                                                        <li><a href="#BOU_70_30">Copie</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                                <table style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" class="TableStyle-NormalRows" cellspacing="0">
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td valign="top" class="TableStyle-NormalRows-BodyE-Column1-Body2"><a id="BOU_70_20"></a>
                                                                            <p><b>Validation </b>
                                                                            </p>
                                                                        </td>
                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Ce bouton permet de générer et de compiler le traitement automatique associé à l'événement de Workflow. Ce traitement est codifié par les caractères WMK suivis du code du Workflow. Comme la validation se fait de façon automatique à l'enregistrement ou à la modification d'un Workflow, ce bouton n'est utile que pour valider un événement qui aurait été transféré par copie depuis un autre dossier.</p>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                                <table style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" class="TableStyle-NormalRows" cellspacing="0">
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td valign="top" class="TableStyle-NormalRows-BodyD-Column1-Body2"><a id="BOU_70_30"></a>
                                                                            <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Copie</a></span>
                                                                                <div class="MCDropDownBody dropDownBody">
                                                                                    <p xmlns="http://www.w3.org/1999/xhtml">Ce bouton permet de copier un événement Workflow <a href="COP_DOS.htm">vers un autre dossier</a>, simplement en donnant son code. Dans la boîte qui s'ouvre, une case à cocher permet de réaliser le transfert vers tous les dossiers définis dans la table des dossiers courante.</p>
                                                                                    <div id="bou_70_30" class="dfields" xmlns="http://www.w3.org/1999/xhtml">
                                                                                        <h4 class="bloctitle">
                                                                                            <p><b>Bloc numéro 1</b>
                                                                                            </p>
                                                                                        </h4>
                                                                                        <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                            <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>champ OBJET</b>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                            </tr>
                                                                                            <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>champ CLES</b>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body1" />
                                                                                            </tr>
                                                                                        </table>
                                                                                        <h4 class="bloctitle">
                                                                                            <p><b>Bloc numéro 2</b>
                                                                                            </p>
                                                                                        </h4>
                                                                                        <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" cellspacing="0">
                                                                                            <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Depuis le dossier (champ DOSORG)</b>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                                    <p>﻿Ce champ permet de définir le dossier à partir duquel la fiche va être copiée. Les syntaxes possibles sont décrites dans <a href="COP_DOS.htm">l'annexe dédiée</a>.</p>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Tous dossiers (champ TOUDOS)</b>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                                    <p>Cette option permet de copier la fiche&#160;vers tous les dossiers définis dans le dictionnaire (table <a href="../MCD/ADOSSIER.htm">ADOSSIER</a> de la solution courante).</p>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body2"><b>Vers le dossier (champ DOSDES)</b>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <tr class="TableStyle-NormalRows-Body-Body1">
                                                                                                <td class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                                                    <p>﻿Ce champ permet de définir le dossier dans lequel la fiche&#160;va être copiée. Les syntaxes possibles sont décrites dans <a href="COP_DOS.htm">l'annexe dédiée</a>.</p>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div data-mc-conditions="Other.Production only">
                                                <div id="feedback-survey">
                                                    <div class="feedback-question">
                                                        <h4>Did you find this helpful?</h4>
                                                        <p>
                                                            <button class="feedback-button feedback-yes" title="Yes, this article was helpful." alt="Yes, this article was helpful.">Yes</button>&#160;<button class="feedback-button feedback-no" title="No, this article wasn't helpful." alt="No, this article wasn't helpful.">No</button></p>
                                                    </div>
                                                    <div class="feedback-reason no">
                                                        <hr />
                                                        <div class="highlightBox">
                                                            <h4>Sorry about that</h4>
                                                            <p>Why wasn't this helpful? (check all that apply)</p>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option1" value="Couldn't find what I was looking for" data-analytics-label="Could not find" />
                                                                <label for="option1">Couldn't find what I was looking for</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option2" value="Instructions confusing or unclear" data-analytics-label="Confusing or unclear" />
                                                                <label for="option2">Instructions confusing or unclear</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option3" value="Instructions didn't work" data-analytics-label="Did not work" />
                                                                <label for="option3">Instructions didn't work</label>
                                                            </div>
                                                            <div class="feedback-reason no-thanks">
                                                                <p><b>Thanks for your feedback.</b>
                                                                </p>
                                                                <h4>Want to tell us more?</h4>
                                                                <p>Send an email to our authors to leave your feedback.</p>
                                                                <!--email_off-->
                                                                <p><a href="mailto:Sage200TechnicalAuthors@sage.com?subject=Sage 200 feedback" id="feedbackEmailLink" title="Tell us if there's a problem with the information on this page." alt="Tell us if there's a problem with the information on this page." class="sageButton">Email our authors</a>
                                                                </p>
                                                                <!--/email_off-->
                                                                <p>Sorry, but we can't provide technical support from this email address. If you need assistance, then please contact our support team directly.</p>
                                                            </div>
                                                        </div>
                                                        <div id="get-in-touch" class="highlightBox colour-dark-1">
                                                            <h4>Need support?</h4>
                                                            <p>You can contact our support team on <b>0845 111 5555</b>, 9am-5pm Monday-Friday.</p>
                                                        </div>
                                                    </div>
                                                    <div class="feedback-reason yes-thanks">
                                                        <hr />
                                                        <h4>Great!</h4>
                                                        <p>Thanks for taking the time to give us some feedback.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="sage-layout-topic-panel">
                                            <div class="menu-topic-container" id="menu-on-page">
                                                <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 1280px)" class="nocontent menu _Skins_Sage_Menu_Topic_TopNav mc-component">
                                                    <li><a href="#R%C3%A8glesWorkflow">Règles Workflow</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#Pr%C3%A9requis">Pré-requis</a>
                                                        </li>
                                                        <li><a href="#Gestiondel%C3%A9cran">Gestion de l'écran</a>
                                                        </li>
                                                        <li><a href="#Boutonssp%C3%A9cifiques">Boutons spécifiques</a>
                                                        </li>
                                                    </ul>
                                                </ul>
                                            </div>
                                        </div>
                                    </section>
                                    <button class="go-to-top">
                                        <!-- icon and label are inserted -->
                                    </button>
                                    <section class="sage-footer colour-dark-1" id="footer" role="contentinfo">
                                        <div class="row">
                                            <div class="small-6 medium-3 columns">
                                                <h5>Site links</h5>
                                                <p><a href="../Sitemap.htm" class="MCXref xref">Sitemap</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage links</h5>
                                                <p><a href="https://my.sage.co.uk/public/help.aspx" target="_blank" class="external">Sage Support Hub</a>
                                                </p>
                                                <p><a href="https://communities.sage.co.uk/product_support_community/" class="external" target="_blank" title="Your place to get product support from other customers and Sage experts" alt="Your place to get product support from other customers and Sage experts">Product support community</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/gdpr/" class="external" target="_blank">General Data Protection Regulation</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/legal/" class="external" target="_blank">Legal information</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Page info</h5>
                                                <p>Page updated: <span class="mc-variable Dates.DateFileSaved variable">23 janvier 2024</span></p>
                                                <!-- script moves last published date to here -->
                                                <div id="last-published-footer">
                                                </div>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage media</h5>
                                                <p><a href="https://www.facebook.com/sageuk" target="_blank" alt="Find us on Facebook" title="Find us on Facebook"><i class="fa fa-lg fa-facebook" aria-hidden="true"></i></a>&#160;
						<a href="https://www.linkedin.com/company/sage-software" target="_blank" alt="Find us on LinkedIn" title="Find us on LinkedIn"><i class="fa fa-lg fa-linkedin" aria-hidden="true"></i></a>&#160;
						<a href="https://twitter.com/sageuk/" target="_blank" alt="Find us on Twitter" title="Find us on Twitter"><i class="fa fa-lg fa-twitter" aria-hidden="true"></i></a>&#160;
						<a href="https://www.youtube.com/user/SageUKOfficial" target="_blank" alt="Find us on YouTube" title="Find us on YouTube"><i class="fa fa-lg fa-youtube" aria-hidden="true"></i></a></p>
                                            </div>
                                        </div>
                                    </section>
                                    <!-- Skin type scripts -->
                                    <script type="text/javascript" src="../Resources/Scripts/SideNav-template.js" data-mc-conditions="Other.HTML5-SideNav">
                                    </script>
                                    <!-- Google Analytics -->
                                    <div data-mc-conditions="Other.Production only">
                                        <!-- Google analytics script -->
                                        <!-- Copy and paste full HTML of tracking code here for Global site tag (gtag.js) -->
                                        <!-- Remember to edit 'async' parameter to read async="" -->
                                        <!-- Analytics for events -->
                                        <script type="text/javascript" src="../Resources/Scripts/google-analytics-events.js">
                                        </script>
                                    </div>
                                    <!-- cookies -->
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.js">
                                    </script>
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.config.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>