<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="es-es" xml:lang="es-es" class="_Skins_Sage_Skin_SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="Página de inicio|Ayuda del producto|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]|[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="author" content="ADONIX" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="keywords" content="Reglas,Workflow,Objeto" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="description" content="Reglas Workflow" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="module" content="Supervisor" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="robots" content="all" xmlns="http://www.w3.org/1999/xhtml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Reglas Workflow</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Sage.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/Stylesheets/font-awesome.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: #000000 url('../../Skins/Default/Stylesheets/Images/60x60_globe_white-on-transparent_icon.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="stylesheet" type="text/css" media="all" href="../Resources/Images/ADXHelp_main.css" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Atrás" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Saltar a contenido principal</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Cuenta</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Configuración</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Cerrar sesión</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Mostrar panel de navegación" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Home.htm" alt="Logotipo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Cuenta</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Configuración</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Cerrar sesión</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Campo de búsqueda" placeholder="Buscar" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filtro:</span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Filtro de búsqueda" title="Todos los archivos" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">Todos los archivos</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Buscar" role="button" tabindex="0"><span class="invisible-label">Enviar búsqueda</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <script type="text/javascript">/*<![CDATA[*/$(document).ready(function(){
			$("#selectlang").appendTo("div.central-account-wrapper");
		});/*]]>*/</script>
                                    <div id="selectlang" class="headerlang">
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Language_toggle mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie select-language-button" title="Cambiar idioma">
                                                    <div>
                                                        <div role="img" class="button-icon-wrapper" aria-label="Cambiar idioma">
                                                            <div class="button-icon"> </div>
                                                        </div>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="sage-header-title">
                                        <img id="sage-header-logo" src="../Resources/Images/Sage_logo_green.svg" alt="Sage" /><span id="sage-header-product-name"><span id="sage-header-product"><span class="mc-variable Sage-Product.ProductName variable">X3 Warehousing</span></span></span>
                                    </div>
                                    <section class="sage-topic-body sage-layout-two-columns">
                                        <div class="sage-layout-topic-main">
                                            <div class="nocontent">
                                                <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Rutas de navegación" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="10" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">Menu: </span>
                                                </div>
                                            </div>
                                            <div role="main" id="mc-main-content">
                                                <div id="container" xmlns="http://www.w3.org/1999/xhtml">
                                                    <div id="pageHeader">
                                                        <h1 class="g1" id="ReglasWorkflow" data-magellan-target="ReglasWorkflow"><span>Reglas Workflow</span>
                                                        </h1>
                                                    </div>
                                                    <div id="intro">
                                                        <div id="presentation">
                                                            <p>Las reglas de Workflow permiten definir la ejecución de un cierto número de acciones cuando eventos particulares ocurren en las aplicaciones Sage X3.</p>
                                                            <p>Las acciones posibles son:</p>
                                                            <ul>
                                                                <li>el envío de mensajes por medio de la mensajería </li>
                                                                <li>la aparición de notificaciones en los planes de trabajo</li>
                                                                <li>la actualización de datos mediante la ejecución de acciones, ya sea directamente en el momento en que se produce el evento, o posteriormente, cuando el o los destinatarios de la notificación hayan reaccionado (acción de vista o de firma en el <a href="SAIWRKPLN.htm">plan de trabajo</a>, haciendo clic en un enlace del mensaje, doble clic para conectarse a un contexto asociado y realizar las actualizaciones manualmente)</li>
                                                            </ul>
                                                            <p>Los datos procedentes del contexto de desencadenamiento podrán ser utilizados en los mensajes, las notificaciones, las acciones. </p>
                                                            <p>Los eventos en el origen de una regla de Workflow pueden ser diversos:</p>
                                                            <ul>
                                                                <li>acción del usuario en una gestión de objeto (creación, modificación, desencadenamiento de una acción)</li>
                                                                <li>ejecución de una tarea batch, de una importación, de una edición. </li>
                                                                <li>acción de firma en una notificación anterior (en este caso, pueden existir circuitos complejos de firma imbricados)</li>
                                                                <li>proceso batch con barrido a un conjunto de tablas de la base</li>
                                                            </ul>
                                                            <p>El envío de los mensajes está condicionado por la utilización de un servicio de mensajería que acepta la interfaz MAPI en el envío desde el puesto cliente o SMTP POP3 en el envío desde el servidor (caso de la mayoría de los servicios de mensajería del mercado).</p>
                                                            <p>Los destinatarios de las notificaciones del Workflow pueden ser parametrizados directamente en la regla, ya sea por un código de usuario, o por un código de tercero y de un tipo de interlocutor en el tercero. Pero también es posible crear tablas multi-criterios denominadas  <a href="GESAWR.htm">reglas de asignación</a> para permitir a un usuario tercero definir los destinatarios en función de valores de criterios predefinidos. </p>
                                                        </div>
                                                    </div>
                                                    <div id="supportingText">
                                                        <div class="stdBloc"><a id="PRQ"></a>
                                                            <h2 class="g1" id="Requisitos" data-magellan-target="Requisitos">Requisitos</h2>
                                                            <div class="links">
                                                            </div>
                                                            <p>
                                                                <img src="../Resources/Images/SEEREFERTTO" alt="SEEREFERTTO" keeps="true" realloc="SEEREFERTTO" /> Consulta la documentación de  <a href="PRQ_AFC_GESAWA.htm#PRQ">Puesta en marcha</a></p>
                                                            <div class="stdBloc"><a id="ECR"></a>
                                                                <h2 class="g1" id="GestióndePantalla" data-magellan-target="GestióndePantalla">Gestión de Pantalla</h2>
                                                                <div class="links">
                                                                    <ul>
                                                                        <li><a href="#ENT">Cabecera</a>
                                                                        </li>
                                                                        <li><a href="#ON1">Pestaña General</a>
                                                                        </li>
                                                                        <li><a href="#ON2">Pestaña Destinatarios</a>
                                                                        </li>
                                                                        <li><a href="#ON3">Pestaña Mensaje</a>
                                                                        </li>
                                                                        <li><a href="#ON4">Pestaña Seguimiento</a>
                                                                        </li>
                                                                        <li><a href="#ON5">Pestaña Acción</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                                <p>La pantalla de parametrización de las reglas de Workflow se compone de 5 pestañas, de las cuales las 3 primeras definen la parametrización de base (basta con rellenar los campos esenciales de estas tres pestañas en los casos simples de notificación), y las dos siguientes sirven para realizar una parametrización avanzada:</p>
                                                                <ul>
                                                                    <li>La primera pestaña permite definir el contexto de desencadenamiento de la regla. </li>
                                                                    <li>La segunda aporta la lista de destinatarios del mensaje o de las notificaciones. </li>
                                                                    <li>La tercera permite capturar el cuerpo del mensaje, cuando éste debe enviarse, así como la descripción de los documentos adjuntos, si los hubiera. </li>
                                                                    <li>La cuarta permite definir las posibles condiciones de firma, puesto que una regla de Workflow supone un encadenamiento de etapas posteriores y un proceso de firma. </li>
                                                                    <li>La quinta se utiliza si es necesario desencadenar acciones particulares (por acción se entiende un sub-programa normalizado, o sea predefinido y documentado, como por ejemplo las acciones asociadas al compromiso de un presupuesto, o sea específicas, realizadas por un integrador para responder a una necesidad particular).</li>
                                                                </ul>
                                                                <p />
                                                                <p />
                                                                <p /><a id="ENT"></a>
                                                                <h3 class="g1">Cabecera</h3>
                                                                <div id="desc_ent" class="ddesc" style="display: block;">
                                                                    <p>Una regla se identifica por medio de un código, pero se le puede asociar, por motivos de organización, una categoría definida en una tabla varia. Éstos son los datos que obtenemos en la cabecera de la pantalla. </p>
                                                                </div>
                                                                <div class="bfields">
                                                                    <div id="ent" class="dfields">
                                                                        <h4 class="bloctitle">
                                                                            <p><b>Bloque Número 1</b>
                                                                            </p>
                                                                        </h4>
                                                                        <table class="fld1">
                                                                            <tr>
                                                                                <td>
                                                                                    <ul>
                                                                                        <li class="fld">Código (<a href="#" class="selected">campo CODE</a>)</li>
                                                                                    </ul>
                                                                                </td>
                                                                            </tr>
                                                                            <td>
                                                                                <p>
Este campo identifica la regla de Workflow.   
                </p>
                                                                            </td>
                                                                            <tr>
                                                                                <td>
                                                                                    <ul>
                                                                                        <li class="fld">Descripción (campo INTIT)</li>
                                                                                    </ul>
                                                                                </td>
                                                                            </tr>
                                                                            <td>
                                                                                <p>Permite definir un título asociado a cada ficha.</p>
                                                                            </td>
                                                                        </table>
                                                                        <h4 class="bloctitle">
                                                                            <p><b>Bloque Número 2</b>
                                                                            </p>
                                                                        </h4>
                                                                        <table class="fld1">
                                                                            <tr>
                                                                                <td>
                                                                                    <ul>
                                                                                        <li class="fld">Categoría (<a href="GESADI.htm">campo CATEG</a>)</li>
                                                                                    </ul>
                                                                                </td>
                                                                            </tr>
                                                                            <td>
                                                                                <p>
Este campo permite agrupar reglas de workflow según su tipología.    
                </p>
                                                                            </td>
                                                                            <tr>
                                                                                <td>
                                                                                    <ul>
                                                                                        <li class="fld">Activo (campo ENAFLG)</li>
                                                                                    </ul>
                                                                                </td>
                                                                            </tr>
                                                                            <td>
                                                                                <p>
Si esta casilla no está marcada, la regla de Workflow no se desencadenará.  
                </p>
                                                                            </td>
                                                                        </table>
                                                                    </div><a id="ON1"></a>
                                                                    <h3 class="g1">Pestaña General</h3>
                                                                    <div id="desc_on1" class="ddesc" style="display: block;">
                                                                        <p>Esta pestaña define el contexto de desencadenamiento, dado por un tipo de evento y un código asociado, así como, en ciertos casos, los códigos de operación complementarios. También aparece un cuadro de condiciones: éstas deben ser verificadas para que la regla se desencadene. Para ciertos eventos que tienen influencia sobre los datos organizados según un esquema en cabecera de líneas, se precisará a qué nivel afecta cada una de las condiciones.</p>
                                                                        <p>También se puede asociar una regla a un <a href="GESAWM.htm">modelo de datos</a>, que describe un conjunto de tablas complementarias que serán leídas mientras se prueba la regla. En el caso de una regla de tipo <em>Manual</em>, este modelo de datos es obligatorio, ya que el único contexto existente está asociado al modelo. En el caso de las reglas asociadas a objetos o a eventos varios, este modelo es opcional y permite simplemente completar las tablas en línea. </p>
                                                                        <p>En función del tipo de regla y del modelo que tiene asociado, podrá definirse si el workflow se refiere a los datos de cabecera o a los datos de línea. En este caso, se definirá cómo se agrupan las líneas. </p>
                                                                        <p>Se puede aportar una <a href="GESAWR.htm">regla de asignación</a> para definir la forma en que se definirán los destinatarios del mensaje. Una regla de este tipo puede dar como resultado uno o varios destinatarios. Los destinatarios en cuestión podrán recibir la notificación procedente de la regla, o ser transmitidos a una regla siguiente, en el caso de firmas encadenadas. </p>
                                                                        <p>En el anexo técnico hay información sobre el contexto de ejecución. </p>
                                                                    </div>
                                                                    <div class="bfields">
                                                                        <div id="on1" class="dfields">
                                                                            <h4 class="bloctitle">
                                                                                <p><b>Evento desencadenante</b>
                                                                                </p>
                                                                            </h4>
                                                                            <table class="fld1">
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Tipo evento (campo TYPEVT)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>El tipo de evento Workflow puede tomar los siguientes valores:</p>
                                                                                    <ul>
                                                                                        <li><em>Objeto</em>: estamos en una función de tipo <a href="GESAOB.htm">objeto</a> (gestión de una ficha en creación, modificación, duplicación, supresión, etc.). El código de evento corresponde al código del objeto. </li>
                                                                                        <li><em>Entrada función</em>: se desencadena la regla al entrar en una función de la aplicación. El código de evento corresponde al código de la función (un objeto con código <em>XXX</em> corresponde a la función <em>GESXXX</em>; este tipo de evento también puede utilizarse para los objetos).</li>
                                                                                        <li><em>Edición</em>: se lanza un informe, cuyo código puede especificarse en el campo código evento. </li>
                                                                                        <li><em>Fin de tarea</em>: se desencadena un Workflow al final de la tarea batch, cuyo código corresponde al código de evento (es necesario que la tarea batch en cuestión tenga la casilla <em>Mensaje usuario</em> marcada, en caso contrario no funcionará : si no es el caso, aparecerá un mensaje de aviso, sin que esto impida la captura).</li>
                                                                                        <li><em>Parado de la tarea</em>: esta regla de Workflow se desencadena cuando un usuario decide, desde la supervisión de las tareas, detener una tarea batch cuyo código corresponde al código de evento. Se envía entonces una solicitud de parada al servidor batch, y es éste el que detiene la tarea. Teniendo en cuenta el contexto de ejecución de este evento, las posibilidades de desencadenamiento están limitadas. Así:</li>
                                                                                        <ul>
                                                                                            <li>las variables de entorno habituales no están disponibles (GUSER por ejemplo), sólo lo está el registro actual en la tabla <a href="../MCD/ABATRQT.htm">ABATRQT</a> de abreviatura [ABR].</li>
                                                                                            <li>sólo se puede enviar un mensaje por la mensajería (no se pueden actualizar las tablas de seguimiento).</li>
                                                                                        </ul>
                                                                                        <li><em>Importación/Exportación</em>: este tipo de eventos se desencadenan al inicio (y/o al final) de la importación (y/o de la exportación), y el código de evento permite precisar el modelo utilizado. </li>
                                                                                        <li><em>Firma</em>: esta regla se desencadena en el momento de la firma de una regla anterior, cuyo código puede venir dado por el código de evento. </li>
                                                                                        <li><em>Manual</em>: esta regla se desencadena por el barrido de un conjunto de tablas descritas en el modelo de datos. Este recorrido se desencadena por una <a href="SAIWRKMAN.htm">operación manual</a>, que puede ser lanzada en batch. Esto permite desencadenar las reglas Workflow vinculadas a las modificaciones de campos en la base (la regla recorre las tablas de auditoría).</li>
                                                                                        <li><em>Varios</em>: esta regla se desencadena por eventos particulares identificados por una lista definida de códigos de eventos. Estos eventos pueden ser bien genéricos para todas las aplicaciones escritas en tecnología safe (por ejemplo conexión, desconexión...), o bien depender de una función propia a la aplicación utilizada. Se encuentra la lista de los eventos genéricos en un <a href="AWA_DIV_SUP.htm">primer anexo de documentación</a>, y la lista de los eventos propios a cada aplicación en un segundo <a href="AWA_DIV.htm">segundo anexo de documentación</a>.</li>
                                                                                    </ul>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Código evento (campo CODEVT)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>Este campo permite precisar el contexto desencadenante según el tipo definido con anterioridad:</p>
                                                                                    <ul>
                                                                                        <li>para un tipo <em>Objeto</em>, se aporta el código del objeto que corresponde.</li>
                                                                                        <li>para un tipo <em>Entrada función</em>, se aporta el código de la función. </li>
                                                                                        <li>para un tipo <em>Edición</em>, se aporta el código del informe.</li>
                                                                                        <li>para un tipo <em>Fin de tarea</em> o <em>Parada de tarea</em>, se aporta el código de la tarea batch.</li>
                                                                                        <li>para un tipo <em>Importación/Exportación</em>, se aporta el modelo de importación/exportación utilizado.</li>
                                                                                        <li>para un tipo <em>Firma</em>, se aporta el código de la regla en el origen de la solicitud de firma.</li>
                                                                                        <li>Para un tipo <em>Manual</em>, el código no está capturado.</li>
                                                                                        <li>Para un tipo <em>Vario</em>, se aporta el código que identifica el evento vario en el origen del desencadenamiento de la regla.</li>
                                                                                    </ul>
                                                                                    <p>Este campo sólo es obligatorio para el tipo de evento <em>Vario</em>. Si no está indicado, el evento se desencadena de forma genérica, sabiendo que siempre es posible probar con anterioridad el contexto para ser selectivo (gracias a las variables GFONCTION, GOLDETAT...)</p>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">campo LIBEVT</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>
Título asociado al código introducido en la rúbrica anterior.  
                </p>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Operaciones (campo OPERATION)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>Este campo permite precisar de forma más afinada el contexto de ejecución de la regla de Workflow. Según los tipos de Workflow, los datos capturados son diferentes:</p>
                                                                                    <ul>
                                                                                        <li>Para un tipo <em>Objeto</em>, se captura una serie de códigos que permiten definir las operaciones estándares (M para modificación, C para creación, etc&lt;.) y particulares para un objeto si éste está especificado (botones y elementos de menús) que provocan el desencadenamiento del evento. Es obligatorio al menos un código de operación. </li>
                                                                                        <li>Para un tipo <em>Firma</em>, se captura el código de operación adjunto a la respuesta del proceso de firma. </li>
                                                                                        <li>Para un tipo <em>Importación/Exportación</em>, se precisa mediante una lista de 4 códigos máximo si el desencadenamiento de la regla debe realizarse al inicio y/o al fin, y si afecta a las operaciones de importación/exportación. </li>
                                                                                        <li>Para el resto de tipos, este campo no está capturado. </li>
                                                                                    </ul>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Fin de transacción (campo TYPDEC)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>En caso de modificación de una ficha de un objeto simple, el Workflow puede desencadenarse antes de la actualización de las tablas (lo que permite definir los criterios para las clases [F] y [M]) o al final de la transacción de modificación (después de la actualización de las tablas)).</p>
                                                                                </td>
                                                                            </table>
                                                                            <h4 class="bloctitle">
                                                                                <p><b>Bloque Número 4</b>
                                                                                </p>
                                                                            </h4>
                                                                            <table class="fld1">
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Modelo de datos (<a href="GESAWM.htm">campo MODELE</a>)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>Aquí se puede indicar un <a href="GESAWM.htm">modelo de datos</a> que define un conjunto de tablas vinculadas que deben estar disponibles en el contexto del Workflow. En caso de ser un evento de tipo <em>Manual</em>, este código es obligatorio para definir el contexto de ejecución; en otros casos, permite simplemente completar este contexto. </p>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Regla de asignación (<a href="GESAWR.htm">campo REGLE</a>)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>Este campo permite definir las reglas de asignación de los destinatarios de Workflow de forma externa a la regla. Hace referencia a una tabla de <a href="GESAWR.htm">reglas</a> en la que se define una lista de campos a los que afectarán los criterios de asignación de destinatarios.</p>
                                                                                    <p>Una regla se evalúa en el momento del desencadenamiento del Workflow, en función del contexto, y reenvía uno o varios usuarios definidos por un cuadro de variables locales [L]USER, lo que permite bien dar una lista de destinatarios para un Workflow dado, o una cadena de destinatarios si se trata de un encadenamiento de reglas. </p>
                                                                                    <p>Es importante señalar:</p>
                                                                                    <ul>
                                                                                        <li>que si una regla de asignación se define en una regla de Workflow, el conjunto de los destinatarios se evalúa en función de los criterios definidos y almacenados en el cuadro [L]USER.</li>
                                                                                        <li>que si no se han definido reglas de asignación, pero la regla de Workflow es de tipo <em>Firma</em>, se heredan los valores de [L]USER calculados en el evento en el origen de la firma (estos valores se almacenan en el histórico). Si se desea que la regla de asignación de origen sea re-evaluada (por posible cambio de los valores de criterio), hay que indicar de nuevo la regla de asignación en la regla del Workflow. </li>
                                                                                    </ul>
                                                                                </td>
                                                                            </table>
                                                                            <h4 class="bloctitle">
                                                                                <p><b>Bloque Número 5</b>
                                                                                </p>
                                                                            </h4>
                                                                            <table class="fld1">
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Tipo workflow (campo TYPWRK)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>Define si se desencadena un Workflow en cada línea de detalle o sólo en la cabecera. </p>
                                                                                    <p>Este campo es de sólo lectura:</p>
                                                                                    <ul>
                                                                                        <li>si no se han definido ni ninguna regla de asignación ni ningún modelo de datos. El tipo es <em>Línea</em> si el Workflow es manual. En caso contrario, será de tipo <em>Cabecera</em>.</li>
                                                                                        <li>Si se define una regla de asignación que emplee una tabla  <em>Línea</em>, el Workflow será de tipo  <em>Línea</em>.</li>
                                                                                    </ul>
                                                                                    <p>Si no se da regla de asignación pero tiene asociado un modelo que integre los enlaces (1,N), se capturará el campo. Se puede escoger si el desencadenamiento se realizará en la línea o en la cabecera (sabiendo que las líneas pueden agruparse para enviar una notificación por grupo).</p>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Tabla línea (<a href="GESATB.htm">campo TABLIG</a>)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>
Permite definir el campo línea en el caso de una regla en la que el contexto integra las tablas de cabecera y las tablas de línea.   
                </p>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">campo ABRLIG</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td />
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Agrupación de líneas (campo GROUPE)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>Este campo permite definir los criterios de agrupación dando una lista de expresiones (o de campos) separados por ";". Esto permite agrupar las líneas de detalle para no desencadenar más que un Workflow en cada ruptura de los valores definidos por estas expresiones. </p>
                                                                                    <p>Esto es posible en dos casos:</p>
                                                                                    <ul>
                                                                                        <li>Cuando un evento de Workflow utiliza un modelo de datos que muestra los enlaces (1,N) y el Workflow es de tipo línea (barre la totalidad de la línea de la tabla escogida), se pueden agrupar las líneas entre sí. </li>
                                                                                        <li>Cuando un evento de Workflow es de tipo <em>Manual</em> (el conjunto de las líneas leídas puede agruparse del mismo modo).</li>
                                                                                    </ul>
                                                                                </td>
                                                                            </table>
                                                                            <h4 class="bloctitle">
                                                                                <p><b><a href="TBL_MGT.htm">Tabla</a><i> Condiciones</i></b>
                                                                                </p>
                                                                            </h4>
                                                                            <table class="fld1">
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Tipo (campo TYPCND)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>Si el evento de Workflow es de tipo  <em>Línea</em>, las condiciones pueden repercutir sobre la cabecera o sobre la línea, según la elección capturada aquí. </p>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Condiciones (campo CONDITION)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>﻿Estos campos permiten añadir condiciones en forma de expresiones lógicas (Fórmula de cálculo) que incluyen variables en línea en el momento de la ejecución de la regla (contenidos de máscaras de pantallas o de tablas en línea, según la descripción del contexto, etc.). Si estas condiciones se cumplen, se envía el mensaje y/o se escribe la traza en el fichero log.</p>
                                                                                    <p>Hay que tener en cuenta que si el contexto es de tipo cabecera de líneas, se puede filtrar una parte de las líneas vinculadas a una cabecera definiendo condiciones de líneas para no tener en cuenta las líneas para las que la condición es falsa. Si queda al menos una línea afectada y las condiciones de cabecera son ciertas, el desencadenamiento se realizará igualmente. </p>
                                                                                </td>
                                                                            </table>
                                                                            <h4 class="bloctitle">
                                                                                <p><b>Gestión</b>
                                                                                </p>
                                                                            </h4>
                                                                            <table class="fld1">
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Activación mail (campo ENAMES)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>
Indicador que permite activar o no el envío de los mensajes indicados en <a href="#ON3">la pestaña correspondiente</a>.   
                </p>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Activación acción (campo ENAACT)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>﻿Indicador que permite activar el desencadenamiento de las acciones indicadas en <a href="#ON5">la pestaña correspondiente</a>.</p>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Activación seguimiento (campo ENASUI)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>Este campo permite definir las reglas de asignación de los destinatarios de Workflow de forma externa a la regla. Hace referencia a una tabla de <a href="GESAWR.htm">reglas</a> en la que se define una lista de campos a los que afectarán los criterios de asignación de destinatarios.</p>
                                                                                    <p>Una regla se evalúa en el momento del desencadenamiento del Workflow, en función del contexto, y reenvía uno o varios usuarios definidos por un cuadro de variables locales [L]USER, lo que permite bien dar una lista de destinatarios para un Workflow dado, o una cadena de destinatarios si se trata de un encadenamiento de reglas. </p>
                                                                                    <p>Es importante señalar:</p>
                                                                                    <ul>
                                                                                        <li>que si una regla de asignación se define en una regla de Workflow, el conjunto de los destinatarios se evalúa en función de los criterios definidos y almacenados en el cuadro [L]USER.</li>
                                                                                        <li>que si no se han definido reglas de asignación, pero la regla de Workflow es de tipo <em>Firma</em>, se heredan los valores de [L]USER calculados en el evento en el origen de la firma (estos valores se almacenan en el histórico). Si se desea que la regla de asignación de origen sea re-evaluada (por posible cambio de los valores de criterio), hay que indicar de nuevo la regla de asignación en la regla del Workflow. </li>
                                                                                    </ul>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Depuración (campo DEBUG)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td>
                                                                                    <p>﻿Indicador que permite activar una ayuda para la actualización. Durante la ejecución de una regla y si esta opción está activa, el motor de workflow muestra en pantalla los posibles mensajes de error de evaluación sobre las condiciones, el log y el mensaje.</p>
                                                                                </td>
                                                                                <tr>
                                                                                    <td>
                                                                                        <ul>
                                                                                            <li class="fld">Usar tema (campo USETHEMEFL)</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </tr>
                                                                                <td />
                                                                            </table>
                                                                        </div><a id="ON2"></a>
                                                                        <h3 class="g1">Pestaña Destinatarios</h3>
                                                                        <div id="desc_on2" class="ddesc" style="display: block;">
                                                                            <p>Esta pestaña permite la captura de la lista de destinatarios de los mensajes o notificaciones. Un destinatario puede definirse como un usuario (su dirección de mensajería aparece en la ficha de usuario) o como un tercero (en tal caso se identifican los contactos implicados por medio de su función).</p>
                                                                            <p>Cada línea del cuadro define uno o varios destinatarios (según la <i>opción delegados</i> elegida) y estos destinatarios pueden recibir:</p>
                                                                            <ul>
                                                                                <li>un mensaje</li>
                                                                                <li>una notificación necesitada de un seguimiento simple (vista) o una firma</li>
                                                                                <li>o ambos</li>
                                                                            </ul>
                                                                            <p>El grupo de destinatarios definidos por un línea del cuadro se considera como solidario desde el punto de vista de las firmas: basta que uno de lo miembros del grupo haya firmado para que la línea se considere firmada (el nombre del firmante se propagará en las firmas en espera para el grupo).</p>
                                                                            <p>En cambio, si hay varias líneas, la firma de uno de los destinatarios de una línea no se propaga a las demás líneas. Se podrá probar, en un contexto de firma, el número de grupos (de líneas) que ya hayan firmado para provocar una actualización teniendo en cuenta a los otros firmantes. </p>
                                                                        </div>
                                                                        <div class="bfields">
                                                                            <div id="on2" class="dfields">
                                                                                <h4 class="bloctitle">
                                                                                    <p><b><a href="TBL_MGT.htm">Tabla</a><i> Destinos</i></b>
                                                                                    </p>
                                                                                </h4>
                                                                                <table class="fld1">
                                                                                    <tr>
                                                                                        <td>
                                                                                            <ul>
                                                                                                <li class="fld">Condición (campo CNDDES)</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <td>
                                                                                        <p>Este campo permite definir una condición lógica. Si la evaluación de esta condición reenvía un valor falso (es decir, nulo), la línea de destinatarios no quedará afectada por el evento.</p>
                                                                                        <p>Hay que tener en cuenta que se dispone, aparte de las variables vinculadas al contexto del evento, del cuadro de variables L]COND, que permite, en una línea dada, hacer referencia a la condición de la línea número N (N es el índice).</p>
                                                                                        <p>Así, por ejemplo, si se expresa una condición en la primera línea del cuadro, y en la segunda línea, se utiliza la expresión: <em>not [L]COND(1)</em>, significa que los destinatarios de la segunda línea se tendrán en cuenta si la condición de la primera línea es falsa.</p>
                                                                                    </td>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <ul>
                                                                                                <li class="fld">Tipo (campo TYPDES)</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <td>
                                                                                        <p>Un destinatario puede estar vinculado a un código de usuario (se buscan sus coordenadas en la ficha de usuario), o a un tercero (en este caso, se captura su función en el cuadro para identificar en la ficha terceros a los posibles destinatarios).</p>
                                                                                    </td>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <ul>
                                                                                                <li class="fld">Destinos (campo DESTIN)</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <td />
                                                                                    <tr>
                                                                                        <td>
                                                                                            <ul>
                                                                                                <li class="fld">Función (campo FNCDES)</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <td>
                                                                                        <p>﻿Esta información sólo se indica si el tipo de destinatario es un tercero. Hace referencia al menú local que define las funciones de los interlocutores en la ficha terceros. </p>
                                                                                    </td>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <ul>
                                                                                                <li class="fld">Envío mail (campo ENVOI)</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <td>
                                                                                        <p>Aquí pueden capturarse tres valores concernientes a los destinatarios de la línea:</p>
                                                                                        <ul>
                                                                                            <li><em>No</em>: no se enviará ningún mensaje.</li>
                                                                                            <li><em>Sí</em>: se envía un mensaje a los destinatarios principales. </li>
                                                                                            <li><em>Copia</em>: se envía un mensaje en copia.</li>
                                                                                        </ul>
                                                                                    </td>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <ul>
                                                                                                <li class="fld">Seguimiento (campo SUIVI)</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <td>
                                                                                        <p>Este indicador precisa si los destinatarios de la línea recibirán una notificación en su plan de trabajo, según el valor capturado:</p>
                                                                                        <ul>
                                                                                            <li><em>No</em>:&#160;en este caso, ninguna notificación estará disponible en el plan de trabajo.</li>
                                                                                            <li><em>Sí</em>: se les enviará una notificación; ésta podrá ser simplemente vista para indicar que el destinatario la ha leído. </li>
                                                                                            <li><em>Con firma</em>: esta notificación deberá ser firmada por uno de los destinatarios de la línea. </li>
                                                                                        </ul>
                                                                                        <p>En cuanto se envíe una notificación a por lo menos una de las líneas de destinatarios, la pestaña <a href="#ON4">Seguimiento</a> definirá el texto que aparecerá en el seguimiento, así como las respuestas que se podrán dar en caso de solicitud de firma.</p>
                                                                                    </td>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <ul>
                                                                                                <li class="fld">Naturalezas (<a href="GESADI.htm">campo NATURE</a>)</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <td>
                                                                                        <p>Este campo puede ser utilizado para clasificar las líneas de seguimiento según su categoría. Es un criterio que puede figurar en el plan de trabajo o ser utilizado como filtro en una de sus pestañas. </p>
                                                                                    </td>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <ul>
                                                                                                <li class="fld">Opción delegación (campo OPTDEL)</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                    </tr>
                                                                                    <td>
                                                                                        <p>Este campo permite precisar la forma en la que se gestiona el hecho de que el destinatario identificado en la línea esté ausente (es decir, el hecho de que haya definido un usuario delegado para un periodo de tiempo que incluye el momento en el que se desencadena la regla). Si ha definido usuarios delegados <em>Con poder</em>, el valor de este campo define quién es el destinatario de la notificación o del mensaje:</p>
                                                                                        <ul>
                                                                                            <li>Si es <em>No</em>, sólo el destinatario indicado originalmente está afectado. </li>
                                                                                            <li>Si es <em>Todos</em>, los afectados serán el destinatario inicial y todos los usuarios definidos como delegados. </li>
                                                                                            <li>si es <em>Cascada</em>, el destinatario, sus delegados, los delegados de sus delegados, etc. están afectados. </li>
                                                                                            <li>Si es <em>Primero libre</em>, el primer destinatario que no tenga delegado está afectado. </li>
                                                                                        </ul>
                                                                                    </td>
                                                                                </table>
                                                                            </div><a id="ON3"></a>
                                                                            <h3 class="g1">Pestaña Mensaje</h3>
                                                                            <div id="desc_on3" class="ddesc" style="display: block;">
                                                                                <p>Esta pestaña permite definir el contenido del mensaje enviado a los destinatarios interesados. Un mensaje está compuesto de:</p>
                                                                                <ul>
                                                                                    <li>un campo "objeto" (expresado en forma de una <a href="EXPRESSIONS_CALC.htm"><span style="color: #0000ff;">fórmula de la aplicación</span></a> que incluye si es necesario, constantes, funciones y variables procedentes del contexto). Este contexto se define de manera más precisa en el <a href="GES_AWA.htm"><span style="color: #0000ff;">anexo técnico</span></a> de la documentación.</li>
                                                                                    <li>un texto principal definido en el bloque correspondiente. Se pueden incluir <a href="EXPRESSIONS_CALC.htm"><span style="color: #0000ff;">fórmulas de la aplicación</span></a> delimitándolas con barras verticales. La fecha actual, por ejemplo, se expresará con el formato | date$ | y el código de usuario como | GUSER |. Se puede insertar un clob (5 como máximo) escribiendo |CLB/<b>CLOB</b>|; en esta fórmula <b>CLOB</b> es una variable de tipo clob o una expresión cuyo resultado es un clob.</li>
                                                                                    <li>un posible texto de línea, que corresponde a un subdetalle de línea cuando el Workflow es de tipo <i>cabecera/línea</i>. El cuadro de las líneas asociadas a cada cabecera está insertado en el texto principal, donde se define la fórmula |LIG|.</li>
                                                                                    <li>posibles enlaces que permiten desencadenar firmas solicitándolo a un servidor http. Estos enlaces se escriben con formulas del tipo |SIG/<b>CÓDIGO</b>/<b>MENSAJE</b>|, donde <b>CÓDIGO</b> es el código de la respuesta que se hará.<br /><br />Así, por ejemplo, podemos escribir :<br />&#160;&#160;&#160; |SIG/VAL/"Para firmar, haga click en :"|<br />&#160;&#160;&#160; |SIG/REJ/"Para rechazar haga click en :"|<br />Luego aparecerá en el cuerpo del mensaje :<br />&#160;&#160;&#160; Para firmar, haga click en <u>enlace desencadenante de la firma</u><br />&#160;&#160;&#160; Para rechazar, haga click en <u>enlace desencadenante del rechazo</u><br />Estos enlaces son, por supuesto, enlaces http variables como el contexto necesario para transmitir la información necesaria.</li>
                                                                                </ul>
                                                                                <p>Independientemente de estos elementos, cierto número de campos complementarios definen las condiciones del envío, así como la información (documentos adjuntos) que se puede insertar en el mensaje. </p>
                                                                                <p>El parámetro general <a href="../OBJ/ADP_SUP_TYPMES.htm"><span style="color: #0000ff;">TYPMES</span></a> tiene que ser igual al <i><b>Servidor</b></i> para poder enviar los documentos adjuntos. Si no es el caso, sólo se enviará el primer documento adjunto (aparecerá un mensaje de aviso cuando se impone un envío por <i>Cliente</i>). Además, los documentos adjuntos deben estar accesibles a través del servidor de aplicación (por un camino de red, si no están almacenados en la base).</p>
                                                                                <p>El envío de los mensajes está condicionado por la utilización de un servicio de mensajería que acepta la interfaz MAPI en el envío desde el puesto cliente o SMTP POP3 en el envío desde el servidor (caso de la mayoría de los servicios de mensajería del mercado).</p>
                                                                                <p>Los destinatarios de las notificaciones del Workflow pueden ser parametrizados directamente en la regla, ya sea por un código de usuario, o por un código de tercero y de un tipo de interlocutor en el tercero. Pero también es posible crear tablas multi-criterios denominadas  <a href="GESAWR.htm"><span style="color: #0000ff;">reglas de asignación</span></a> para permitir a un usuario tercero definir los destinatarios en función de valores de criterios predefinidos. </p>
                                                                            </div>
                                                                            <div class="bfields">
                                                                                <div id="on3" class="dfields">
                                                                                    <h4 class="bloctitle">
                                                                                        <p><b>Mensaje</b>
                                                                                        </p>
                                                                                    </h4>
                                                                                    <table class="fld1">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">E-mail emisor (campo SENDMAIL)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td />
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Objeto (campo OBJET)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Este campo permite definir el contenido del campo <em>Objeto </em>del mensaje enviado, en forma de una <a href="EXPRESSIONS_CALC.htm">expresión calculada</a> que se evaluará en el momento del desencadenamiento del evento.</p>
                                                                                        </td>
                                                                                    </table>
                                                                                    <h4 class="bloctitle">
                                                                                        <p><b>Texto</b>
                                                                                        </p>
                                                                                    </h4>
                                                                                    <table class="fld1">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Texto (campo TEXTE)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>﻿Este campo permite definir el contenido principal del mensaje. Se realiza en forma de un texto libre que incluye expresiones lógicas (Fórmula de cálculo) entre dos barras verticales que sirven como separadores. De este modo, por ejemplo, se podrán escribir contenidos como:</p>
                                                                                            <p>el evento ocurrido el | num$(date$) | dio lugar a este envío por | GUSER |</p>
                                                                                            <p>Etiquetas específicas:</p>
                                                                                            <p>"LIG" Permite insertar la expresión definida en el campo "Línea" de la regla workflow.<br />"CLB/variable clob o expresión"&#160;permite insertar el contenido de un campo clob en el texto. Este número de etiquetas está limitado a 5.<br />"SIG/código respuesta/expresión texto" permite mostrar un enlace http en el texto. El clic en este enlace desencadena la respuesta de la regla de workflow. Esta parametrización sólo puede aplicarse de forma óptima si los parámetros supervisor del grupo "WRK" se indican correctamente.</p>
                                                                                        </td>
                                                                                    </table>
                                                                                    <h4 class="bloctitle">
                                                                                        <p><b>Gestión</b>
                                                                                        </p>
                                                                                    </h4>
                                                                                    <table class="fld1">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Línea (campo TEXLIG)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>La <a href="EXPRESSIONS_CALC.htm">expresión calculada</a> introducida en este campo se evalúa, en el momento del desencadenamiento del evento, para cada línea de detalle (en el caso de un Workflow de tipo línea con una agrupación de datos). Cada línea calculada de este modo se inserta en el cuerpo del mensaje en el lugar donde se encuentra la fórmula |LIG|</p>
                                                                                        </td>
                                                                                    </table>
                                                                                    <h4 class="bloctitle">
                                                                                        <p><b>Gestión</b>
                                                                                        </p>
                                                                                    </h4>
                                                                                    <table class="fld1">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Envío (campo TYPMES)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>
Este campo permite indicar si se debe realizar el envío localmente por medio del puesto (utilizando la interfaz MAPI), desde el servidor (mediante SMTP) o indistintamente desde el uno o el otro (en este caso, un parámetro general denominado <a href="../OBJ/ADP_SUP_TYPMES.htm">TYPMES</a>&#160;lo define).  
                </p>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Icono de retorno (campo RETOUR)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Esta casilla permite, si está marcada, insertar como documento adjunto en el mensaje enviado, un icono con el contexto que permite volver a llamar la ficha (haciendo doble clic en el icono). Esto sólo funcionará si la conexión está en modo cliente-servidor. </p>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Función de devolución (<a href="GESAFC.htm">campo BAKFCT</a>)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Cuando un icono que permite volver a Sage X3 está adjunto al cuerpo del mensaje, este campo permite indicar una función de retorno diferente de la función que ha desencadenado el Workflow.</p>
                                                                                            <p>En Workflow objeto, si se trata de la creación o modificación de una ficha, esto permite, en vez de conectarse a la ficha por defecto, ir a la ficha vinculada (la ficha de usuario que ha creado o modificado la información que ha desencadenado el Workflow, por ejemplo).</p>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Clave de vínculo (campo BAKLNK)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Este campo permite, si la casilla <em>Icono de retorno</em> está marcada, definir la función a la que el usuario se conectará haciendo doble clic sobre el icono incluido en el mensaje. </p>
                                                                                            <p>Si la función de retorno es de tipo objeto, no tendrá ninguna utilidad capturar la función más que si ésta es diferente del objeto de origen.</p>
                                                                                            <p>En el caso de un Workflow <em>Manual</em>, el código de función es obligatorio si el icono de retorno está incluido (no puede tener valor por defecto en este caso).</p>
                                                                                        </td>
                                                                                    </table>
                                                                                    <h4 class="bloctitle">
                                                                                        <p><b>Bloque Número 6</b>
                                                                                        </p>
                                                                                    </h4>
                                                                                    <table class="fld1">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Desktop (<a href="GESASW.htm">campo BAKSYRA</a>)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td />
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Clave de vínculo (campo BAKLNKSYRA)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td />
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Móvil (<a href="GESASW.htm">campo BAKMOBILE</a>)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td />
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Clave de vínculo (campo BAKLNKMOBI)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td />
                                                                                    </table>
                                                                                    <h4 class="bloctitle">
                                                                                        <p><b>Bloque Número 7</b>
                                                                                        </p>
                                                                                    </h4>
                                                                                    <table class="fld1">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Mensaje modificable (campo INTERV)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>
Este indicador permite que el mensaje pueda modificarse antes del envío: se abre una pantalla para capturar las modificaciones. Esto sólo es posible si el desencadenante de Workflow se realiza de forma interactiva (en caso contrario, la ventana no se abrirá).  
                </p>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Agrupación por destinatario (campo GRPENV)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Si un evento de Workflow crea varias notificaciones, esta casilla sirve para agrupar los mensajes creados para el evento. </p>
                                                                                            <p>Si el Workflow es de tipo línea, se producirán varias notificaciones, o si se trata del evento especial "ANU" (desencadenado tras la cancelación de firma).</p>
                                                                                            <p>Las notificaciones se agrupan entre ellas si tienen las siguientes características en común:</p>
                                                                                            <ul>
                                                                                                <li>el emisor</li>
                                                                                                <li>el tipo de servidor</li>
                                                                                                <li>el contexto de retorno</li>
                                                                                                <li>el objeto del mensaje</li>
                                                                                                <li>el acuse de recibo</li>
                                                                                                <li>los destinatarios</li>
                                                                                                <li>el flag de firma</li>
                                                                                            </ul>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Acuse lectura (campo REQREC)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Esta casilla permite, si está marcada, enviar el mensaje con un acuse de recibo. Atención, esta solicitud de acuse de recibo sólo puede funcionar si el mensaje se envía desde el puesto cliente y no desde el servidor.</p>
                                                                                        </td>
                                                                                    </table>
                                                                                    <h4 class="bloctitle">
                                                                                        <p><b>Documentos adjuntos</b>
                                                                                        </p>
                                                                                    </h4>
                                                                                    <table class="fld1">
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Fichero traza vinculado (campo TRACE)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Esta casilla sólo puede marcarse si el evento desencadenante corresponde al final de una tarea batch.</p>
                                                                                            <p>En este caso, si está marcada, el fichero traza asociado a la tarea batch irá adjunto al mensaje enviado. </p>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Documento a adjuntar (campo JOINT)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Este campo permite asociar un documento adjunto al mensaje, proporcionando un camino de acceso a la red en forma de una <a href="EXPRESSIONS_CALC.htm">expresión calculada</a> que se evaluará en el momento del desencadenamiento del evento.</p>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Documento adjunto (campo JOIOBJ)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Cuando esta casilla está marcada, en un Workflow de tipo objeto, los documentos adjuntos a la ficha pueden ser enviados como adjuntos al mensaje. </p>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Todos los tipos (campo ALLTYPJOI)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Este campo permite, si la casilla <em>Todos los tipos </em> no está marcada, definir un filtro para el tipo de documentos adjuntos a la ficha (tabla varia 902) que deben enviarse con el mensaje. </p>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Tipo documento adjunto (<a href="GESADI.htm">campo TYPJOI</a>)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td />
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Todas las categorías (campo ALLCATJOI)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Esta casilla sólo se indica:</p>
                                                                                            <ul>
                                                                                                <li>para un Workflow de tipo objeto</li>
                                                                                                <li>para el que se ha marcado la casilla <em>Documento adjunto</em> (envío de los documentos adjuntos a la ficha como documentos vinculados al mensaje).</li>
                                                                                            </ul>
                                                                                            <p>Si esta casilla está marcada, todas las categorías de documentos adjuntos a la ficha que desencadenan el Workflow se envían como documentos adjuntos al mensaje. En caso contrario, se capturaría la categoría necesaria.</p>
                                                                                        </td>
                                                                                        <tr>
                                                                                            <td>
                                                                                                <ul>
                                                                                                    <li class="fld">Categoría (campo CATJOI)</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <td>
                                                                                            <p>Este campo permite, si los documentos adjuntos a una ficha deben enviarse como adjuntos al mensaje, filtrar los documentos por su categoría (menú local<a href="../MCD/MEN0096.htm">96</a>)</p>
                                                                                        </td>
                                                                                    </table>
                                                                                </div><a id="ON4"></a>
                                                                                <h3 class="g1">Pestaña Seguimiento</h3>
                                                                                <div id="desc_on4" class="ddesc" style="display: block;">
                                                                                    <p>Esta pestaña permite definir la forma en que se realizan las notificaciones de tipo <em>Seguimiento</em> en los planes de trabajo de los usuarios destinatarios, y también las condiciones de firma asociadas, si las hay. Estas condiciones de firma sólo son aplicables si en el cuadro de destinatarios de <a href="#ON2">la pestaña correspondiente</a>, los usuarios destinatarios aparecen en seguimiento <em>Con firma</em>.</p>
                                                                                    <p>Entonces se define, en forma de <a href="EXPRESSIONS_CALC.htm">expresiones evaluadas</a>, el mensaje que aparecerá en el plan de trabajo, y la fecha límite de firma esperada si se espera una firma.</p>
                                                                                    <p>A continuación se muestra un cuadro que permite precisar las respuestas que el usuario podrá realizar al firmar, con la posibilidad de actualizar directamente un campo de la ficha actual si el Workflow es de tipo <em>Objeto</em>.</p>
                                                                                    <p>Hay que tener en cuenta que los elementos evaluados en el cuadro de respuestas lo son en el momento de la firma, mientras que los elementos relativos a la notificación o al mensaje asociado lo son en el momento del desencadenamiento del Workflow de origen. Esto significa que el contexto no es exactamente el mismo. Así, en un contexto Workflow de tipo objeto, se tiene en línea:</p>
                                                                                    <ul>
                                                                                        <li>en el momento del desencadenamiento, el conjunto de variables de las pantallas y tablas vinculadas al objeto, así como las posibles tablas complementarias vinculadas a un modelo de datos y a una regla de asignación, y las variables globales vinculadas al contexto del firmante (GUSER representa el código del usuario que ha desencadenado el evento). </li>
                                                                                        <li>en el momento de la firma, se tiene en línea el registro de la tabla principal del objeto, así como las posibles tablas descritas en un modelo de datos y una regla de asignación, pero ya no se dispone de las pantallas en línea, y las variables globales son las del contexto de la firma (GUSER representa en este caso el código del usuario que firma).</li>
                                                                                    </ul>
                                                                                    <p>Para permitir transmitir los valores del contexto de desencadenamiento hacia el contexto de firma, se dispone de un cuadro denominado <em>Contexto</em>. Las expresiones que se describen aquí, se evalúan y transmiten en el momento de la firma en forma de un cuadro de variables locales denominadas <em>[L]CTX</em>. Estas variables pueden utilizarse en la parametrización de los planes de trabajo, en las condiciones y los valores vinculados a la firma, y también en las variables y los valores vinculados a las <em>Acciones</em> de la <a href="#ON5">pestaña siguiente</a>, si se trata de acciones desencadenadas en el momento de la firma. </p>
                                                                                </div>
                                                                                <div class="bfields">
                                                                                    <div id="on4" class="dfields">
                                                                                        <h4 class="bloctitle">
                                                                                            <p><b>Texto</b>
                                                                                            </p>
                                                                                        </h4>
                                                                                        <table class="fld1">
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Texto seguim (campo TEXSUI)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Este campo contiene una expresión evaluada en el momento del desencadenamiento del Workflow. El resultado de esta evaluación es una cadena alfanumérica almacenada en la variable [AWS]TEXSUI. Este valor es el que aparecerá normalmente en el monitor Workflow para calificar el evento a firmar. </p>
                                                                                            </td>
                                                                                        </table>
                                                                                        <h4 class="bloctitle">
                                                                                            <p><b>Firma</b>
                                                                                            </p>
                                                                                        </h4>
                                                                                        <table class="fld1">
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Firma (campo FLGSIG)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Si esta casilla está marcada, el seguimiento da lugar a un proceso de firma: aparece entonces en el cuadro, en la parte inferior de la pantalla, cierto número de firmas posibles. </p>
                                                                                            </td>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Fecha límite (campo DELSIG)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Una vez marcada la casilla <em>Firma</em>, se puede definir una expresión de tipo fecha que defina la fecha más allá de la cual se considera que hay retraso si no se ha realizado la firma.</p>
                                                                                                <p>El valor del campo correspondiente se almacena en el campo DATREL&#160;de la tabla de seguimientos <a href="../MCD/AWRKHISSUI.htm">AWRKHISSUI</a>. Este campo puede utilizarse en el monitor Workflow para definir un orden de clasificación, una valoración por un estilo particular (condición de tipo date$&gt;=[AWS]DATREL+1, por ejemplo). Pero también puede utilizarse para una gestión de relanzamiento de eventos en espera de firma, puesto que el campo [AWS]NBREL permite contar los relanzamientos realizados.</p>
                                                                                            </td>
                                                                                        </table>
                                                                                        <h4 class="bloctitle">
                                                                                            <p><b><a href="TBL_MGT.htm">Tabla</a><i> Contexto</i></b>
                                                                                            </p>
                                                                                        </h4>
                                                                                        <table class="fld1">
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Contexto (campo VARCTX)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Este cuadro contiene expresiones evaluadas en el momento de desencadenamiento de un Workflow. Estas variables:</p>
                                                                                                <ul>
                                                                                                    <li>se almacenan en el histórico de Workflow (variables VALCTX1 a VALCTX15).</li>
                                                                                                    <li>se pueden utilizar en el contexto de firma (cuadro de variables CTX(1) a CTX(15) asociado al evento original o a un evento de Workflow posterior a la firma. </li>
                                                                                                </ul>
                                                                                                <p>El interés de estas variables es que permiten transmitir datos que no aparecen en las tablas en el origen del contexto desencadenante, y que por tanto no se transmiten automáticamente de un evento a la firma o al evento siguiente. Las tablas del objeto o las de la regla de asignación se transmiten automáticamente; en cambio, no se transmiten:</p>
                                                                                                <ul>
                                                                                                    <li>las variables globales (las variables GUSER, GFONCTION, GABREV, CLEOBJ, por ejemplo, que definen respectivamente al usuario actual, la función actual, el código del objeto y la clave actual en el momento de desencadenamiento de un Workflow objeto).</li>
                                                                                                    <li>variables vinculadas a las pantallas en línea</li>
                                                                                                    <li>expresiones como date$, time$... que definen el contexto del desencadenamiento</li>
                                                                                                </ul>
                                                                                                <p>Por tanto, este tipo de variable es el más interesante de transmitir a través del contexto. Pero también es interesante definir en el contexto las variables transmitidas por otra parte en el contexto, simplemente para saber visualizarlas en el monitor de Workflow.</p>
                                                                                            </td>
                                                                                        </table>
                                                                                        <h4 class="bloctitle">
                                                                                            <p><b><a href="TBL_MGT.htm">Tabla</a><i> Respuesta</i></b>
                                                                                            </p>
                                                                                        </h4>
                                                                                        <table class="fld1">
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Respuesta (<a href="GESADI.htm">campo ACTSIG</a>)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Este campo hace referencia a la tabla varia número 54, que define las opciones posibles en el momento de la firma (por ejemplo <em>Validación, Rechazo</em>). En el plan de trabajo de firmas, al hacer clic con el botón derecho en la línea a firmar, se podrá proponer dentro de la lista de opciones procedentes de esta lista, las opciones para las que se verifique la condición.</p>
                                                                                            </td>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Operación (<a href="GESADI.htm">campo OPESIG</a>)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Este código de operación, definido por la tabla varia 55, es el código que califica la firma. Corresponde al código de operación utilizado en un evento de tipo <em>Firma</em> consecutivo al evento firmado. Hay que tener en cuenta que varias líneas pueden llevar el mismo código de operación. </p>
                                                                                                <p>Este código no se almacena en el histórico de Workflow tras la firma. Es el valor del campo <em>Respuesta</em>, que no admite homónimos entre las distintas líneas, que está almacenado. </p>
                                                                                            </td>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Condición (campo CNDSIG)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Esta columna contiene una expresión lógica evaluada en el momento de la firma. Si se da esta condición, se propondrá entre otras opciones la respuesta definida en la línea. Esto permite, por ejemplo, disponer de varios niveles de firma, en función del número de firmas que ya hayan sido realizadas (la única firma que desencadena la actualización definitiva es la última). Del mismo modo, es posible definir una opción al parecer imposible (por una condición siempre falsa de tipo 1=0). Esta opción podrá ser forzada por una acción de firma desencadenada por otro evento de Workflow. De este modo se tratan, según los parámetros estándares, las escaladas en los procesos de firma.</p>
                                                                                            </td>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Motivo (<a href="GESADV.htm">campo REANUM</a>)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Esta columna permite indicar un número de tabla varia que contiene motivos de respuesta. <br />Si se indica, se solicitará un motivo de respuesta al firmar el evento.</p>
                                                                                            </td>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Campo actualizado (campo FLDMAJ)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Esta columna contiene el nombre de un campo procedente de una de las tablas del contexto desencadenante. Este campo será actualizado por el valor calculado a partir de la expresión siguiente, en el momento del proceso de firma. Así podemos, por ejemplo, actualizar un campo como ENAFLG (indicador <em>Activo</em>) del objeto actual en el momento de un proceso de firma.</p>
                                                                                            </td>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Valor (campo EXPVAL)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Esta columna permite definir la expresión de un valor calculado en el momento de la firma. El valor correspondiente a la línea de respuesta escogida será el utilizado, en caso de firma:</p>
                                                                                                <ul>
                                                                                                    <li>bien para actualizar el campo definido en la columna anterior con este valor.</li>
                                                                                                    <li>bien en el inicio de posibles acciones definidas en la <a href="#ON5">pestaña siguiente</a>. En este caso, se recupera el valor correspondiente en la variable alfanumérica [L]RESULT.</li>
                                                                                                </ul>
                                                                                            </td>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Modificable (campo MODSIG)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Si este campo tiene el valor <em>Sí</em>, se propone el valor calculado en la columna correspondiente, tras la elección de la firma, para permitir una posible modificación. Esto permite por ejemplo capturar un motivo detallo. El valor resultante de la captura será utilizado para realizar la actualización si existe, y transmitirlo a la variable [L]RESULT para su utilización en una acción complementaria. </p>
                                                                                            </td>
                                                                                        </table>
                                                                                    </div><a id="ON5"></a>
                                                                                    <h3 class="g1">Pestaña Acción</h3>
                                                                                    <div id="desc_on5" class="ddesc" style="display: block;">
                                                                                        <p>Esta pestaña describe, en un primer cuadro, una lista de acciones que pueden desencadenarse en el momento del desencadenamiento del evento o en la fase de firma. Esto permite llamar bien acciones estándares predefinidas para este fin (la lista está en el <a href="AWA_ACT.htm">anexo técnico</a> correspondiente), bien acciones específicas. Observación: la acción en cuestión sólo se llama si se realiza la condición de ejecución. </p>
                                                                                        <p>La tabla situada por debajo se carga automáticamente con la lista de parámetros de la acción, para permitir capturar en frente una lista de expresiones evaluadas en el contexto y transmitidas (ya sea como valores o como punteros: en este último caso, los valores de retorno se utilizarán posteriormente).</p>
                                                                                    </div>
                                                                                    <div class="bfields">
                                                                                        <div id="on5" class="dfields">
                                                                                            <h4 class="bloctitle">
                                                                                                <p><b><a href="TBL_MGT.htm">Tabla</a><i> Acción</i></b>
                                                                                                </p>
                                                                                            </h4>
                                                                                            <table class="fld1">
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        <ul>
                                                                                                            <li class="fld">Código acción (<a href="GESACT.htm">campo ACTION</a>)</li>
                                                                                                        </ul>
                                                                                                    </td>
                                                                                                </tr>
                                                                                                <td>
                                                                                                    <p>Este campo contiene un <a href="GESACT.htm">código de acción</a> cuya ejecución puede desencadenarse si están cumplidas las condiciones. Hay que tener en cuenta que para que se produzca esta acción, la casilla <em>Workflow</em> debe estar marcada, y por tanto, no puede interaccionar con la interfaz usuario (no hay ventana asociada).</p>
                                                                                                </td>
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        <ul>
                                                                                                            <li class="fld">Desencadenamiento (campo DECACT)</li>
                                                                                                        </ul>
                                                                                                    </td>
                                                                                                </tr>
                                                                                                <td>
                                                                                                    <p>Este campo, cuyos valores están definidos por el menú local <a href="../MCD/MEN2923.htm">2923</a>, define las condiciones de desencadenamiento del Workflow. Se pueden utilizar los valores siguientes:</p>
                                                                                                    <ul>
                                                                                                        <li><em>Inicio Workflow</em>: la acción se desencadena al inicio de la constitución del texto del mensaje. Si el Workflow es de tipo <em>Línea</em>, sólo se ejecutará una vez por cabecera, antes de la constitución del texto de la misma. Las variables devueltas por la acción pueden utilizarse en el texto del mail (pero más aún para definir los destinatarios o las condiciones del envío, que en este punto ya han sido evaluadas).</li>
                                                                                                        <li><em>Fin Workflow</em>: la acción se desencadena tras el envío del mensaje. Si el Workflow es de tipo <em>línea</em>, esta acción sólo se ejecuta una vez por grupo de líneas.</li>
                                                                                                        <li><em>Antes de línea</em>: la acción se desencadena antes de la lectura de la primera línea, si hay Workflow de tipo cabecera y líneas. Esto permite por ejemplo, inicializar variables de acumulación para obtener un total de líneas. El cúmulo se realiza en la acción <em>Línea</em>.</li>
                                                                                                        <li><em>Línea</em>: la acción se desencadena justo antes de la constitución de cada línea de mensaje, en el caso de un Workflow de tipo línea. Las variables devueltas por la acción pueden utilizarse en el texto línea. </li>
                                                                                                        <li><em>Firma</em>: la acción se desencadena tras la introducción de la firma (la variable [L]RESULT procedente de esta captura es conocida), pero antes de la actualización (se puede modificar este valor durante la acción). En el caso de una firma, todas las actualizaciones se realizan en una sola transacción. De esta manera, si un <em>Rollback</em> se realiza en una de las acciones desencadenadas por el evento, se vuelve a la situación inicial para todas las actualizaciones realizadas.</li>
                                                                                                    </ul>
                                                                                                    <p>En el caso general del punto de vista de la transacción, hay que tener en cuenta que la acción forma parte de la transacción de Workflow del mensaje (si se realiza un <em>Rollback </em> en el momento de la constitución del mensaje, las actualizaciones realizadas en la acción se verán afectadas). Se realizará una transacción independiente para el seguimiento (pero al realizarse esta transacción a continuación, los valores que aporta la acción pueden utilizarse).</p>
                                                                                                    <p>En el caso particular del Workflow en objeto, todo se realiza en una sola transacción. Dicho de otro modo, si la creación o la modificación de una ficha no se realiza satisfactoriamente, se realiza un <em>Rollback </em> sobre el total de las actualizaciones llevadas a cabo por las acciones. </p>
                                                                                                    <p>Para el seguimiento, el proceso es similar: la transacción que sigue a la captura del seguimiento incluye el desencadenamiento de las acciones. </p>
                                                                                                </td>
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        <ul>
                                                                                                            <li class="fld">Condición de ejecución (campo CONACT)</li>
                                                                                                        </ul>
                                                                                                    </td>
                                                                                                </tr>
                                                                                                <td>
                                                                                                    <p>Aquí se captura una expresión lógica, evaluada en el contexto de desencadenamiento de la acción. Si el resultado de la evaluación es verdadero (es decir, no nulo), la acción se desencadenará. Si el resultado es falso, la acción no se desencadenará. Si no se ha capturado ninguna expresión, la acción se desencadenará igualmente. </p>
                                                                                                </td>
                                                                                            </table>
                                                                                            <h4 class="bloctitle">
                                                                                                <p><b><a href="TBL_MGT.htm">Tabla</a><i> Parámetros</i></b>
                                                                                                </p>
                                                                                            </h4>
                                                                                            <table class="fld1">
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        <ul>
                                                                                                            <li class="fld">Parámetro (<a href="GESAAR.htm">campo PARAM</a>)</li>
                                                                                                        </ul>
                                                                                                    </td>
                                                                                                </tr>
                                                                                                <td />
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        <ul>
                                                                                                            <li class="fld">Tipo (campo TYPPAR)</li>
                                                                                                        </ul>
                                                                                                    </td>
                                                                                                </tr>
                                                                                                <td />
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        <ul>
                                                                                                            <li class="fld">Retorno (campo ADRVAL)</li>
                                                                                                        </ul>
                                                                                                    </td>
                                                                                                </tr>
                                                                                                <td />
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        <ul>
                                                                                                            <li class="fld">Valor parámetro (campo PARVAL)</li>
                                                                                                        </ul>
                                                                                                    </td>
                                                                                                </tr>
                                                                                                <td>
                                                                                                    <p>Aquí se captura una expresión evaluada que se transmite como un argumento a la acción en la que el código de una variable tendrá un valor de retorno (si el argumento es de tipo <em>Puntero</em>). Pueden utilizarse todas las variables del contexto de Workflow.</p>
                                                                                                </td>
                                                                                            </table>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="stdBloc"><a id="BOU_70_10"></a>
                                                                                        <h2 class="g1" id="Botonesespecíficos" data-magellan-target="Botonesespecíficos">Botones específicos</h2>
                                                                                        <div class="links">
                                                                                            <ul>
                                                                                                <li><a href="#BOU_70_20">Validación</a>
                                                                                                </li>
                                                                                                <li><a href="#BOU_70_30">Copia</a>
                                                                                                </li>
                                                                                            </ul>
                                                                                        </div>
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td valign="top"><a id="BOU_70_20"></a>
                                                                                                    <p><b>Validación </b>
                                                                                                    </p>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <p>Este botón permite generar y compilar el proceso automático asociado al evento de Workflow. Este proceso se codifica por medio de los caracteres WMK seguidos del código de Workflow. Como la validación se realiza de forma automática en el momento del registro o de la modificación de un Workflow, este botón sólo sirve para validar un evento que habría sido transferido por copia desde otro dossier. </p>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td valign="top"><a id="BOU_70_30"></a>
                                                                                                    <div id="bou_70_30" class="dfields">
                                                                                                        <h4 class="bloctitle">
                                                                                                            <p><b>Bloque Número 1</b>
                                                                                                            </p>
                                                                                                        </h4>
                                                                                                        <table class="fld1">
                                                                                                            <tr>
                                                                                                                <td>
                                                                                                                    <ul>
                                                                                                                        <li class="fld">campo OBJET</li>
                                                                                                                    </ul>
                                                                                                                </td>
                                                                                                            </tr>
                                                                                                            <td />
                                                                                                        </table>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">campo CLES</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td />
                                                                                        </table>
                                                                                        <h4 class="bloctitle">
                                                                                            <p><b>Bloque Número 2</b>
                                                                                            </p>
                                                                                        </h4>
                                                                                        <table class="fld1">
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Desde el dossier (campo DOSORG)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>﻿Este campo permite definir el dossier a partir del cual se va a copiar la ficha. Las sintaxis posibles se describen en <a href="COP_DOS.htm">el anexo dedicado</a>.</p>
                                                                                            </td>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Todos los dossieres (campo TOUDOS)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>Esta opción permite copiar la ficha hacia todos los dossiers definidos en el diccionario (tabla <a href="../MCD/ADOSSIER.htm">ADOSSIER</a> de la solución actual).</p>
                                                                                            </td>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    <ul>
                                                                                                        <li class="fld">Hacia el dossier (campo DOSDES)</li>
                                                                                                    </ul>
                                                                                                </td>
                                                                                            </tr>
                                                                                            <td>
                                                                                                <p>﻿Este campo permite definir el dossier en el que se va a copiar la ficha. Las sintaxis posibles se describen en <a href="COP_DOS.htm">el anexo dedicado</a>.</p>
                                                                                            </td>
                                                                                        </table>
                                                                                    </div>
                                                                                    <p>Este botón permite copiar un evento de Workflow <a href="COP_DOS.htm">hacia otro dossier</a>, simplemente con aportar su código. En el cuadro que se abre hay una casilla a marcar que permite realizar la transferencia hacia todos los dossieres definidos en la tabla de los dossiers actual. </p>
                                                                                </div>
                                                                                <div class="stdBloc"><a id="BME_80_10"></a>
                                                                                    <div name="menus">
                                                                                        <h2 class="g1" id="BarradeMenú" data-magellan-target="BarradeMenú">Barra de Menú</h2>
                                                                                        <div class="MCDropDown MCDropDown_Closed dropDown" xmlns=""><span class="MCDropDownHead dropDownHead"><a href="#" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_" aria-expanded="false">Opción/Workflow manual</a></span>
                                                                                            <div class="MCDropDownBody dropDownBody">
                                                                                                <p xmlns="http://www.w3.org/1999/xhtml">Además de los mensajes genéricos, los mensajes siguientes de error pueden aparecer durante la captura :</p>
                                                                                                <table class="TableStyle-NormalRows" xmlns="http://www.w3.org/1999/xhtml" style="mc-table-style: url('../Resources/Images/NormalRows.css');" cellspacing="0">
                                                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                                                        <td class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                                                            <p>Esta opción permite <a href="SAIWRKMAN.htm">lanzar directamente un Workflow</a> si es de tipo manual. Se captura entonces el cuadro de diálogo que permite capturar los posibles parámetros asociados.</p>
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div data-mc-conditions="Other.Production only">
                                                <div id="feedback-survey">
                                                    <div class="feedback-question">
                                                        <h4>Did you find this helpful?</h4>
                                                        <p>
                                                            <button class="feedback-button feedback-yes" title="Yes, this article was helpful." alt="Yes, this article was helpful.">Yes</button>&#160;<button class="feedback-button feedback-no" title="No, this article wasn't helpful." alt="No, this article wasn't helpful.">No</button></p>
                                                    </div>
                                                    <div class="feedback-reason no">
                                                        <hr />
                                                        <div class="highlightBox">
                                                            <h4>Sorry about that</h4>
                                                            <p>Why wasn't this helpful? (check all that apply)</p>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option1" value="Couldn't find what I was looking for" data-analytics-label="Could not find" />
                                                                <label for="option1">Couldn't find what I was looking for</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option2" value="Instructions confusing or unclear" data-analytics-label="Confusing or unclear" />
                                                                <label for="option2">Instructions confusing or unclear</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option3" value="Instructions didn't work" data-analytics-label="Did not work" />
                                                                <label for="option3">Instructions didn't work</label>
                                                            </div>
                                                            <div class="feedback-reason no-thanks">
                                                                <p><b>Thanks for your feedback.</b>
                                                                </p>
                                                                <h4>Want to tell us more?</h4>
                                                                <p>Send an email to our authors to leave your feedback.</p>
                                                                <!--email_off-->
                                                                <p><a href="mailto:Sage200TechnicalAuthors@sage.com?subject=Sage 200 feedback" id="feedbackEmailLink" title="Tell us if there's a problem with the information on this page." alt="Tell us if there's a problem with the information on this page." class="sageButton">Email our authors</a>
                                                                </p>
                                                                <!--/email_off-->
                                                                <p>Sorry, but we can't provide technical support from this email address. If you need assistance, then please contact our support team directly.</p>
                                                            </div>
                                                        </div>
                                                        <div id="get-in-touch" class="highlightBox colour-dark-1">
                                                            <h4>Need support?</h4>
                                                            <p>You can contact our support team on <b>0845 111 5555</b>, 9am-5pm Monday-Friday.</p>
                                                        </div>
                                                    </div>
                                                    <div class="feedback-reason yes-thanks">
                                                        <hr />
                                                        <h4>Great!</h4>
                                                        <p>Thanks for taking the time to give us some feedback.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="sage-layout-topic-panel">
                                            <div class="menu-topic-container" id="menu-on-page">
                                                <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 1280px)" class="nocontent menu _Skins_Sage_Menu_Topic_TopNav mc-component">
                                                    <li><a href="#ReglasWorkflow">Reglas Workflow</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#Requisitos">Requisitos</a>
                                                        </li>
                                                        <li><a href="#Gesti%C3%B3ndePantalla">Gestión de Pantalla</a>
                                                        </li>
                                                        <li><a href="#Botonesespec%C3%ADficos">Botones específicos</a>
                                                        </li>
                                                        <li><a href="#BarradeMen%C3%BA">Barra de Menú</a>
                                                        </li>
                                                    </ul>
                                                </ul>
                                            </div>
                                        </div>
                                    </section>
                                    <button class="go-to-top">
                                        <!-- icon and label are inserted -->
                                    </button>
                                    <section class="sage-footer colour-dark-1" id="footer" role="contentinfo">
                                        <div class="row">
                                            <div class="small-6 medium-3 columns">
                                                <h5>Site links</h5>
                                                <p><a href="../Sitemap.htm" class="MCXref xref">Sitemap</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage links</h5>
                                                <p><a href="https://my.sage.co.uk/public/help.aspx" target="_blank" class="external">Sage Support Hub</a>
                                                </p>
                                                <p><a href="https://communities.sage.co.uk/product_support_community/" class="external" target="_blank" title="Your place to get product support from other customers and Sage experts" alt="Your place to get product support from other customers and Sage experts">Product support community</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/gdpr/" class="external" target="_blank">General Data Protection Regulation</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/legal/" class="external" target="_blank">Legal information</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Page info</h5>
                                                <p>Page updated: <span class="mc-variable Dates.DateFileSaved variable">23 enero 2024</span></p>
                                                <!-- script moves last published date to here -->
                                                <div id="last-published-footer">
                                                </div>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage media</h5>
                                                <p><a href="https://www.facebook.com/sageuk" target="_blank" alt="Find us on Facebook" title="Find us on Facebook"><i class="fa fa-lg fa-facebook" aria-hidden="true"></i></a>&#160;
						<a href="https://www.linkedin.com/company/sage-software" target="_blank" alt="Find us on LinkedIn" title="Find us on LinkedIn"><i class="fa fa-lg fa-linkedin" aria-hidden="true"></i></a>&#160;
						<a href="https://twitter.com/sageuk/" target="_blank" alt="Find us on Twitter" title="Find us on Twitter"><i class="fa fa-lg fa-twitter" aria-hidden="true"></i></a>&#160;
						<a href="https://www.youtube.com/user/SageUKOfficial" target="_blank" alt="Find us on YouTube" title="Find us on YouTube"><i class="fa fa-lg fa-youtube" aria-hidden="true"></i></a></p>
                                            </div>
                                        </div>
                                    </section>
                                    <!-- Skin type scripts -->
                                    <script type="text/javascript" src="../Resources/Scripts/SideNav-template.js" data-mc-conditions="Other.HTML5-SideNav">
                                    </script>
                                    <!-- Google Analytics -->
                                    <div data-mc-conditions="Other.Production only">
                                        <!-- Google analytics script -->
                                        <!-- Copy and paste full HTML of tracking code here for Global site tag (gtag.js) -->
                                        <!-- Remember to edit 'async' parameter to read async="" -->
                                        <!-- Analytics for events -->
                                        <script type="text/javascript" src="../Resources/Scripts/google-analytics-events.js">
                                        </script>
                                    </div>
                                    <!-- cookies -->
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.js">
                                    </script>
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.config.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>