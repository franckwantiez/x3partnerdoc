<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="es-es" xml:lang="es-es" class="_Skins_Sage_Skin_SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" />
        <meta charset="utf-8" />
        <meta name="description" content="Documentation technique du serveur RF" />
        <meta name="module" content="Platform" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title> Documentation technique du serveur RF 
</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Sage.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/Stylesheets/font-awesome.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: #000000 url('../../Skins/Default/Stylesheets/Images/60x60_globe_white-on-transparent_icon.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script type="text/javascript">/*<![CDATA[*/


function onload(){
	window.focus();
	window[window.history.pushState ? "onpopstate" : "onhashchange"] = function(event){ windows.focus(); };
}


/*]]>*/</script>
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Atrás" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Saltar a contenido principal</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Cuenta</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Configuración</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Cerrar sesión</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Mostrar panel de navegación" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Home.htm" alt="Logotipo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Cuenta</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Configuración</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Cerrar sesión</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Campo de búsqueda" placeholder="Buscar" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filtro:</span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Filtro de búsqueda" title="Todos los archivos" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">Todos los archivos</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Buscar" role="button" tabindex="0"><span class="invisible-label">Enviar búsqueda</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <script type="text/javascript">/*<![CDATA[*/$(document).ready(function(){
			$("#selectlang").appendTo("div.central-account-wrapper");
		});/*]]>*/</script>
                                    <div id="selectlang" class="headerlang">
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Language_toggle mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie select-language-button" title="Cambiar idioma">
                                                    <div>
                                                        <div role="img" class="button-icon-wrapper" aria-label="Cambiar idioma">
                                                            <div class="button-icon"> </div>
                                                        </div>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="sage-header-title">
                                        <img id="sage-header-logo" src="../Resources/Images/Sage_logo_green.svg" alt="Sage" /><span id="sage-header-product-name"><span id="sage-header-product"><span class="mc-variable Sage-Product.ProductName variable">X3 Warehousing</span></span></span>
                                    </div>
                                    <section class="sage-topic-body sage-layout-two-columns">
                                        <div class="sage-layout-topic-main">
                                            <div role="main" id="mc-main-content">
                                                <h1 id="DocumentationtechniqueduserveurRF" data-magellan-target="DocumentationtechniqueduserveurRF"> Documentation technique du serveur RF 
</h1>
                                                <p>Serveur pour Terminaux Radio Frequency <br /> </p>
                                                <p>Sommaire </p>
                                                <ol>
                                                    <li value="1"><a href="#1-installation-et-configuration">Installation et configuration</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#11---installation">1.1. Installation</a>
                                                        </li>
                                                        <li><a href="#12---v%C3%A9rification-des-licences">1.2. Vérification des licences</a>
                                                        </li>
                                                        <li><a href="#13---configuration">1.3. Configuration</a>
                                                        </li>
                                                        <li><a href="#14---autres-r%C3%A9glages">1.4. Autres réglages</a>
                                                        </li>
                                                        <li><a href="#15---param%C3%A8tres-de-la-console-dadministration">1.5. Paramètres de la console d’administration</a>
                                                        </li>
                                                    </ul>
                                                    <li value="2"><a href="#2----fen%C3%AAtre-locales">2. Fenêtre locales</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#21---choix-de-lapplication-x3">2.1. Choix de l’application X3</a>
                                                        </li>
                                                        <li><a href="#22---ecran-de-login-x3">2.2. Ecran de login X3</a>
                                                        </li>
                                                        <li><a href="#23---connexion-automatique-%C3%A0-une-application-x3">2.3. Connexion automatique à une application X3</a>
                                                        </li>
                                                        <li><a href="#24---commandes-adonix">2.4. Commandes adonix</a>
                                                        </li>
                                                        <li><a href="#25---personnalisation">2.5. Personnalisation</a>
                                                        </li>
                                                    </ul>
                                                    <li value="3"><a href="#3----mode-expert">3. Mode expert</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#31---acc%C3%A9der-au-mode-expert">3.1. Accéder au mode expert </a>
                                                        </li>
                                                        <li><a href="#32---ecran-daccueil">3.2. Ecran d’accueil</a>
                                                        </li>
                                                        <li><a href="#33---ecran-de-configuration-vt">3.3. Ecran de configuration VT </a>
                                                        </li>
                                                        <li><a href="#34---ecran-de-configuration-de-la-trace">3.4. Ecran de configuration de la trace</a>
                                                        </li>
                                                        <li><a href="#35---informations-sur-la-session-courante">3.5. Informations sur la session courante</a>
                                                        </li>
                                                        <li><a href="#36---liste-des-sessions-utilisateur">3.6. Liste des sessions utilisateur</a>
                                                        </li>
                                                        <li><a href="#37---ecrans-de-test-des-formats-x3">3.7. Ecrans de test des formats X3</a>
                                                        </li>
                                                    </ul>
                                                    <li value="4"><a href="#4--protocoles-et-%C3%A9mulateurs">4. Protocoles et émulateurs</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#41---les-fichiers-de-configuration">4.1. Les fichiers de configuration</a>
                                                        </li>
                                                        <li><a href="#42---s%C3%A9lection-des-fichiers-de-configuration">4.2. Sélection des fichiers de configuration</a>
                                                        </li>
                                                        <li><a href="#43---fichier-vt_listtxt">4.3. Fichier VT_LIST.txt</a>
                                                        </li>
                                                        <li><a href="#44---fichiers-des-attributs-de-pr%C3%A9sentation-cfg">4.4. Fichiers des attributs de présentation .cfg</a>
                                                        </li>
                                                        <li><a href="#45---fichiers-evt">4.5. Fichiers .evt</a>
                                                        </li>
                                                    </ul>
                                                    <li value="5"><a href="#5-ergonomie-des-%C3%A9crans">5. Ergonomie des écrans</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#51---styles-de-pr%C3%A9sentations">5.1. Styles de présentations</a>
                                                        </li>
                                                        <li><a href="#52---tableaux-en-mode-fiche">5.2. Tableaux en mode fiche</a>
                                                        </li>
                                                        <li><a href="#53---action-des-touches-clavier">5.3. Action des touches clavier</a>
                                                        </li>
                                                    </ul>
                                                    <li value="6"><a href="#6----reconnexion-automatique">6. Reconnexion automatique</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#61---fonctionnement-du-mode-reconnexion">6.1. Fonctionnement du mode reconnexion</a>
                                                        </li>
                                                        <li><a href="#62---identification-par-ladresse-ip">6.2. Identification par l’adresse IP</a>
                                                        </li>
                                                        <li><a href="#63---identification-par-le-code-utilisateurcode-langue-x3">6.3. Identification par le code utilisateur/code langue X3</a>
                                                        </li>
                                                        <li><a href="#64---identification-par-un-identifiant-envoy%C3%A9-par-le-terminal">6.4. Identification par un identifiant envoyé par le terminal</a>
                                                        </li>
                                                    </ul>
                                                    <li value="7"><a href="#7-activation-de-la-trace">7. Activation de la trace</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#71---emplacement-du-serveur-de-trace">7.1. Emplacement du serveur de trace</a>
                                                        </li>
                                                        <li><a href="#72---lancement-du-serveur-de-trace">7.2. Lancement du serveur de trace</a>
                                                        </li>
                                                        <li><a href="#73---activation-de-la-trace-du-serveur-rf">7.3. Activation de la trace du serveur RF</a>
                                                        </li>
                                                    </ul>
                                                    <li value="8"><a href="#8-log-de-lactivit%C3%A9-du-serveur">8. Log de l’activité du serveur</a>
                                                    </li>
                                                    <li value="9"><a href="#9-messages-derreur">9. Messages d’erreur</a>
                                                    </li>
                                                    <li value="10"><a href="#10-annexe1--personnalisation-des-touches-clavier">10. Annexe1 – Personnalisation des touches clavier</a>
                                                    </li>
                                                    <li value="11"><a href="#11-annexe2--personnalisation-du-mapping-de-caract%C3%A8re">11. Annexe2 – Personnalisation du mapping de caractère</a>
                                                    </li>
                                                    <li value="12"><a href="#12-emulateurs-et-configuration-unicodeutf-8">12. Emulateurs et configuration Unicode/UTF-8</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#121-vt-protocol-and-characters-encoding">12.1 VT protocol and characters encoding</a>
                                                        </li>
                                                        <li><a href="#122-vt-utf-8-emulators">12.2. VT UTF-8 emulators</a>
                                                        </li>
                                                        <li><a href="#123--adc-server-settings">ADC SERVER SETTINGS</a>
                                                        </li>
                                                        <li><a href="#125--autres-emulateurs">Autres emulateurs</a>
                                                        </li>
                                                    </ul>
                                                </ol>
                                                <div style="page-break-after: always;">
                                                </div>
                                                <h2 id="1Installationetconfiguration" data-magellan-target="1Installationetconfiguration">1. Installation et configuration</h2>
                                                <h2 id="11Installation" data-magellan-target="11Installation">1.1. Installation</h2>
                                                <p>Le serveur RF est un composant (web application) du serveur X3WEB. <br />Il est installé automatiquement lorsque vous installez le serveur X3WEB. </p>
                                                <h2 id="12Vérificationdeslicences" data-magellan-target="12Vérificationdeslicences">1.2. Vérification des licences</h2>
                                                <p>Il est conseillé de vérifier que vous disposez d’un nombre suffisant de licences de type terminal avant de configurer le serveur RF. <br /><br />Voir menu X3 : Développement\Utilitaires\Vérifications\Visu licence </p>
                                                <p>
                                                    <img src="../Resources/Images/images_ri_1_640x820.jpeg" alt="Licenses" style="width: 640;height: 820;" />
                                                    <br />
                                                </p>
                                                <div style="page-break-after: always;">
                                                </div>
                                                <h2 id="13Configuration" data-magellan-target="13Configuration">1.3. Configuration</h2>
                                                <h3>Configuration du serveur X3WEB</h3>
                                                <p>Le serveur X3WEB ne peut démarrer qu’après avoir saisi les paramètres obligatoires : <br /><br />Saisir le port d’écoute http du serveur HTTP Apache pour le web natif. <br /></p>
                                                <p><a href="../Resources/Images/images_javawebServer-Console-02.jpeg"><br /><img src="../Resources/Images/images_javawebServer-Console-02_640x593.jpeg" style="width: 640;height: 593;" /></a>
                                                    <br />
                                                </p>
                                                <p>Le serveur X3WEB dispose d’une console d’administration web accessible via un navigateur par l’url <br /><a href="http://ServerHostName:28880">http://ServerHostName:28880</a>. Le port du serveur http est 28880 par défaut mais il peut être modifié via la Console. <br /><br />Le redémarrage du serveur est automatique après mise à jour des paramètres. <br /></p>
                                                <p>
                                                    <img width="640" src="../Resources/Images/images_ri_5.jpeg" />
                                                    <br />
                                                </p>
                                                <h3>Configuration du serveur RF</h3>
                                                <p>Le serveur RF ouvre un port d’écoute TCP N°28023 (par défaut) utilisé pour les connexions des terminaux. <br /><br />Ce port peut être déjà ouvert par une autre application (serveur telnet sous Unix/Linux). <br /><br />Exemple sous Linux – Le message suivant est affiché si le port 28023 et déjà utilisé par le serveru FTP du système. <br /></p>
                                                <p>
                                                    <img src="../Resources/Images/images_javawebServer-TCPTest_640x82.jpeg" style="width: 640;height: 82;" />
                                                    <br />
                                                </p>
                                                <p>Il est conseillé de vérifier la disponibilité du port TCP utilisé par le serveur RF <br />(Ex : commande <code>netstat –a</code> sous Windows). <br /><br />Modifier le port d’écoute du serveur RF via les paramètres avancés de la console si il est déjà utilisé par une autre application <br /></p>
                                                <p>
                                                    <img src="../Resources/Images/images_javawebServer-Console-03_640x395.jpg" style="width: 640;height: 395;" />
                                                    <br />
                                                </p>
                                                <p>Le redémarrage du serveur est automatique après mise à jour des paramètres. </p>
                                                <h3>Vérification du bon fonctionnement du serveur</h3>
                                                <p>Lancez un émulateur, par exemple la commande telnet sous Windows (telnet ServerHostName) et vérifiez que la fenêtre ci-dessous s’affiche. Cette fenêtre est vide car aucune solution/dossier n’a été publié. </p>
                                                <p>
                                                    <img src="../Resources/Images/images_javawebServer-VT-06_220x148.jpeg" style="width: 220;height: 148;" />
                                                    <br />
                                                </p>
                                                <p>On peut aussi vérifier le log du serveur RF via la console d’administration Web. </p>
                                                <p>
                                                    <img src="../Resources/Images/images_javawebServer-VT-07_640x741.jpeg" style="width: 640;height: 741;" />
                                                    <br />
                                                </p>
                                                <p>En cas d’erreur au démarrage du serveur RF (port occupé par exemple) la ligne entourée en rouge n’est pas affichée. <br />Seule la ligne OPEN LOG est affichée. </p>
                                                <h3>Publication des solutions/dossiers</h3>
                                                <p>La publication des applications X3 est effectuée par la console d’administration. <br /><br />Le fenêtre de sélection des applications présente toutes les applications publiées, indifféremment du fait qu’elles soient ou non accessibles par un terminal VT. </p>
                                                <h3>Configuration du serveur RF sous Linux</h3>
                                                <p>Le message suivant est affiché si vous utilisez le port d’écoute N°22. Il faut choisir une autre N° de port. <br /><img alt="SSH-1.99-0penSSH_3.6.1p2" src="../Resources/Images/images_javawebServer-VT-08_320x67.jpeg" style="width: 320;height: 67;" /><br /></p>
                                                <h2 id="14Autresréglages" data-magellan-target="14Autresréglages">1.4. Autres réglages</h2>
                                                <p><strong>Taille des écrans caractères </strong>
                                                </p>
                                                <p>Le serveur gère deux types de fenêtre (au sens X3) : <br />- Les fenêtre locales au serveur RF <br />- Les fenêtre X3 <br /><br /><br />Tous les écrans caractères sont construits par le serveur sur la base d’une description XML de la fenêtre qui contient : <br /><br />- la taille en nombre de lignes et nombre de caractères par colonne <br /><br />- les caractéristiques des écrans, des blocs et des champs <br /><br />- la liste des boutons et des actions associées <br /><br />- les menus locaux <br /><br />- la liste des styles utilisés <br /><br /><br /><br /><strong>Fenêtres X3 </strong></p>
                                                <p>La description est générée par le serveur X3 lors de la validation d’un écran. <br />Elle est ensuite mise à disposition du serveur RF via un mécanisme de ‘cache’ identique à celui du serveur Web natif. <br />La taille de l’écran caractère est une propriété de l’écran X3. Elle peut varier d’une fenêtre à l’autre mais doit être identique pour tous les écrans d’une même fenêtre. <br /><br />Elle est généralement identique pour toutes les fenêtres d’une application X3. <br /><br />Pour l’application GEODE, la taille a été fixée à 8 lignes et 20 colonnes. <br /></p>
                                                <p>
                                                    <img width="640" alt="Screen dictionary" src="../Resources/Images/images_javaWebServer-screendictionary_9.jpg" />
                                                    <br />
                                                </p>
                                                <p><strong>Particularité des fenêtres X3 pour les applications VT : <br /><br />l’écran d’entête est présent dans les descriptions X3 mais toujours vide car il n’est pas pris en compte par le serveur RF. </strong>
                                                    <br />
                                                </p>
                                                <p><strong>Fenêtres Locales </strong>
                                                </p>
                                                <p>Les descriptions des fenêtres locales sont stockées dans le sous répertoire <code>TOOLS\X3TERM\WINDOWS</code> du dossier d’installation <code>TOOL</code> du serveur X3WEB. Il existe un fichier de description par langue (FRA et ENG dans la version <br />courante). <br /><br />Il est possible d’ajouter une nouvelle langue en copiant le dossier ENG sous le code langue souhaité et en modifiant les <br />textes (attributs <code>CAP</code>) dans les fichiers XML. <br /><br />La taille des écrans locaux (8x20 par défaut) est stockée dans la description (attributs <code>NLIT="8" NCOT="20"</code>).  <br /><br />Les fenêtres dont les descriptions sont stockées sur le serveur RF sont les suivantes : <br />- Le choix des solutions/applications X3 <br />- Le login <br />- Les fenêtres X3 _CHOOSE et _SEL <br />- Les fenêtres du mode expert </p>
                                                <p><strong>Choix du code langue </strong>
                                                </p>
                                                <p>A l’ouverture d’une nouvelle session utilisateur le serveur RF doit disposer d’un code langue pour pouvoir accéder à la <br />description de la fenêtre locale à afficher (choix des applications ou fenêtre de login). Le code langue par défaut est un <br />paramètre modifiable via la console d’administration (paramètre avancé <code>session.language</code>). <br /><br />A partir du moment où l’utilisateur s’est connecté au serveur X3, le serveur RF utilisera le code langue sélectionné par l’utilisateur pour lire les descriptions des fenêtres locales (retour au login, mode expert…).<br /> <br />Si aucune description n’est trouvée pour le code langue sélectionné, le serveur RF choisira le code langue ENG. </p>
                                                <h2 id="15ParamètresdelaConsoledadministration" data-magellan-target="15ParamètresdelaConsoledadministration">1.5. Paramètres de la Console d’administration</h2>
                                                <p>Ces paramètres sont accessibles via les paramètres avancés de la console d’administration du serveur X3WEB. <br />Tous les paramètres sont visibles sous l’arborescence <code>term.ctermserversvc</code>. <br /><br />Toute modification des paramètres via la console est suivie d’un arrêt/redémarrage complet du serveur X3WEB (Web natif, Web services, Serveur RF…). </p><pre xml:space="preserve">
Paramètre                       Type Description 
Paramètres généraux 
deamon.port                    Entier Port d’écoute TCP pour les terminaux. 
                                            23 par défaut 
session.videoterminal        String Protocole par défaut pour les sessions VT. 
                                            Nom du fichier de configuration VT par défaut sans l’extension. 
                                            L’utilisateur peut modifier le protocole session pour 
                                            l’adapter à son terminal via la commnde ‘CTRL P’ (Voir 
                                            VT_LIST.txt)  
                                            VT220 par défaut – VT100 si vide 
                                            Valeurs prédéfine dans TOOLS\X3TERM\VT\VT_LIST.txt 
                                            VT100 
                                            VT100_TUNE   
                                            VT100_WINDOWS 
                                            VT100_HYPERTERM 
                                            VT220=VT220 
session.expertpwd          String Mot de passe pour accéder au mode expert. 
                                   adonix par défaut 
session.language           Langue Code langue par défaut pour les sessions. Le code 
                                   langue utilisateur est mis à jour lorsque 
                                   l’utilisateur clique sur le bouton OK de la fenêtre de 
                                   LOGIN.  
                                   Vide par défaut - Mis à jour lors de l’installation 
                                   avec le code langue saisi dans l’installer 
session.testdelay          Ms     Période d’envoie en millisecondes de la séquence de 
                                   test de validité de la socket TCP. Utilisé pour 
                                   détecter les ruptures de connexion avec le terminal. 
                                   Lorsqu’une rupture de connexion est détectée la 
                                   session est arrêtée ou mise en attente en fonction du 
                                   mode de reconnexion. 
                                   Séquence envoyée - VT_100.fcg - misc.socket.check=.x00 
                                   Période 5000 millisecondes par défaut 
session.timeout            Ms     Durée maximale d’inactivité autorisée pour les 
                                   sessions VT. Passé cette durée, la session est 
                                   automatiquement fermée par le serveur. 
                                   180000 millisecondes par défaut 
session.monitor.waitimeout Ms     Durée maximale d’un état transitoire pour une session 
                                   (WaitPending, WaitActive,WaitClose). Passé cette durée 
                                   la session est automatiquement fermée par le serveur. 
                                   10000 millisecondes par défaut 
session.monitor.sleeptime Ms     Durée de l’arrêt la tâche de contrôle des session. 
                                   Définit la période de contrôle de l’activité des 
                                   sessions par le serveur. 
                                   2000 millisecondes par défaut 
session.checktermmode      on/off Active la détection automatique du protocole du 
                                   terminal par le serveur (envoie d’un séquence VT de 
                                   type ‘report’). 
                                   Si le terminal renvoie une réponse qui contient le 
                                   protocole utilisé, le serveur compare ce protocole à 
                                   celui de la session et affiche l’écran de sélection du 
                                   protocole si le protocole client et inférieur à celui 
                                   de la session (Ex : VT100 pour une session en mode 
                                   VT220). 
                                   off par défaut 
                                   Ne fonctionne qu’avec les protocoles VTxxx 
Connexion automatique à une application X3 
session.solution           Vide Code de la solution. 
session.folder             Vide Code du dossier X3. 
session.hostname           Vide Hostname du serveur de connexion. 
session.port               Vide Port TCP du serveur de connexion. 
Divers 
misc.stopleftliskey        Entier Code de l’événement qui permet d’arrêter le chargement 
                                   d’une liste gauche. La touche clavier associée à cet 
                                   événement est configurée dans le ficher VT_100.evt . 
                                   11 par défaut pour la touche ENTER - KEY_ENTER 
misc.fillingchar           Vide Caractère de remplissage des écrans. 
                                   Vide pour espace 
Affichage 
session.nbcolumns          Entier Nombre de colonnes des écrans pour les fenêtres non  
                                   gérées par X3 (locales). 
                                     20 par défaut 
session.nblines             Entier Nombre de lignes des écrans pour les fenêtres non  
                                     gérées par X3 (locales). 
                                     8 par défaut 
disp.screen.title           on/off Affichage des titres des écrans. 
                                     off par défaut 
l’écran/précédent. 
disp.screen.switch          on/off Passage automatique à 
                                     On par défaut 
disp.btn.filling            Vide Caractère de remplissage des boutons. 
                                     Vide pour espace 
disp.btn.justif             Left   Justification des libellés des boutons. 
                             right Left par défaut 
                             center 
disp.btn.max                Entier Nombre de boutons de fenêtre autorisés. 
                                     4 par défaut 
disp.tab.circular           on/off Scrolling horizontal tournant pour les tableaux. 
                                     Off par défaut 
disp.choose.title           on/off Affichage du titre pour la fenêtre _CHOOSE. 
                                     Off par défaut 
disp.selbox.title           on/off Affichage du titre pour la fenêtre _SEL. 
                                     Off par défaut 
Reconnexion 
reconnect.mode              IP     Mode de reconnexion des sessions VT. 
                             TERMID Vide par défaut – Reconnexion désactivée 
                             X3USER 
reconnect.pending.timeout Ms     Durée maximale de stockage des sessions en attente de 
                                     reconnexion. Passé cette durée la session est 
                                     automatiquement fermée par le serveur. 
                                     1800000 millisecondes par défaut 
reconnect.termid.timeout Ms     Durée maximale d’attente de réception du terminal ID à 
                                     l’ouverture de la session. Utilisé par le mode de 
                                     reconnexion TERMID. Passé cette durée, la réception 
                                     d’un TERMID n’est pas prise en compte. 
                                     2000 millisecondes par défaut  
Affichage des tableaux en mode fiche 
tabform.optimize            on/off Optimisation du nombre d’écrans en affichant plusieurs 
                                     colonnes sur une même ligne 
                                     Off par défaut 
tabform.titles              on/off Affichage des titres des colonnes 
                                     On par défaut 
</pre>
                                                <div style="page-break-after: always;">
                                                </div>
                                                <p>## 2. Fenêtre locales </p>
                                                <h2 id="21ChoixdelapplicationX3" data-magellan-target="21ChoixdelapplicationX3">2.1. Choix de l’application X3</h2>
                                                <p>Par défaut, la première fenêtre affichée par le serveur RF présente la liste des ‘solutions/dossiers/Serveurs de connexion’ qui ont été publiés sur le serveur X3Web via la console d’administration. <br />Utiliser les flèches haut/bas et droite/gauche pour la navigation dans le tableau.  <br /></p>
                                                <p><b>Attention: </b>
                                                    <br />
                                                    <br /><b><br />La liste présente toutes les applications publiées sur ce serveur, indépendamment du fait qu’elles soient ou non accessible par un terminal VT. <br /></b>
                                                </p>
                                                <p>
                                                    <img src="../Resources/Images/images_ri_10_640x151.jpeg" style="width: 640;height: 151;" />
                                                    <br />
                                                </p>
                                                <h2 id="22EcrandeloginX3" data-magellan-target="22EcrandeloginX3">2.2. Ecran de login X3</h2>
                                                <p>L’écran de login permet de saisir le code utilisateur/code langue X3. </p>
                                                <p>
                                                    <img src="../Resources/Images/images_ri_13_220x150.jpeg" style="width: 220;height: 150;" />
                                                    <br />
                                                </p>
                                                <p>Le code langue est représenté par un menu local (flèche haut/bas pour sélectionner le code langue). <br />La liste des codes langues disponibles ainsi que les ‘Regional settings’ associés au code langue sont stockés dans des fichiers locaux au serveur <code>MISC\LANGS.xml</code> et <code>MISC\INTLSETTINGS.xml</code>. </p>
                                                <h2 id="23ConnexionautomatiqueàuneapplicationX3" data-magellan-target="23ConnexionautomatiqueàuneapplicationX3">2.3. Connexion automatique à une application X3</h2>
                                                <p>Ce mode de connexion permet de sélectionner automatiquement une application X3 pour tous les utilisateurs qui se connectent au serveur et d’accéder directement à la mire de login X3. <br />Les paramètres console ci-dessous permettent de définir l’application X3 : </p><pre xml:space="preserve">
term.ctermconfig.session.solution - term.ctermconfig.session.folder 
term.ctermconfig.session.hostname - term.ctermconfig.session.port 
</pre>
                                                <p><strong>Renseigner ces paramètres en recopiant les données affichées dans l’écran de choix de <br />l’application (en particulier le hostname saisi doit être identique à celui affiché). </strong>
                                                </p>
                                                <p>Si le serveur ne trouve pas l’application dans la liste des applications publiées sur le serveur X3WEB il affiche la fenêtre de sélection des applications. <br />Si la connexion automatique est activé une MessageBox est affichée lorsque l’utilisateur ferme la fenêtre de login pour quitter l’application. L’utilisateur n’a pas accès à la liste des applications (sauf si le mode expert est activé).  </p>
                                                <p>
                                                    <img src="../Resources/Images/images_ri_14_220x155.jpeg" style="width: 220;height: 155;" />
                                                    <br />
                                                </p>
                                                <h2 id="24CommandesSageX3" data-magellan-target="24CommandesSageX3">2.4. Commandes Sage X3</h2>
                                                <p>Le serveur RF sait identifier et traiter des séquences de caractères particulières ou séquences Sage X3 utilisés pour passer des informations du terminal vers le serveur. Cette séquence peut être comparée aux paramètre d’une URL http. <br />Une séquence X3 commence par <code>ESC[adx[</code> et se termine par <code>]</code>. <br /></p>
                                                <p>La structure du contenu de la séquence est de type ‘Query string http’. <br /></p>
                                                <p><strong>Paramètres de connexion </strong>
                                                </p>
                                                <p>L'envoi de la séquence suivante permet d’activer la trace, de sélectionner une application et d’afficher directement sur la mire de logon : </p><pre xml:space="preserve">
ESC[adx[te=VT220&amp;so=DEVSOPHIA&amp;fo=SUPERV&amp;ho=sodaix01&amp;po=1940&amp;us=VT&amp;pwd=&amp;sd=on 
&amp;lg=FRA&amp;to=on&amp;th=fdalbo&amp;tp=1515&amp;tl=9] 
Début de la séquence  
      ESC[adx[ 
Protocole terminal 
      te -&gt; PROTOCOLE_EMULATEUR – Ex VT220 – VT100_TUNE… 
Coordonnées de l'application 
      so -&gt; Solution 
      fo -&gt; Dossier 
      ho -&gt; Hostname 
      po -&gt; N° de port 
Coordonnées utilisateur 
Mise à jour des champs de l’écran logon - Pas de logon automatique 
      us  -&gt; Code utilisateur 
      pwd  -&gt; Password - Désactivé 
      lg  -&gt; Code langue 
Divers 
Affichage de la liste des solutions 
off indique la fermeture de la session sur FIN logon 
     sd -&gt; on/off 
Trace 
Activation de la trace 
      to -&gt; on/off 
     th -&gt; serveur de trace : hostname        
     tp -&gt; serveur de trace : N° de port         
      tl -&gt; serveur de trace : Niveau (Level) - 0 (off) – 9 (max) 
Terminal ID 
Utilisé uniquement si me mode de reconnexion TERMID est activé 
      id -&gt; Identifiant du terminal – Chaîne de caractères unique par terminal 
Fin de la séquence  
      ] 
</pre>
                                                <p>Cette séquence peut être envoyée par le terminal soit par une MACRO soit en configurant l’émulateur pour envoyer une séquence de caractère lors de la connexion. <br /></p>
                                                <p><strong>Exemple pour l’émulateur TUNE (Macro) </strong>
                                                </p><pre xml:space="preserve">
Hide 
sleep 0.5 
Send 
"\e[adx[te=VT220&amp;so=GEODEV&amp;fo=GX140&amp;ho=aydaix03.acy.adx&amp;po=6000&amp;us=VT&amp;pwd=&amp;lg=FRA&amp;sd=on&amp;t 
o=off&amp;th=fdalbo&amp;tp=1515&amp;tl=9]" 
Display 
Return 
</pre>
                                                <p><strong>Note pour les solutions configurées avec LoadBalancer/VIP: </strong>
                                                    <br />
                                                </p>
                                                <p>Les informations passées en arguments tels que <code>ho=</code> et <code>po=</code> (Ex: <code>aydaix03.acy.adx&amp;po=6000</code>) seront traités differemment si un serveur VIP a été configuré. <br /><br />Si le serveur ADC trouve la solution avec la totalité des parametres, il basculera directement sur la fenêtre de login. <br /><br />S’il ne la trouve pas :<br /><br />- Si la solution n'est pas configurée avec un serveur VIP il affichera la fenêtre de sélection des dossiers.<br />- Si la solution est configurée et liée à un LoadBalancer/VIP, les parametres <code>ho=runtime&amp;po=port</code> seront ignorés et remplacés par les valeurs du serveur VIP. <br /></p>
                                                <p>Exemple:<br /><br />Une solution <code>LOCALGEODE</code> est configurée avec deux Runtimes (hostname FRPO402328 et ports 20124 et 20125), sur un serveur VIP <code>FRPO402328:30000</code>. La macro demande la connexion au runtime <code>ho=FRPO402328&amp;po=20125</code>. <br /></p><pre xml:space="preserve">
Send:
\033[adx[so=LOCALGEODE&amp;fo=SEEDWH&amp;ho=FRPO402328&amp;po=20125&amp;id=YT11.&amp;us=.&amp;lg=FRA&amp;sd=on]
</pre>
                                                <p>Les valeurs des parametres <code>ho=</code> et <code>po=</code> sont ignorés et remplacés par l'adresse du serveur VIP.<br /></p><pre xml:space="preserve">
INFOS: ermX3ApplicationList_1809|                  getX3App| . Application=[LOCALGEODE] Folder=[SEEDWH] is a VIP Runtime Solution. Server FRPO402328:20125 is ignored and replaced by FRPO402328:30000
</pre>
                                                <p>Fonctionnement valide depuis la Console X3 version 2.57 et JavaWeb version 2.42. <br /><br />Se reporter à la documentation de la "Console de Configuration" X3 pour plus d'informations sur la configuration des LoadBalancer/VIP avec VT100 ADC Server.<br /><br /> <br /></p>
                                                <h2 id="25Personnalisation" data-magellan-target="25Personnalisation">2.5. Personnalisation</h2>
                                                <p>Uniquement en version &gt;= 16w_105. <br /><br />Pour personnaliser les fenêtres locales il suffit de copier le fichier de description xml de la fenêtre de <br /><code>WebTools\TOOLS\ADXTERM\WINDOWS</code> vers le répertoire <code>WebData\_CUSTOMERS\ADXTERM\WINDOWS</code>. <br /><br />Il faut créer les répertoires si ils n’existent pas. <br /><br />Modifier le contenu du fichier (taille des lignes et des colonnes) pour modifier la fenêtre. <br /></p>
                                                <p><strong>WebData</strong> est le dossier d’installation des "données" / "data" du serveur X3WEB. <br /><br /><strong>WebTools</strong> est le dossier d’installation des "outils" / "tools" du serveur X3WEB. <br /></p>
                                                <p><strong>Exemple pour SOLUTIONS.xml </strong>
                                                </p>
80 colonnes et 20 lignes.<pre xml:space="preserve"><code>CODECODE CODExml
 
&lt;WIND NAM="SOLUTIONS" NLIT="20" NCOT="80"&gt; 
  &lt;SCRN PLIT="0" PCOT="0" NLIT="20" NCOT="80" CAP="cap.applst" TIT="1" TIAL="1"&gt; 
    &lt;FRM PLIT="1" PCOT="0" NLIT="18" NCOT="80" COL="4" TIT="1" TIAL="2"&gt; 
            &lt;GCO NAM="SOL"  RNK="1" NCOT="15"  AFLT="15" TYP="6" TDO="7" MAF="2" CAP="cap.sol"/&gt; 
            &lt;GCO NAM="FLDR" RNK="2" NCOT="15" AFLT="15"  TYP="6" TDO="7" MAF="2" CAP="cap.folder"/&gt; 
            &lt;GCO NAM="HOST" RNK="3" NCOT="40" AFLT="40" TYP="6" TDO="7" MAF="2" CAP="cap.host"/&gt; 
            &lt;GCO NAM="PORT" RNK="4" NCOT="7" AFLT="7" TYP="6" TDO="7" MAF="2" CAP="cap,port"/&gt;  
    &lt;/FRM&gt;  
  &lt;/SCRN&gt;  
&lt;BOU NAC="1" XID="1" CAP="btn.ok" BTX="OK"/&gt; 
&lt;BOU NAC="2" XID="2" CAP="btn.end" BTX="END"/&gt; 
&lt;/WIND&gt;</code></pre><img src="../Resources/Images/images_ri_15_640x247.jpeg" style="width: 640;height: 247;" /><br /><div style="page-break-after: always;"></div><h2 id="3Modeexpert" data-magellan-target="3Modeexpert">3. Mode expert</h2><p>Le mode expert est constitué d’un ensemble de fonctions accessibles via un mot de passe. Les écrans du mode expert <br />sont gérés par le serveur RF et non pas par le serveur X3. </p><h2 id="31Accéderaumodeexpert" data-magellan-target="31Accéderaumodeexpert">3.1. Accéder au mode expert</h2><p>Touche clavier <code>Ctrl+E</code> </p><p><img width="220" src="../Resources/Images/images_ri_16.jpeg" /><br /></p><p>Modification du mot de passe via la console d’administration </p><pre xml:space="preserve">
# Mode expert - mot de passe - Def=adonix 
term.ctermconfig.session.expertpwd=adonix 
</pre><h2 id="32Ecrandaccueil" data-magellan-target="32Ecrandaccueil">3.2. Ecran d’accueil</h2><p><img src="../Resources/Images/images_ri_17_220x149.jpeg" style="width: 220;height: 149;" /><br /></p><pre xml:space="preserve">
Ver : Version du serveur RF 
Dat : Date de la version du serveur RF 
Win : ID de la fenêtre courante 
Scr : ID de l’écran courant 
Fld : ID du champ courant (focus) 
Fmt : Format X3 associé au champ courant 
Next: Information sur la session 
VT  : Ecran de configuration VT 
Tra.: Ecran de configuration de la trace 
</pre><h2 id="33EcrandeconfigurationVT" data-magellan-target="33EcrandeconfigurationVT">3.3. Ecran de configuration VT</h2><p>La touche F2 (VT) permet de modifier la configuration VT par défaut (attribuée par le serveur) de la session utilisateur. <br /></p><p><img src="../Resources/Images/images_ri_18_220x148.jpeg" style="width: 220;height: 148;" /><br /></p><pre xml:space="preserve">
Mode : Nom du fichier de configuration (voir § Protocoles et émulateurs) de la session. 
       Utiliser le flèches haut et bas pour le modifier 
Test : Active/Désactive le mode test des séquences VT 
Ok   : Ferme la fenêtre et valide la saisie 
Fin  : Ferme la fenêtre et conserve les réglages originaux 
</pre><p>La touche TEST (F3) permet d’activer/désactiver le mode test pour : <br />- connaître le protocole utilisé par l’émulateur (si l’émulateur répond aux commandes VT de type ‘Report’) <br />- afficher les séquences VT associées aux touches du clavier. </p><p>L’écran ci-dessous a été obtenu en activant le mode TEST et en appuyant sur la touche F1. <br /><br />Il indique que l’émulateur est configuré avec le protocole VT220 et affiche la séquence VT envoyée au serveur par le terminal lorsque l’utilisateur appuie sur la touche F1. <br /><br />Cet écran est très utile pour créer de nouveaux fichiers de configuration, adaptés aux terminaux RF. <br /></p><p><img src="../Resources/Images/images_ri_19_220x151.jpeg" style="width: 220;height: 151;" /><br /></p><h2 id="34Ecrandeconfigurationdelatrace" data-magellan-target="34Ecrandeconfigurationdelatrace">3.4. Ecran de configuration de la trace</h2><p>En cas d’erreur le service HotLine Sage peut être amené à demander à l’utilisateur d’activer la trace du serveur afin d’obtenir plus d’informations sur cette erreur. </p><p><img src="../Resources/Images/images_ri_20_220x148.jpeg" style="width: 220;height: 148;" /><br /></p><pre xml:space="preserve">
Host : Hostname ou adresse IP de la machine sur laquelle est lancé le serveur de trace 
Port : N° du port TCP d’écoute du serveur de trace 
Niv. : Niveau de la trace (‘Trace off’ pour désactiver la trace) 
Ok   : Ferme la fenêtre et valide la saisie 
Fin  : Ferme la fenêtre et conserve les réglages originaux 
Voir chapitre ci-dessous ‘Activation de la trace’. 
</pre><p>Voir chapitre ci-dessous ‘Activation de la trace’.</p><h2 id="35Informationssurlasessioncourante" data-magellan-target="35Informationssurlasessioncourante">3.5. Informations sur la session courante</h2><p><img src="../Resources/Images/images_ri_21_220x148.jpeg" style="width: 220;height: 148;" /><br /></p><pre xml:space="preserve">
Recx : Mode  de reconnexion et d’identification de la session utilisateur 
       NONE   : Reconnexion désactivée 
       IP     : Reconnexion activée – Identification sur adresse IP 
       TERMID : Reconnexion activée – Identification sur ID envoyé par le terminal 
       X3USER : Reconnexion activée – Identification sur code user X3 et code langue 
ID   : Identifiant de la session interne au serveur 
IP   : Adresse IP du terminal vue par le serveur RF 
USER : Code utilisateur X3 / Code Langue 
TERM : Id du terminal – NONE si aucun ID n’a été reçu par la session 
List : Affiche la liste des sessions en cours 
Next : Test des formats X3 
</pre><h2 id="36Listedessessionsutilisateur" data-magellan-target="36Listedessessionsutilisateur">3.6. Liste des sessions utilisateur</h2><p>Affiche la liste des sessions utilisateur. Utiliser les flêches haut/bas et gauche/droite pour se déplacer dans la liste. </p><p><img src="../Resources/Images/images_ri_22_640x600.jpeg" style="width: 640;height: 600;" /><br /></p><pre xml:space="preserve">
Status      : Etat de la session 
              Active  : En cours d’utilisation 
              Pending : En attente de reconnexion 
ID          : Identifiant de la session 
              * indique la session courante 
Elapsed     : Temps écoulé depuis le dernier changement d’état de la session 
IP          : Adresse IP de la session vue par le serveur RF  
X3 User     : Code utilisateur/Code langue X3 – NONE si non connecté à X3 
Terminal ID : Identifiant du terminal – NONE si aucun identifiant 
Date       : Date d’ouverture de la session 
Heure       : Heure d’ouverture de la session 
X3 Folder   : Dossier X3 – NONE si non connecté à X3  
X3 Host     : Hostname du serveur de connexion X3 – NONE si non connecté à X3  
X3 Port     : Port TCP du serveur de connexion X3 – NONE si non connecté à X3 
Disc      : Déconnecte la session sélectionnée 
              Status pending si reconnexion active sinon ferme la session 
              Utilisé pour tester les modes de reconnexion 
Refr      : Refresh de la liste 
Kill        : Fermeture de la session sélectionnée 
</pre><p>En mode fiche (<code>CtrlF</code>) : </p><p><img src="../Resources/Images/images_ri_31_640x292.jpeg" style="width: 640;height: 292;" /><br /></p><h2 id="37EcransdetestdesformatsX3" data-magellan-target="37EcransdetestdesformatsX3">3.7. Ecrans de test des formats X3</h2><p><img src="../Resources/Images/images_ri_35_220x149.jpeg" style="width: 220;height: 149;" /><br /><br /><img src="../Resources/Images/images_ri_36_220x148.jpeg" style="width: 220;height: 148;" /><br /></p><div style="page-break-after: always;"></div><h2 id="4Protocolesetémulateurs" data-magellan-target="4Protocolesetémulateurs">4. Protocoles et émulateurs</h2><p>Le protocole de base utilisé par le serveur RF pour communiquer avec les terminaux embarqués est le VT100. <br />Comme il s’agit d’un protocole très basique qui ne gère pas tous les attributs nécessaires à une bonne présentation des écrans, nous avons autorisé l’utilisation du protocole VT220 qui est disponible sur la plupart des terminaux. <br /><br />Le protocole définit : <br /><br />- les séquences de caractères que le serveur doit envoyer au terminal pour afficher un écran <br />- les séquences de caractères que le serveur reçoit lorsque l’utilisateur appuie sur une touche clavier <br /><br />Pour une même version de protocole VT (ex VT220) nous avons noté des différences entre les émulateurs, différences qui concernent aussi bien les attributs disponibles que les codes des séquences de caractères associées aux touches clavier. <br /><br />Afin de permettre au serveur RF de s’adapter à tout type de terminal nous avons mis en place des fichiers (texte) qui permettent de configurer les attributs de présentations et les séquences de caractères par type de protocole et par émulateur. </p><h2 id="41Lesfichiersdeconfiguration" data-magellan-target="41Lesfichiersdeconfiguration">4.1. Les fichiers de configuration</h2><p>Il existe deux types de fichier : <br /><br />- Fichiers de configuration des attributs de présentation <code>.cfg</code> <br /><br />- Fichiers de configuration des séquences de caractères associées aux touches clavier <code>.evt</code> <br /></p><p>Le nom du fichier est constitué de deux parties séparées par ‘_’ :  <br /><br />- Le type de protocole <br /><br />- Le nom de l’émulateur <br /><br />Seul le nom du protocole est obligatoire. <br />Nom du fichier : PROTOCOLE_EMULATEUR.  <br /><br />Ex : <code>VT100, VT100_HYPERTERM, VT220</code></p><p>Les fichiers sont stockés dans le sous-répertoire <code>TOOLS\X3TERM\VT</code> du répertoire d’installation <code>TOOL</code> du serveur X3WEB. </p><p><strong><br />Attention : <br /><br />L’application d’un patch sur le serveur X3WEB peut remplacer les fichiers de configuration VT. <br /><br />Il est conseillé : <br /><br />- d’utiliser ses propres fichiers plutôt que de modifier les fichiers existants <br /><br />- d’effectuer une sauvegarde des fichiers VT_LIST.txt et des fichiers de configuration modifiés avant d’appliquer le patch <br /><br />- de vérifier le contenu en comparant les fichiers texte après l’application du patch <br /><br /></strong></p><h2 id="42Sélectiondesfichiersdeconfiguration" data-magellan-target="42Sélectiondesfichiersdeconfiguration">4.2. Sélection des fichiers de configuration</h2><p>Le serveur RF n’est pas en mesure de pouvoir identifier automatiquement le type de terminal lors de la connexion. <br />Il est donc nécessaire de configurer le serveur RF pour définir une configuration Protocole/Emulateur par défaut. Cette configuration sera utilisée pour tous les terminaux qui se connectent au serveur. L’utilisateur a la possibilité de modifier ce paramètre via le mode expert.<br /> <br />Configuration par défaut modifiable via la console d’administration :  <br /></p><pre xml:space="preserve">
#Default VT protocol - VT220 VT100... 
term.ctermconfig.session.videoterminal=VT220 
</pre><p>L’écran de configuration VT en mode expert (menu local Mode) permet de sélectionner un fichier de configuration. <br />La commande ‘CTRL P’ permet de sélectionner le protocole sans avoir à passer par le mode expert. <br />Le menu local Mode est mis à jour avec le contenu du fichier <code>VT_LIST.txt</code></p><p><img width="220" src="../Resources/Images/images_ri_37.jpeg" /><br /></p><h2 id="43FichierVTLISTtxt" data-magellan-target="43FichierVTLISTtxt">4.3. Fichier VT_LIST.txt</h2><p>Ce fichier contient la liste des protocoles/émulateurs gérés par le serveur. <br /><br />Cette liste est affichée dans l’écran de configuration VT (menu local) et permet de sélectionner le type de terminal utilisé. <br /></p><pre xml:space="preserve">
Format : Nom du ficher (.cfg ou .evt)=Libellé pour l'affichage 
# VTCONFIG WINDOW - VT MODE LOCAL MENU - KEY=LABEL 
VT100=VT100 
VT100_TUNE=VT100_TUNE   
… 
</pre><p><strong><br />Le fichier VT_LIST.txt est remplacé lors des mises à jour du serveur X3WEB. <br /></strong><br /><br /></p><p><strong>Personnalisation version inférieure à 16w_105 </strong><br /></p><p><strong><br />Pour personnaliser la liste des terminaux il est recommandé de créer un fichier VT_LIST_CUSTOM.txt et d’ajouter la liste des terminaux à présenter dans la liste de sélection. <br /></strong><br />Pour ajouter un nouveau terminal :  <br /><br />- Créer les fichiers .cfg et/ou .evt pour ce terminal <br /><br />  Il est recommandé, mais non obligatoire, de choisir un nom suffixé par <code>CUSTOM</code> pour s’assurer que ce fichier ne sera pas remplacé par une procédure de mise à jour (Ex : <code>VT220_USA_CUSTOM.cfg</code>). <br /><br />- Ajouter une nouvelle ligne dans <code>VT_LIST_CUSTOM.txt</code><br /><br /><code>VT220_USA_CUSTOM=VT220</code> <br /></p><p><strong>Personnalisation version supérieure à 16w_105 </strong></p><p>Pour personnaliser les réglages il suffit de copier le fichier VT_LIST.txt dans le répertoire <code>_CUSTOMERS\ADXTERM\VT</code><br />du dossier d’installation <code>Data</code> du serveur X3WEB et de modifier le contenu du fichier. Créer les répertoires si ils n’existent pas. <br /></p><p><img src="../Resources/Images/images_ri_38_320x124.jpeg" style="width: 320;height: 124;" /><br /></p><h2 id="44Fichiersdesattributsdeprésentationcfg" data-magellan-target="44Fichiersdesattributsdeprésentationcfg">4.4. Fichiers des attributs de présentation .cfg</h2><p>Ce fichier contient les paramètres d'affichage : <br /><br />1. Hiérarchie sur deux niveaux Protocole/Emulateur <br />2. Le niveau est donné par le nom du fichier PROTOCOLE_EMULATEUR <br /></p><pre xml:space="preserve">
    Ex : VT100_WINDOWS.cfg – VT100 pour l’émulateur telnet de Windows 
</pre><ol><li value="1">Tous les protocoles héritent de la configuration VT100.cfg </li><li value="2">Le fichier .cfg contient uniquement les différences par rapport aux niveaux supérieurs </li></ol><pre xml:space="preserve">
                VT100.cfg 
                  | 
      ----------------------------- 
      |            |              | 
  VT220.cfg     VT320.cfg     --------- 
      |             |           |   |    |     
  ---------    ---------      EMULATEURS 
  |   |   |    |   |   | 
  EMULATEURS   EMULATEURS 
</pre><p>La description des paramètres de configuration est disponible dans le fichier VT100.CFG sous la forme de commentaires. <br /><br /><strong>Exemple : </strong><br /><br />L’émulateur Windows utilise le CharSet Cp858 pour convertir les octets en caractères unicode contrairement aux autres <br />émulateurs qui utilisent le CharSet ISO-8859-1. De plus cet émulateur gère la combinaison des attributs ‘Gras et Inverse vidéo’ contrairement aux autres émulateurs VT100. Nous avons surchargé uniquement les paramètres concernés dans le fichier VT100_WINDOWS.cfg.  <br /></p><pre xml:space="preserve">
misc.disp.charset=Cp858 
#Gras/InverseVideo permet de gérer le focus sur les boutons 
misc.btn.focus=yes  
</pre><p><br /></p><p><strong>Modification 14w_036 </strong></p><p><strong>Il est possible d’activer le mode sélection pour les champs de saisie via les paramètres suivants : </strong></p><pre xml:space="preserve">
# Attribut pour afficher le contenu non sélectionné 
attr.field.edit.focus=16 
# Attribut pour afficher le contenu sélectionné (sur prise de focus) 
attr.field.edit.selected=20 
# Activation/Désactivation du mode sélection 
misc.fld.selection=no 
# no : le contenu du champ n'est pas sélectionné sur prise de focus 
# --&gt; La saisie d'un caractère n'efface pas le contenu 
# yes : le contenu du champ est sélectionné sur prise de focus 
# --&gt; La saisie d'un caractère/backspace/delete le contenu du champ 
# --&gt; La saisie des flèches left/right/up/down désactive la sélection et permet la saisie 
#     sans supprimer le contenu 
</pre><p>Ce mode est actif sur le champ qui a le focus. Il permet de remplacer la valeur courante d’un champ lors de la saisie sans avoir à l’effacer au préalable. </p><p><strong>Personnalisation version inférieure à 16w_105 </strong><br /></p><p>Créer un fichier <code>VTxxx_CUTSOM.cfg</code> et modifier le contenu. Ce fichier sera pris en compte à la place du fichier <code>VTxxx.cfg</code>. </p><p><strong>Personnalisation version supérieure à 16w_105 </strong><br /></p><p>Pour personnaliser les réglages il suffit de copier le fichier VTxxx.cfg dans le répertoire <code>_CUSTOMERS\ADXTERM\VT</code> <br />du dossier d’installation Data du serveur X3WEB et de modifier le contenu du fichier. Créer les répertoires si ils n’existent <br />pas. </p><h2 id="45Fichiersevt" data-magellan-target="45Fichiersevt">4.5. Fichiers .evt</h2><p>Ce fichier contient la définition des séquences VT reçues par le serveur RF. Il définit le lien entre une séquence d'octets (touche clavier – pas de souris) et un événement utilisateurs codé en interne sous la forme d’un entier. Le serveur RF ne traite que les séquences décrites dans ces fichiers. </p><ol><li value="1"><p>La séquence VT est une suite d’octets </p></li><li value="2"><p>L'événement serveur est identifié par un nombre </p></li><li value="3"><p>Les fichiers sont structurés comme les fichiers .cfg et chaque fichier ne contient que les différences par rapport au niveau supérieur </p></li></ol><pre xml:space="preserve">
                           VT100.evt 
                                | 
                ------------------------------ 
                |                |             | 
           VT220.evt        VT320.evt    --------- 
                |               |         |   |   |     
          ---------      ---------      EMULATEURS 
          |   |   |      |   |   | 
           EMULATEURS     EMULATEURS 
</pre><p><strong>Exemple :</strong> <br /><br />Lorsque l’utilisateur appuie sur la touche ENTER, l’émulateur Windows envoie la séquence d’octets Ascii(13)+Ascii(10) <br />ou 0D0A en hexadécimal, contrairement aux autres émulateurs qui envoient Ascii(13) ou 0D en hexadécimal. Nous avons surchargé uniquement le paramètre concerné dans le fichier VT100_WINDOWS.evt.  </p><pre xml:space="preserve">
#KEY_ENTER=11 
11=.x0D.x0A 
</pre><p><strong>Modification 14w_036 </strong><br /></p><p>Il est possible d’affecter plusieurs séquences VT à un événement (une action) serveur en utilisant le séparateur ‘ ,’. <br />Par exemple si on souhaite utiliser les touches TAB et ENTER pour passer au champ suivant il suffit de créer un fichier <br />de réglage VT220_USA_CUSTOM.evt et de personnaliser la liste des protocoles (voir § 4.3). </p><p>Exemple de configuration pour le fichier .evt </p><pre xml:space="preserve">
#KEY_TAB_RIGHT=4 – Affecte les touches Tab et ENTER à l’action interne TAB_RIGHT 
4=.x09,.x0D 
#KEY_ENTER=11 – Affecte ta touche F12 à l’action interne ENTER 
11=.x1B.x5B.x32.x34.x7E 
#KEY_RETURN=12 – Annule l’action RETURN 
12= 
#KEY_F12=112 – Annule l’action F12 car la touche F12 est utilisée par ENTER 
112= 
</pre><p><strong>Personnalisation version inférieure à 16w_105 </strong></p><p>Créer un fichier VTxxx_CUTSOM.evt et modifier le contenu. Ce fichier sera pris en compte à la place du fichier VTxxx.evt. </p><p><strong>Personnalisation version supérieure à 16w_105 </strong></p><p>Pour personnaliser les réglages il suffit de copier le fichier VTxxx.evt dans le répertoire <code>_CUSTOMERS\ADXTERM\VT</code><br />du dossier d’installation Data du serveur X3WEB et de modifier le contenu du fichier. Créer les répertoires si ils n’existent <br />pas. </p><div style="page-break-after: always;"></div><h2 id="5Ergonomiedesécrans" data-magellan-target="5Ergonomiedesécrans">5. Ergonomie des écrans</h2><h2 id="51Stylesdeprésentations" data-magellan-target="51Stylesdeprésentations">5.1. Styles de présentations</h2><p>Liste des styles de présentation X3 pris en compte par le serveur VT : </p><pre xml:space="preserve">
Propriété            Valeur                 Attribut VT 
font-weight          bold                   Gras 
                     normal                 Normal 
                     bolder                 Inverse-vidéo 
text-decoration      underline              Souligné 
                     blink                  Clignotant 
text-align           center                 Centré 
                     left                   Alignement à gauche 
                     right                  Alignement à droite 
</pre><p>Exemple : <br /></p><pre xml:space="preserve">
Inverse-vidéo et centré : 
- font-weight:bolder;text-align:center  
Gras, souligné, inverse-vidéo et centré 
- font-weight:bold;text-decoration:underline;font-weight:bolder;text-align:center 
</pre><h2 id="52Tableauxenmodefiche" data-magellan-target="52Tableauxenmodefiche">5.2. Tableaux en mode fiche</h2><p>Les touches clavier  <code>‘CtrlF’</code> ou <code>‘Enter’</code> permettent d’afficher un tableau ou une liste gauche (fenêtre de sélection) en mode fiche. Ces touches sont actives sur le tableau qui a le focus. <br />Il s’agit d’un mode fiche simplifié par rapport au mode fiche disponible sur les clients X3 web et windows. <br />Ce mode d’affichage présente une ligne d’un tableau par écran, les colonnes étant affichées verticalement. <br />Le déplacement dans les lignes est géré par le serveur RF sans dialogue le serveur X3. <br /><br />Le serveur RF effectue la sélection de la ligne sur le serveur X3 lors de la fermeture de la fenêtre du mode fiche par l’utilisateur via les touches <code>‘CtrlF’</code> ou <code>‘Enter’</code>. </p><p><img src="../Resources/Images/images_ri_39_640x153.jpeg" style="width: 640;height: 153;" /><br /><br /><code>-1- Mode tableau -2- Mode fiche -3- Ecran suivant -</code></p><pre xml:space="preserve">
Icône Touche clavier                        Description 
|&lt;     HOME              Affichage première ligne 
&lt;      Flèche haut     Affichage ligne suivante 
&gt;      Flèche bas      Affichage ligne précédente 
&gt;|     END/FIN          Affichage dernière ligne 
&lt;-     Flèche gauche Affichage écran précédent (colonnes précédentes) 
-&gt;     Flèche droite Affichage écran suivant (colonnes suivantes) 
2/99   Ligne courante/Nombre de lignes 
       CtrlF ou ENTER Fermeture de la fenêtre et sélection de la ligne  courante 
</pre><p><strong>Optimisation de l’espace d’affichage </strong><br /></p><p>Le paramètre de la Console de configuration <code>tabform.optimize</code> permet d’optimiser l’espace en autorisant l’affichage du titre de la colonne et de la valeur sur la même ligne si la taille le permet. [(Taille Titre + 1 + Max(taille valeur) ) &lt;= Largeur Ecran]. <br /></p><pre xml:space="preserve">
Valeur par défaut : off 
</pre><p>Exemple colonnes Port et Dossier ci-dessous. <br /></p><p><img src="../Resources/Images/images_ri_49_220x153.jpeg" style="width: 220;height: 153;" /><br /><br /><img src="../Resources/Images/images_ri_50_220x144.jpeg" style="width: 220;height: 144;" /><br /></p><p>Le paramètre console <code>‘tabform.titles’</code> permet d’afficher/masquer les titres des colonnes. <br /><br /><code>Valeur par défaut : on</code></p><p><img src="../Resources/Images/images_ri_51_220x153.jpeg" style="width: 220;height: 153;" /><br /><br />-1- Mode tableau <br /></p><p><img src="../Resources/Images/images_ri_52_220x152.jpeg" style="width: 220;height: 152;" /><br /><br />-2- Mode fiche <br /></p><h2 id="53Actiondestouchesclavier" data-magellan-target="53Actiondestouchesclavier">5.3. Action des touches clavier</h2><pre xml:space="preserve">
Touche       Contexte/Focus     Description 
ARROW_UP    Liste gauche       Défilement d’une ligne vers le haut 
            Bloc tableau       Défilement d’une ligne vers le haut 
            Mode fiche tableau Défilement d’une ligne vers le haut 
            MessageBox         Défilement du texte d’une ligne vers le haut 
            Champ menu local   Défilement des valeurs d’une ligne vers le haut 
ARROW_DOWN Liste gauche        Défilement d’une ligne vers le bas 
            Bloc tableau       Défilement d’une ligne vers le bas 
            Mode fiche         Défilement d’une ligne vers le bas 
            MessageBox         Défilement du texte d’une ligne vers le bas 
            Champ menu local   Défilement des valeurs d’une ligne vers le bas 
ARROW_LEFT Liste gauche        Défilement d’une colonne vers la gauche 
            Bloc tableau       Défilement d’une colonne vers la gauche 
            Mode fiche tableau Affichage des valeurs des colonnes précédentes 
            Groupe de boutons Passage au bouton précédent 
            Champ menu local   Décalage du libellé vers la gauche si dépassement écran 
                               Passage champ/écran précédent en fin de défilement 
            Champ éditable     Déplacement du curseur d’un caractère vers la gauche 
                               Passage champ/écran précédent en fin de défilement 
ARROW_RIGHT Liste gauche       Défilement d’une colonne vers la droite 
            Bloc tableau       Défilement d’une colonne vers la droite 
            Mode fiche tableau Affichage des valeurs des colonnes suivantes 
            Groupe de boutons  Passage au bouton suivant 
            Champ menu local   Décalage du libellé vers la droite si dépassement écran  
                               Passage champ suivant en fin de défilement 
            Champ éditable     Déplacement du curseur d’un caractère vers la droite 
                               Passage champ/écran suivant en fin de défilement 
TAB_LEFT    Liste gauche       Défilement d’une colonne vers la gauche 
            Bloc tableau       Passage au champ précédent 
                               Passage écran précédent si premier champ 
            Groupe de boutons  Passage au bouton précédent 
            Champ              Passage au champ précédent 
                               Passage écran précédent si premier champ 
                               Retour à la valeur initiale si saisie incorrecte 
TAB_RIGHT Liste gauche         Défilement d’une colonne vers la droite 
            Bloc tableau       Passage au champ suivant 
                               Passage écran suivant si dernier champ 
            Groupe de boutons  Passage au bouton suivant 
            Champ              Passage au champ suivant si saisie Ok 
                               Passage écran précédent si dernier champ  
                               Sans effet si saisie incorrecte 
BACKSPACE Liste gauche         Défilement d’une colonne vers la gauche 
            Bloc tableau       Passage au champ précédent 
                               Passage écran précédent si premier champ 
            Champ menu local   Passage champ/écran précédent 
            Champ éditable     Effacement du caractère précédent 
                               Passage champ/écran précédent sur 1  caractère 
PAGE_UP     Liste gauche       Affichage page précédente  
            Bloc tableau       Affichage page précédente  
PAGE_DOWN Liste gauche         Affichage page suivante 
            Bloc tableau       Affichage page suivante 
PAGE_HOME Liste gauche         Sélection 1 ère cellule – 1 ère colonne et 1ère ligne
            Bloc tableau       Sélection 1 ère cellule - 1ère  colonne et 1ère  ligne 
            Mode fiche tableau Sélection 1 ère ligne 
             Champ               Positionnement sur le 1 er champ de l’écran 
INSERT      Champ éditable     Changement de mode de saisie insertion/‘refrappe’ 
DELETE      Champ éditable     Suppression du caractère suivant 
ENTER       Groupe de bouton   Envoi de l’action du bouton qui a 
                                                                     le focus (hilite) 
                                 Paramètres VT100.cfg - misc.btn.defkey et misc.btn.focus 
             Mode fiche tableau Sélection de la ligne courante et fermeture de la fenêtre 
             Fenêtre X3         Si aucun bouton n’a le focus alors envoie de l’action de 
                                 validation de l’écran (1028) 
             Liste gauche       Arrêt du chargement de la liste si chargement en cours 
                                 Paramètre console - term.ctermconfig.misc.stopleftliskey 
                                 Sinon envoi de l’action du bouton ‘hilite’ 
RETURN      Idem touche ENTER 
END          Mode fiche tableau Sélection dernière ligne 
PAUSE       Non prise en compte 
F1           Fenêtre             Envoi de l’action du bouton N°1 en partant de la gauche 
                                 Généralement emplacement du bouton OK 
F2           Fenêtre             Envoi de l’action du bouton N°2 en partant de la gauche 
F3           Fenêtre             Envoi de l’action du bouton N°3 en partant de la gauche 
                                 Réservé pour les boutons contextuels SEL, SelR et PAGE 
F4           Fenêtre             Envoi de l’action du bouton N°4 en partant de la gauche 
                                 Généralement emplacement du bouton FIN 
F5           Non utilisée 
F6           Fenêtre sélection Pagination - Lecture des données précédentes  
                                 Paramètre VT100.cfg - misc.choose.pgup 
F7           Fenêtre sélection Pagination - Lecture des données suivantes  
                                 Paramètre VT100.cfg - misc.choose.pgup 
Ctrl+E       Fenêtre             Activation du mode expert 
                                 Demande de saisie du mot de passe la première fois  
                                 Paramètre VT100.evt KEY_EXPERTMODE 
CtrlC       En mode expert     Fermeture de la session courante. Demande de confirmation 
                                 Paramètre VT100.evt KEY_STOPSESSION 
CtrlS       Fenêtre             Information des informations de la session 
                                 Version/Fenêtre/Ecran/Champ/FormatX3  
                                 Paramètre VT100.evt KEY_INFOSESSION 
CtrlF       Liste gauche        Affichage/Fermeture du mode fiche  
             Bloc tableau       Paramètre VT100.evt KEY_TABFORMMODE 
CtrlP       Fenêtre             Affichage de l’écran de sélection du protocole session 
                                 Idem bouton VT du mode expert 
                                 Paramètre VT100.evt KEY_SELECTPROTOCOL 
</pre><p>Tous les événements associés aux touches clavier sont modifiables dans les fichiers *.evt. </p><div style="page-break-after: always;"></div><h2 id="6Reconnexionautomatique" data-magellan-target="6Reconnexionautomatique">6. Reconnexion automatique</h2><p>Le serveur RF propose un mode de reconnexion automatique qui permet aux utilisateurs de retrouver leur session en cas de rupture de connexion entre le terminal et le serveur. Pour cela, le serveur RF doit pouvoir identifier le terminal de l’utilisateur. Il existe 3 modes d’identification des terminaux : <br />- L’adresse IP <br />- Le code utilisateur X3 <br />- L’identification du terminal </p><p>Le mode de reconnexion est activé lorsque le paramètre console <code>[term.ctermconfig.reconnect.mode]</code> est <br />renseigné avec l’une des valeurs suivantes <code>[IP, TERMID, X3USER]</code>. </p><h2 id="61Fonctionnementdumodereconnexion" data-magellan-target="61Fonctionnementdumodereconnexion">6.1. Fonctionnement du mode reconnexion</h2><p><b>Sauvegarde des sessions </b></p><p>Après avoir accepté une demande de connexion de la part d’un terminal, le serveur RF effectue un contrôle périodique <br />de la session utilisateur pour savoir si elle est toujours ‘active’. Une session est active si : <br />- Le délais d’inactivité de la session n’est pas dépassé  <code>[term.ctermconfig.session.timeout]</code> <br />- La connexion avec le terminal est toujours active (socket TCP ouverte). <br />       Pour tester les ruptures de connexion avec le terminal le serveur RF envoie périodiquement <br /><code>[term.ctermconfig.session.testdelay]</code> une séquence de caractères <code>[misc.socket.check]</code> au <br />       terminal au travers d’une tâche de contrôle <code>[term.ctermconfig.session.monitor.sleeptime]</code>.<br /> </p><p>Le traitement effectué par le serveur suite à la détection d’une rupture d’activité/connexion est fonction du mode de reconnexion. <br /><br />- Si le mode de reconnexion n’est pas activé la session utilisateur ainsi que la session X3 sont fermées <br />- Si le mode de reconnexion est activé, le serveur effectue le traitement suivant : <br /><br />  1. Déconnecte la session du terminal (ferme la socket TCP du terminal) et arrête la tâche de contrôle mais conserve la session X3. La session est dans l’état <code>pending</code> <br /><br />  2. Stocke la session <code>pending</code> afin de pouvoir la retrouver <br /><br />  3. Attend une éventuelle reconnexion du terminal <br /></p><p>La durée maximale d’attente de reconnexion d’un terminal est paramétrable. Passé ce délais la session utilisateur ainsi <br />que la session X3 sont fermées. Paramètre : <code>[term.ctermconfig.reconnect.pending.timeout]</code>. <br /></p><p>Lorsque le serveur ferme une session utilisateur il envoie toujours un message indiquant la cause de la fermeture. <br /></p><p><img src="../Resources/Images/images_ri_53_220x78.jpeg" style="width: 220;height: 78;" /><br /><br />Session fermée par l’utilisateur en appuyant sur le bouton FIN de la fenêtre SOLUTION ou LOGON. <br />Session non sauvegardée. <br /><br /><br /><img src="../Resources/Images/images_ri_54.jpeg" width="220" /><br /><br />Session déconnectée pour cause de dépassement de la durée d’activité. <br /><br />Session sauvegardée.<br /><br /></p><p><img src="../Resources/Images/images_ri_55_220x111.jpeg" style="width: 220;height: 111;" /><br /><br />Tentative de reconnexion à une session en cours d’utilisation.<br />Cas d’envoie d’un terminal ID utilisé par un autre terminal connecté au serveur.<br />Session non sauvegardée.<br /><br /></p><p><img src="../Resources/Images/images_ri_56_220x79.jpeg" style="width: 220;height: 79;" /><br /><br />La session a été fermée par l’administrateur, à partir de l’écran ‘Liste sessions’ du mode expert.<br /><br /></p><p><img src="../Resources/Images/images_ri_57_220x65.jpeg" style="width: 220;height: 65;" /><br /><br />La session a été déconnectée par l’administrateur, à partir de l’écran ‘Liste sessions’ du mode expert. Elle reste en attente de reconnexion (utilisé pour les tests).</p><p><strong>Reconnexion </strong></p><p>En mode reconnexion automatique, lorsque le serveur RF reçoit une demande de connexion de la part d’un terminal il applique la procédure de reconnexion suivante : <br />- Essaie d’identifier le terminal <br />       Le mode d’identification du terminal dépend du mode de reconnexion (voir ci-dessous). <br />- Si le terminal est identifié, recherche une session utilisateur ‘pending’ pour ce terminal <br /><br />- Si aucune session utilisateur ‘pending’ n’a été trouvée le serveur crée une nouvelle session utilisateur <br />- Si il existe une session utilisateur ‘pending’ pour ce terminal le serveur effectue le traitement suivant : <br />             1. Connecte la session utilisateur ‘pending’ au terminal via la socket TCP <br />             2. Lance la tâche de contrôle de la session <br />             3. Change l’état de la session en ‘active’ </p><p>### 6.2. Identification par l’adresse IP </p><p>Paramètre : <code>term.ctermconfig.reconnect.mode=IP</code> <br /><br />Le terminal est identifié par l’adresse IP que reçoit le serveur lors de la demande de connexion. C’est la manière la plus simple et la plus courante pour identifier un terminal. <br /><br />Cependant, dans certaines configurations réseau, l’adresse IP du terminal que voit le serveur RF n’est pas forcément celle du terminal (proxy, NAT…). C’est pour cette raison que nous proposons d’autres méthodes d’identification des terminaux (TERMID et X3USER). <br /><br />L’identification du terminal est effectuée lors de la demande de connexion. Le serveur n’attend aucune action ni de la part du terminal (TERMID) ni de l’utilisateur (X3USER). </p><p>Scénario reconnexion par adresse IP <br /></p><p><img src="../Resources/Images/images_ri_58_360x151.jpeg" style="width: 360;height: 151;" /><br /><br />   -1- Ecran initial <br /><br />   -2- Déconnexion <br /></p><p><img src="../Resources/Images/images_ri_60_360x151.jpeg" style="width: 360;height: 151;" /><br /><br />   -3- Reconnexion OK<br /><br />   -4- Retour écran initial <br /></p><p><strong>Cas d’une ouverture de session avec une adresse IP déjà référencée en mode reconnexion IP   </strong></p><p>Le serveur déconnecte/ferme la session en cours d’utilisation et reconnecte cette session sur la nouvelle socket TCP (terminal). <br />Message reçu par l’utilisateur déconnecté   </p><p><img src="../Resources/Images/images_ri_62_220x119.jpeg" style="width: 220;height: 119;" /><br /></p><p>Message affiché pour l’utilisateur connecté </p><p><img src="../Resources/Images/images_ri_63_220x151.jpeg" style="width: 220;height: 151;" /><br /></p><h2 id="63IdentificationparlecodeutilisateurcodelangueX3" data-magellan-target="63IdentificationparlecodeutilisateurcodelangueX3">6.3. Identification par le code utilisateur/code langue X3</h2><p><code>Paramètre : term.ctermconfig.reconnect.mode=X3USER</code><br /><br />Ce mode de reconnexion ne fonctionne que si le mode de connexion automatique est activé. Le premier écran affiché <br />est la mire de login X3. L’application X3 est identique pour tous les utilisateurs. <br />La procédure d’identification est activée lorsque l’utilisateur valide les informations de logon : code utilisateur X3, mot de <br />passe et code Langue : </p><ol><li value="1"><p>Recherche d’une session <code>‘pending’</code> ou <code>‘active’</code> pour laquelle le code utilisateur X3 et le code langue sont <br />   identiques aux codes saisis par l’utilisateur </p></li><li value="2"><p>Si le serveur a trouvé une session <code>‘active’</code> il ferme la session courante et affiche un message utilisateur </p></li><li value="3"><p>Si le serveur n’a trouvé aucune session <code>‘pending’</code>, la session courante est conservée et la connexion au <br />   serveur X3 est lancée </p></li><li value="4"><p>Si le serveur a trouvé une session <code>‘pending’</code> il vérifie le mot de passe saisi avec le mot de passe utilisé pour connecter la session <code>‘pending’</code> à X3 </p></li></ol><p>A. Si le mot de passe n’est pas vérifié, retour à la mire de logon avec affichage d’un message <br />B. Si le mot de passe est vérifié alors le terminal est connecté à session ‘pending’ (en utilisant la socket courante) et la session courante est fermée </p><p><strong>Scénario reconnexion par code utilisateur X3 </strong><br /></p><p><img src="../Resources/Images/images_ri_64_640x681.jpeg" style="width: 640;height: 681;" /><br /></p><p>-1- Ecran login <br /><br />-2- Ecran X3 <br /><br />-3- Déconnexion <br />-4- Reconnexion <br /><br />-5- Identification en <br /><br />-6- Reconnexion OK </p><p><img src="../Resources/Images/images_ri_66_640x366.jpeg" style="width: 640;height: 366;" /><br /></p><p>-7- Retour écran initial <br /><br />-8- Mot de passe non validé <br /><br />-9- Une session ‘active’ a été trouvée </p><h2 id="64Identificationparunidentifiantenvoyéparleterminal" data-magellan-target="64Identificationparunidentifiantenvoyéparleterminal">6.4. Identification par un identifiant envoyé par le terminal</h2><p><code>Paramètre : term.ctermconfig.reconnect.mode=X3USER</code><br />Ce mode de reconnexion est activé dès lors que le serveur a reçu une séquence de caractère particulière, envoyée par le terminal et qui contient l’identifiant de ce terminal. Il s’agit d’une séquence Adonix (voir § commandes adonix). <br /></p><p><code>Séquence de caractères : ESC[adx[id=TerminalID]</code> <br /><br />L’identifiant peut être inclus dans la séquence de connexion si l’utilisateur utilise une MACRO pour se connecter à l’application. <br /></p><p>Le délai d’attente de réception de l’identifiant est paramétrable : <br /></p><p><code>Délais d’attente : reconnect.termid.timeout</code> <br /><br />Paramètre décrivant l’obligation ou non la reception par le serveur VT sur connexion d’un TERMID pour se connecter au<br />serveur VT. Si le paramètre a pour valeur « yes », le serveur VT refusera la connexion d’un client n’envoyant pas le<br />TERMID. Si le paramètre a pour valeur « no », le serveur VT permettra une connexion d’un client n’envoyant pas le<br />TERMID mais ne permettra pas de reconnexion de ce client ne pouvant pas l’identifier.</p><p><code>term.ctermconfig.reconnect.mode.termid.strict=yes</code> <br /></p><p>Procédure de connexion : <br />   1. Ouverture de la session <br />   2. Attente de réception de l’identifiant du terminal (2 secondes par défaut) <br />   3. Si aucune réception d’identifiant alors la session courante est conservée <br /><br />   4. Si réception d’un identifiant et session <code>active</code> trouvée alors fermeture de la session courante avec message utilisateur <br />   5. Si réception d’un identifiant et session <code>pending</code> trouvée alors connexion du terminal avec la session <code>pending</code> et fermeture de la session courante <br /><br />   6. Si réception d’un identifiant et aucune session ‘pending’ trouvée alors la session courante est conservée </p><p>Scénario reconnexion par identifiant de terminal <br /></p><p><img src="../Resources/Images/images_ri_67_640x326.jpeg" style="width: 640;height: 326;" /><br /></p><ul><li>1 Connexion               </li><li>2 Ecran X3</li><li>4 Déconnexion </li></ul><p><img src="../Resources/Images/images_ri_68_640x650.jpeg" style="width: 640;height: 650;" /><br /></p><ul><li>5 Reconnexion       </li><li>6 Terminal ID reçu et      </li><li>7 Retour écran validé initial </li><li>9 Une session ‘active’ a été trouvée </li></ul><div style="page-break-after: always;"></div><h2 id="7Activationdelatrace" data-magellan-target="7Activationdelatrace">7. Activation de la trace</h2><p>Le serveur X3WEB met à disposition de l’administrateur un mode de trace qui peut être activé en cas d’erreur afin <br />d’obtenir des informations complémentaires sur les causes de cette erreur. <br />Le principe est le suivant : <br />- Le code Java du serveur X3WEB contient des instructions de traces (mises par le programmeur) et qui, lorsque <br />le mode trace est actif, envoient des chaînes de caractères via TCP/IP vers une application appelée serveur de trace <br />- L’application ‘serveur de trace’ est en écoute sur un port TCP (1515 par défaut). Lorsqu’elle reçoit une chaîne de caractères en provenance d’un serveur X3Web (ou autre) elle l’affiche dans une fenêtre éditeur de texte. La couleur et le prompt permettent de différencier les applications émettrices des traces </p><h2 id="71Emplacementduserveurdetrace" data-magellan-target="71Emplacementduserveurdetrace">7.1. Emplacement du serveur de trace</h2><p>Le serveur de trace est livré avec le serveur X3WEB. <br />Il est stocké dans un sous répertoire du répertoire ‘TOOL’ du dossier d’installation du serveur X3WEB: </p><p>Version &gt;= 160 : </p><pre xml:space="preserve">
Répertoire  : InstallTools\WEBAPPS\WAX3TRACESERVER\ 
Application : com.sage.x3.srvweb.wa.x3traceserver_juliet.jar 
</pre><h2 id="72Lancementduserveurdetrace" data-magellan-target="72Lancementduserveurdetrace">7.2. Lancement du serveur de trace</h2><p>Prérequis : Installer un JRE(Java Runtime Environment) 6.0 sur la machine sur laquelle vous allez lancer le serveur de trace. <a href="http://java.sun.com/javase/downloads/index.jsp">http://java.sun.com/javase/downloads/index.jsp</a> </p><p>Il suffit ensuite de double-cliquer sur le fichier X3TRACESERVER.jar ou <code>com.sage.x3.srvweb.wa.x3traceserver_juliet.jar</code>.</p><p><img src="../Resources/Images/images_javawebServer-TraceServer-01_640x661.jpg" alt="Sage X3 Trace Server" style="width: 640;height: 661;" /><br /><br /> Sage X3 Trace Server <br /></p><p>When the application is running, logs are visible on the current windows and logsfiles are also saved in the filesystem. <br /></p><p>C:\TEMP\Adonix_XJITRACE\XJTERM+fdalbo-1_2006_08_ 14_18-42-34.txt __ </p><pre xml:space="preserve">
 42:34:0711X3TERll&gt;000000 java.home : C:\j2sdkl.4.2_08\jte 
 42:34:0711X3TERll&gt;000000 java.version:    1.4.2_08 
 42:34:0711X3TERll&gt;000000  DateTime: 14/09/2006 - 18:42:34 
 42:34:0711X3TERll&gt;000000 Open trace 
 42:34:0711X3TERll&gt;050l72              CLOSE trace 
 42:34:1031TSERVER&gt;update Tree      NbConnexions=(1 J 
</pre><pre xml:space="preserve">
42:34:071 Chronomètre HH :MM :SS déclenché au lancement du serveur de trace 
X3TERM    Prompt qui identifie la trace du serveur RF. 
000000    Compteur de millisecondes depuis le début d’ouverture de la trace 
</pre><p>La trace est disponible dans un fichier stocké sous c:\temp\Adonix_X3\Trace <br />Le menu Affichage propose des options d’affichage de la trace. </p><h2 id="73ActivationdelatraceduserveurRF" data-magellan-target="73ActivationdelatraceduserveurRF">7.3. Activation de la trace du serveur RF</h2><p><strong>Trace de la session utilisateur </strong><br /></p><p>Par défaut la trace du serveur RF est désactivée. <br /><br />L’utilisateur peut l’activer en accédant au mode expert (voir § Mode expert). <br /><br />Il doit saisir l’adresse IP (ou le hostname) et le N° de port TCP (1515) du serveur de trace ainsi que le niveau de trace souhaité. <br /></p><p><b>Attention, la trace doit être activée avant la connexion X3 (par exemple sur la mire de login) pour bénéficier de la trace de échanges entre le serveur VT et le serveur X3 (ADAPI&gt;). </b></p><p>Configuration trace </p><p><img src="../Resources/Images/images_ri_70_480x259.jpeg" style="width: 480;height: 259;" /><br /></p><p><b>Paramètres de trace des sessions utilisateur </b><br /></p><p>Les paramètres de configuration de la trace des sessions utilisateurs sont accessibles dans les paramètres avancés de la Console sous l’arborescence <code>term.ctermserversvc.adxclient</code> : </p><pre xml:space="preserve">
Paramètre                       Type     Description 
trace.server.host              String Hostname ou adresse IP du serveur de trace 
                                           Vide par défaut 
trace.server.port              Entier   Port d’écoute TCP du serveur de trace 
                                           1515 par défaut 
trace.on                        On/off Activation de la trace 
                                           Le nom du canal est X3TERM 
                                           Off par défaut – On pour activer la trace 
trace.canal.adapi.name         String   Nom du canal ADAPI pour la trace des échanges 
                                           entre le serveur RF et le serveur X3 
                                           ADAPI par défaut 
trace.canal.adapi.level        Entier   Niveau de trace  
                                 0 à 9    9 par défaut 
trace.canal.adapi.on           On/Off   Trace des échanges entre le serveur RF et le 
                                           serveur X3 
                                           Off par défaut 
trace.module.protocol          On/Off Option de trace des échanges serveur RF/Serveur X3 
                                           Off par défaut 
trace.module.buttons           On/Off Option de trace des échanges serveur RF/Serveur X3 
                                           Off par défaut 
trace.module.factory           On/Off Option de trace des échanges serveur RF/Serveur X3 
                                           Off par défaut 
trace.module.format            On/Off Option de trace des échanges serveur RF/Serveur X3 
                                           Off par défaut 
trace.module.leftlist          On/Off Option de trace des échanges serveur RF/Serveur X3 
                                           Off par défaut 
trace.module.raz                On/Off Option de trace des échanges serveur RF/Serveur X3 
                                           Off par défaut 
trace.module.modifier          On/Off Option de trace des échanges serveur RF/Serveur X3 
                                           Off par défaut 
</pre><p>Exemple de trace d’un échange entre le serveur RF et X3 (envoi de l’action 1026). </p><pre xml:space="preserve">
47:58:0921ADAPI &gt;.tazl!odifications     * 
47:58:0921ADAPI &gt;.ne~ActiveRequest      * nbPatam=(2) 
47:58:0921ADAPI &gt;.sendAction            * Actionid=[l026,SRV_BOITE_SELECTIOl-J,De!àande de 
47:58:0921X3TERH&gt;234464     P[l)='l026' - P[2)='B,B,A5,0'7" 
47: 58: 0921 X3TERll&gt;234464  Begin X3Client - sendX3Action [ 1026 J 
</pre><p><img src="../Resources/Images/images_javawebServer-TraceServer-01_480x661.jpg" style="width: 480;height: 661;" /><br /></p><p>Nous notons que pour activer la trace, l’utilisateur doit disposer d’une session. <br /><br />Si l’erreur se produit avant l’ouverture de la session il est nécessaire d’activer la trace du serveur RF dès le lancement de ce dernier. </p><p><b>Trace du serveur RF hors sessions utilisateur: </b> <br /></p><p>Les paramètres de configuration de la trace du serveur RF sont accessibles dans les paramètres avancés de la console <br />sous l’arborescence <code>term.ctermtracesvc</code> : </p><pre xml:space="preserve">
Paramètre                    Type Description 
trace.server.host     | String  | Hostname ou adresse IP du serveur de trace 
                      |         | Vide par défaut 
trace.server.port     | Entier  | Port d’écoute TCP du serveur de trace 
                      |         | 1515 par défaut 
tracesvc.canal.level  | Entier  | Niveau de trace  
                      | 0 à 9   | 9 par défaut 
tracesvc.canal.name   | String  | Nom du canal 
                      |         | STERM par défaut 
tracesvc.canal.on     | On/off  | Ouverture du canal de trace  
                      |         | Off par défaut – On pour activer la trace 
tracesvc.on           | On/off  | Activation de la trace  
                      |         | Off par défaut – On pour activer la trace 
</pre><h2 id="8Logdelactivitéduserveur" data-magellan-target="8Logdelactivitéduserveur">8. Log de l’activité du serveur</h2><p>Le serveur RF met à jour un log d’activité dans le répertoire : <br /><br /><code>WebData\SERVERSLOGS\WATERMSERVER\ACTIVITY</code> <br /><br /><br /></p><p>Le log d’activité est toujours actif. <br /><br />Il est composé d’un ensemble de 10 fichiers tournants, chacun ayant une taille maximale de 2Mo. <br /><br /><br /><br />Tous les événements qui se produisent dans le serveur RF ont enregistrés. </p><pre xml:space="preserve">
TimeMilliSecondes;CompteurNanoSecondes;Date;Heure;TypeLog;TypeObjet;Méthode;Message 
xx;xx;2010/04/02;17:16:35.772;INFO   ;SrvMgr    ;Create; 
xx;xx;2010/04/02;17:16:35.897;INFO   ;SrvSessMon;ThreadStart;CTermSrvListSessMonitor;Sleep(2000) 
xx;xx;2010/04/02;17:18:05.585;INFO   ;SrvMgr    ;NewConnect;127.0.0.1 
xx;xx;2010/04/02;17:18:05.663;INFO   ;Sess(1)   ;127.0.0.1;ThrdStart;Monitor;Sleep(2000);X3_CTermSessThread 
xx;xx;2010/04/02;17:18:05.678;INFO   ;Sess(1)   ;127.0.0.1;ThrdStart;Session;Sleep(10);X3_CTermSessThread_Se 
xx;xx;2010/04/02;17:18:05.678;INFO   ;Sess(1)   ;127.0.0.1;Open;OK;ReconnectIP 
xx;xx;2010/04/02;17:18:13.007;INFO   ;Sess(1)   ;127.0.0.1;X3OpenCli;OK;VT;FRA;aydaix05/6150/GXDEV 
xx;xx;2010/04/02;17:18:18.632;INFO   ;SrvMgr    ;Destroy; 
xx;xx;2010/04/02;17:18:18.632;INFO   ;SrvSessMon;ThreadStop;CTermSrvListSessMonitor 
xx;xx;2010/04/02;17:18:19.913;INFO   ;SrvMon    ;KillAllSes; 
xx;xx;2010/04/02;17:18:19.913;INFO   ;Sess(1)   ;127.0.0.1;Destroy;Stop tomcat 
xx;xx;2010/04/02;17:18:19.913;INFO   ;Sess(1)   ;127.0.0.1;ThrdStop;Session;X3_CTermSessThread_Session 
xx;xx;2010/04/02;17:18:19.913;INFO   ;Sess(1)   ;127.0.0.1;Close; 
xx;xx;2010/04/02;17:18:19.913;INFO   ;Sess(1)   ;127.0.0.1;Remove;Remove from list 
xx;xx;2010/04/02;17:18:19.913;INFO   ;Sess(1)   ;127.0.0.1;ThrdStop;Monitor;X3_CTermSessThread_Monitor 
xx;xx;2010/04/02;17:18:21.663;INFO   ;Sess(1)   ;127.0.0.1;X3CloseCli;OK;VT;FRA;aydaix05/6150/GXDEV 
</pre><h2 id="9Messagesderreur" data-magellan-target="9Messagesderreur">9. Messages d’erreur</h2><p>Trop d’Adonix tournent </p><p>Le nombre de 'processes' adonix autorisé, qui s’exécutent sur le serveur X3 avec une licence de type terminal, est <br />dépassé. Il faut arrêter des 'processes' ou bien augmenter le nombre de licence terminal. <br />Voir : Développement\Utilitaires\Vérifications\Surveillance utilisateurs </p><pre xml:space="preserve">
 Sessions ouvertes 
     Poste client         Login Service I 1denl 1  I 1denl 2  IAdresse IP    loate    I Heure    Type 
  3 gadget01.acy.adx      vt     6000:p  9306345  3904515  172.28.20.31     06/09/06  11:25:15  Terminal I 
  4 gdharbou!le.acy.adx   gh     6000:p  3907586  3466244  172.28.21.1O     15/09/06  18:06:43  Primaire 
  5 gdharbou!le.acy.adx   gh     6000:p  2949124  2203655  172.28.21.1O     15/09/06  09:40:33  Primaire 
  6 gdharbou!le.acy.adx   gh     6000:p  5160961  4363266  172.28.21.1O     15/09/06  11:13:35  Primaire 
  7 geode.acy.adx         vt     6000:p  3186922  3288069  172.28.21.59     14/09/06  15:10:13  Terminal 
  8 inl1adon.ech.adx      vt     6000:p  1057003  1689608  172.28.8.50      15/09/06  17:42:44  Terminal 
</pre><p>Une erreur a été détectée. Fermeture de la connexion X3 </p><p>Les messages complémentaires ci-dessous indiquent une rupture de connexion entre le serveur RF et le serveur X3. <br />‘Can’t open socket’, REMOTE_SOKET_CLOSED, Unable to send request, La connexion à l’application est impossible… <br />Le process adonix concerné (de type terminal) peut être toujours actif sur le serveur. <br />Il est nécessaire de l’arrêter via l’écran de surveillance des utilisateurs pour libérer une licence terminal. </p><div style="page-break-after: always;"></div><h2 id="10Annexe1Personnalisationdestouchesclavier" data-magellan-target="10Annexe1Personnalisationdestouchesclavier">10. Annexe1 – Personnalisation des touches clavier</h2><p>Duplication du fichier de configuration <br /></p><p>-1- Vérifier l’existence du dossier <code>WebData\_CUSTOMERS\ADXTERM\VT</code> et créer ce répertoire si il n’existe pas <br /><br />-2- Copier le fichier VT100.evt <br /></p><pre xml:space="preserve">
       Source             WebTools\TOOLS\ADXTERM\VT\VT100.evt 
       Destination       WebData\_CUSTOMERS\ADXTERM\VT\VT100CUSTOM.evt 
</pre><p>Configuration liste des terminaux et protocole VT par défaut <br /></p><p>-1- Créer le fichier vide  <br /></p><pre xml:space="preserve">
       ‘WebData\_CUSTOMERS\ADXTERM\VT\VT_LIST.txt’  
</pre><p>-2- Ajouter le contenu ci-dessous et sauvegarder <br /></p><pre xml:space="preserve">
       #List display into 'VT MODE" screen - Expert mode 
       VT100=VT100CUSTOM 
</pre><p>-3- Ouvrir la console et modifier le paramètre et sauvegarder </p><pre xml:space="preserve">
       session.videoterminal       VT100CUSTOM 
</pre><p><b>!!Les fichiers stockés dans WebData sont conservés lors des mises à jour du serveur X3WEB </b><br /><br /><b>!!On utilise VT100CUSTOM uniquement pour indiquer que la configuration a été modifiée. </b><br /></p><p><strong>Touches clavier </strong><br /></p><p>Voir § 5.3. Action des touches clavier </p><pre xml:space="preserve">
Nom                  Code Description 
KEY_ARROW_UP        0      Navigation haut dans les listes 
KEY_ARROW_DOWN      1      Navigation Bas dans les listes 
KEY_ARROW_LEFT      2      Navigation gauche dans les listes 
                           Déplacement du curseur vers la gauche en saisie dans les champs 
                           Passage champ précédent (corrigé en 16w128) 
KEY_ARROW_RIGHT     3      Navigation droite dans les listes 
                           Déplacement du curseur vers la droite en saisie dans les champs 
                           Passage champ suivant en fin 
KEY_TAB_RIGHT       4      Passage au champ suivant 
KEY_TAB_LEFT        5      Passage au champ précédent en début 
KEY_PG_UP           6      Pagination vers le haut dans les listes 
KEY_PG_DOWN         7      Pagination vers le bas dans les listes 
KEY_PG_HOME         8      Positionnement sur la 1ere ligne d’une liste 
KEY_INSERT          9      Passage en mode insertion lors de la saisie dans un champ 
KEY_DELETE          10     Suppression du caractère à droite 
KEY_ENTER           11     Validation saisie 
KEY_RETURN 
KEY_END             13     Positionnement sur la dernière ligne d’une liste 
KEY_PAUSE           14     Non utilisée 
KEY_BACKSPACE       15     Suppression du caractère vers la droite  
                           Passage champ précédent en début 
KEY_EXPERTMODE      16     Passage en mode expert 
KEY_INFOSESSION     17     Affichage information session 
KEY_TABFORMMODE     18     Affichage d’une liste en mode formulaire 
KEY_SELECTPROTOCOL  19     Sélection du protocole 
KEY_F1 to KEY_F12   101    F1 F2 F3 F4 utilisée comme boutons d’action  
                    112    F&gt;4 non utilisée 
</pre><p>Le fichier .evt contient l’association entre le code interne de la touche clavier et la séquence hexadécimale envoyée par le terminal.  <br /></p><p><strong>!! La séquence peut varier en fonction du type de terminal. </strong><br /></p><p>On peut associer plusieurs séquences de caractères à une fonction (, comme séparateur) mais une même séquence ne <br />peut pas être associée à plusieurs fonctions (une erreur s’affiche à l’ouverture de la session). </p><pre xml:space="preserve">
#KEY_ARROW_LEFT=2 
2=.x1B.x5B.x44 
#KEY_ARROW_RIGHT=3 
3=.x1B.x5B.x43 
#KEY_TAB_RIGHT=4 
4=.x09 
</pre><p><strong>Lecture des codes hexadécimaux des touches clavier </strong></p><p>-1- Ouvrir une session VT sur le serveur <br /><br />-2- Passer en mode expert et aller dans la fonction ‘Test’ (voir §3 et 3.3) <br /><br />-3- Appuyer sur une touche (ou combinaisons de touches comme ctrl +A) clavier <br /><br />-4- Noter le code hexadécimal qui s’affiche <br /><br /><br /><br /><strong>Modification de la configuration </strong><br /><br /><br /><br />-1- Ouvrir le fichier ‘WebData_CUSTOMERS\ADXTERM\VT\VT100CUSTOM.evt’ <br /><br />-2- Associer la séquence hexadécimale à un code fonction <br /><br />-3- Sauvegarder<br /> <br />-4- <strong>Redémarrer le serveur X3WEB</strong> <br /></p><h2 id="11Annexe2Personnalisationdumappingdecaractère" data-magellan-target="11Annexe2Personnalisationdumappingdecaractère">11. Annexe2 – Personnalisation du mapping de caractère</h2><p>Il est possible de remplacer dynamiquement des caractères lors de la saisie et lors de l'affichage d'un champs.<br />Le critère d'application est le stype porté par le champ de saisie.<br /><br />Cette capacité permet par exemple de substituer des caractères de contrôle dans des séquences envoyées par des<br />terminaux de saisie portable (ex.. douchette laser lisant des qrcode)<br />Cette fonctionnalité est disponible avec les solutions V6 et supérieures<br /></p><p><b>Création du fichier de configuration </b><br /></p><p>Les règles sont définies dans le fichier "VT_MAPPINGS.json" localisé dans le dossier des fichier de réglage prore aux<br />clients:<br /></p><pre xml:space="preserve">
../WebData/_CUSTOMERS/ADXTERM/VT/VT_MAPPINGS.json
</pre><p>Exemple de définition de deux règles pour le style "VTCAB2D" :<br /></p><pre xml:space="preserve">
{
       "VTCAB2D": {
       ".x1D": "~",
       "&amp;": "$"
       }
}
</pre><p>La trace du chargement des règles de transpositions associées au style "VTCAB2D".<br /><br />Cette trace est disponible dans le fichier de la trace d'activité du serveur VT<br /></p><pre xml:space="preserve">
.../WebData/_CUSTOMERS/ADXTERM/VT/VT_MAPPINGS.json
</pre><pre xml:space="preserve">
2018/03/08;16:00:31.502;INFO ;<init> ;Begin - Load characters mapping
2018/03/08;16:00:31.503;INFO ;<init> ;VT_MAPPINGS.json:
{
       "VTCAB2D": {
       ".x1D": "~",
       "&amp;": "$"
       }
}
2018/03/08;16:00:31.503;INFO ;<init> ;MAPPING fo Style=[VTCAB2D] =&gt; rules=[{"&amp;":"$",".x1D":"~"}]
2018/03/08;16:00:31.503;INFO ;<init> ; - rule(1) : c=[&amp;][38][.x26] =&gt; v=[$][36][.x24]
2018/03/08;16:00:31.504;INFO ;<init> ; - rule(2) : c=[#][29][.x1d] =&gt; v=[~][126][.x7e]
2018/03/08;16:00:31.504;INFO ;<init> ;CHARACTER MAPPING IS ENABLED
2018/03/08;16:00:31.504;INFO ;<init> ;End - Load characters mapping
</init></init></init></init></init></init></init></pre><p><b>Application des règles de remplacement</b><br /></p><p>Les traces de l'application des règles de remplacement sont visibles dans la trace de la session VT : <br />voir le § activation de la trace et lancement du serveur de trace.<br /></p><p>La trace de l'application d'un remplacement de caractère lors de la siaise dansle champ "ZVCRNUM" : <br /></p><pre xml:space="preserve">
27:04:539&gt;CConnServerFlow_174102 .readSegment * StartWait=[24539] ReadSegmentCycleNum=[17601]
27:04:538&gt;(null) 023823 End Read cnx buffer
27:04:538&gt;(null) 023823 Push event [EVT_WIN_INPUT.....] NbEvts[0]
27:04:538&gt;(null) 023823 Mapping char=[&amp;] newchar=[$]
27:04:538&gt;(null) 023823 Read [.x26] - []
27:04:537&gt;(null) 023822 FocusObject=[Node='FLD' - Name='ZVCRNUM' - PCO='32 -
PLI='1' - NCO='30' - AdxId='A1' - Class='CTermWinField'] has mapping=[{&amp;=$, #=~}]
27:04:537&gt;(null) 023822 Buffer - Size=1- [&amp;] - [.x26]
27:04:537&gt;(null) 023822 Begin Read cnx buffer
</pre><p>La trace du chargement du style "VTCAB2D" lors du chargement de la fenêtre "ZCOHORTE"</p><pre xml:space="preserve">
26:53:427&gt;(null) 012712 End Load from DOM
26:53:427&gt;(null) 012712 Node [MENLOC] skipped
26:53:427&gt;(null) 012711 Node [S] skipped
26:53:426&gt;(null) 012711 Node [STYL] skipped
26:53:426&gt;(null) 012711 StyleAttribute=[VTCAB2D]
Style=[Name=[VTCAB2D] Attrib=[0] Align=[2]] mapping=[{&amp;=$, #=~}]
26:53:426&gt;(null) 012711 X3Style [VTCAB2D] found [Name=[VTCAB2D]
Attrib=[0] Align=[2]]
26:53:426&gt;(null) 012711 Window: Add screen - NAM=ZCOHORTE -
Idx=1
26:53:425&gt;(null) 012710 Window: Add screen - NAM=AVTENT - Idx=0
26:53:425&gt;(null) 012710 Begin Load from DOM
</pre><p>La vue d'un terminal VT après l'envois des caractère "e", "&amp;" et ".x1D" avec les règles définies ci-avant.<br />Le champ de saisie contient les trois caractères "e$~" :<br /></p><p><img width="640" src="../Resources/Images/javawebServer-04.png" /><br /></p><p>L'association d'un style à un champ dans un écran d'une fonction<br /></p><p>Ci-après des copies d"écran des définitions de l'écran,<br /><br />La description de l'écran "PALAUT" <br /></p><p><img width="640" src="../Resources/Images/images_javaWebServer-dictionary-01.jpg" /><br /></p><div style="page-break-after: always;"></div><h2 id="12EmulateursetconfigurationUnicodeUTF8" data-magellan-target="12EmulateursetconfigurationUnicodeUTF8">12. Emulateurs et configuration Unicode/UTF-8</h2><h2 id="121ProtocoleVTetencodagedescaractères" data-magellan-target="121ProtocoleVTetencodagedescaractères">12.1 Protocole VT et encodage des caractères</h2><p>À l'origine, le protocole VT (VT100) a été conçu pour émuler le jeu de caractères ASCII (américain) 7 bits. <br /><br />Ce jeu de caractères a deux types de caractères, les caractères de contrôle et les caractères graphiques.<br /><br />Les caractères graphiques sont les caractères que vous pouvez afficher à l'écran. <br /><br />Les caractères de contrôle permettent au VT d'effectuer une série d'actions spéciales (déplacer le curseur…)<br />Caractères de contrôle (C0) Les codes ASCII sont compris entre x00 et x1F (32 caractères).<br />Les codes graphiques ASCII sont compris entre x1F et x7F (96 caractères).. <br /><br />Pour les systèmes 8 bits, il existe un jeu de caractères de contrôle supplémentaire (C1) de x80 à x9F (32 caractères) et un jeu de caractères graphiques supplémentaire de xA0 à xFF (96 caractères).<br /><br />En plus du jeu de caractères de contrôle, le protocole VT utilise des fonctions de contrôle (séquences d'échappement…) pour exécuter des fonctions plus complexes. <br /><br />Ces séquences commencent par un caractère de contrôle (ESC ou x1B) suivi de caractères graphiques.<br /></p><p>Le nombre maximum de caractères disponibles pour afficher un écran VT est de 192 pour les systèmes 8 bits et 96 pour les systèmes 7 bits. C'est suffisant pour afficher les langues basées sur un alphabet mais pas assez pour afficher les langues CJKV (Chinois, Coréen, Japonais, Vietnamien). <br /></p><p>Les systèmes Unicode ont été conçus pour permettre au texte et aux symboles de tous les systèmes d'écriture du monde d'être représentés et manipulés de manière cohérente par les ordinateurs. <br /></p><p>Les anciens émulateurs VT ne prennent pas en charge les caractères Unicode, mais la nouvelle génération a été améliorée pour gérer les caractères Unicode afin de permettre l'affichage des caractères CJKV.<br /></p><p>Le serveur ADC a été amélioré pour être compatible avec les caractères Unicode et plus particulièrement avec les caractères encodés UTF-8. L'avantage du codage UTF-8 est qu'il est cohérent avec le codage ASCII 7 bits. <br /></p><h2 id="122VTUTF8emulators" data-magellan-target="122VTUTF8emulators">12.2. VT UTF-8 emulators</h2><p><img src="../Resources/Images/images_VT100-VIP-01_480x780.jpg" style="width: 480;height: 780;" /><br /></p><p>Le protocole VT UTF-8 a été validé en utilisant l'émulateur gratuit PUTTY qui semble être le plus populaire.<br />- Emulateur "PUTTY": <br />- <a href="https://www.putty.org/">https://www.putty.org/</a></p><ul><li><p>Emulateur "TeraTerm" :<br /><a href="http://sourceforge.jp/projects/ttssh2/">http://sourceforge.jp/projects/ttssh2/</a></p></li><li><p>Emulateur "ZOC" EmTec :<br /><a href="https://www.emtec.com/zoc/index.html">https://www.emtec.com/zoc/index.html</a></p></li><li><p>HyperTerminal Private Edition: <br /><a href="https://www.hilgraeve.com/hyperterminal/">https://www.hilgraeve.com/hyperterminal/</a></p></li></ul><p>Microsoft Windows a également amélioré l'émulateur HyperTerminal afin de gérer les caractères UTF-8, mais nous n'avons pas pu le configurer.<br /><br />Notes techniques :<br />- <a href="https://learn.microsoft.com/en-us/previous-versions/aa506025(v=msdn.10">https://learn.microsoft.com/en-us/previous-versions/aa506025(v=msdn.10</a>)</p><h2 id="123ADCSERVERSETTINGS" data-magellan-target="123ADCSERVERSETTINGS">12.3 ADC SERVER SETTINGS</h2><p>Le serveur ADC a été conçu pour gérer les protocoles VT100 et VT220 et pour permettre à l'administrateur de personnaliser les paramètres VT comme les attributs d'affichage ou les séquences VT.<br /></p><p>Paramètres VT<br /><br />Les fichiers de paramètres VT sont stockés dans le dossier d'installation "TOOL", sous "Dossier TOOL/ADXTERM/VT".<br />- Les fichiers .evt contiennent les relations entre les séquences VT et les actions internes du serveur.<br />- Les fichiers .cfg contiennent des attributs et des options d'affichage<br />- VT_LIST.txt contient la liste des paramètres disponibles<br />La liste s'affiche dans la zone de liste MODE VT de l'écran "Paramètres VT" (mode expert) <br /></p><h2 id="124PUTTYUTF8VTsettings" data-magellan-target="124PUTTYUTF8VTsettings">12.4 PUTTY UTF-8 VT settings</h2><p>Les fichiers <code>VT100_PUTTY.evt</code> et <code>VT100_PUTTY.cfg</code> sont les paramètres que vous devez utiliser pour activer l'émulation des caractères UTF-8.<br /></p><h3>12.1. VT100_PUTTY.evt</h3><p>Ce fichier définit les séquences VT non standard envoyées par PUTTY au serveur ADC.</p><pre xml:space="preserve">
#----------------KEYPAD KEYS-----------------
#KEY_DELETE=10
10=.x1B.x5B.x33.x7E
#KEY_BACKSPACE=15
15=.x7F
#----------------FUNCTION KEYS-----------------
#KEY_F1=101
101=.x1B.x5B.x31.x31.x7E
#KEY_F2=102
102=.x1B.x5B.x31.x32.x7E
#KEY_F3=103
103=.x1B.x5B.x31.x33.x7E
#KEY_F4=104
104=.x1B.x5B.x31.x34.x7E
</pre><h3>12.2. VT100_PUTTY.cfg</h3><p>Ce fichier définit les attributs d'affichage propres à l'émulateur PUTTY et notamment l'encodage des caractères (jeu de caractères) utilisé pour convertir les caractères Java unicode en caractères UTF-8 avant d'envoyer l'écran à PUTTY.<br /></p><pre xml:space="preserve">
# Fiche 40194 - New settings UTF68
attr.btn.std=16     
attr.btn.highlight=20     
attr.grid.title=4    
attr.grid.numline=4
attr.misc.wait=20
attr.field.diszo.focus=4
attr.field.edit.selected=20
misc.fld.selection=yes
misc.btn.focus=yes
#UTF-8
misc.disp.charset=UTF-8
</pre><h2 id="125Autreemulateurs" data-magellan-target="125Autreemulateurs">12.5 Autre emulateurs</h2><p>Si vous utilisez un émulateur qui n'est pas compatible avec les paramètres PUTTY, veuillez contacter sage.com.</p><br /></div>
                                            <div data-mc-conditions="Other.Production only">
                                                <div id="feedback-survey">
                                                    <div class="feedback-question">
                                                        <h4>Did you find this helpful?</h4>
                                                        <p>
                                                            <button class="feedback-button feedback-yes" title="Yes, this article was helpful." alt="Yes, this article was helpful.">Yes</button>&#160;<button class="feedback-button feedback-no" title="No, this article wasn't helpful." alt="No, this article wasn't helpful.">No</button></p>
                                                    </div>
                                                    <div class="feedback-reason no">
                                                        <hr />
                                                        <div class="highlightBox">
                                                            <h4>Sorry about that</h4>
                                                            <p>Why wasn't this helpful? (check all that apply)</p>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option1" value="Couldn't find what I was looking for" data-analytics-label="Could not find" />
                                                                <label for="option1">Couldn't find what I was looking for</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option2" value="Instructions confusing or unclear" data-analytics-label="Confusing or unclear" />
                                                                <label for="option2">Instructions confusing or unclear</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option3" value="Instructions didn't work" data-analytics-label="Did not work" />
                                                                <label for="option3">Instructions didn't work</label>
                                                            </div>
                                                            <div class="feedback-reason no-thanks">
                                                                <p><b>Thanks for your feedback.</b>
                                                                </p>
                                                                <h4>Want to tell us more?</h4>
                                                                <p>Send an email to our authors to leave your feedback.</p>
                                                                <!--email_off-->
                                                                <p><a href="mailto:Sage200TechnicalAuthors@sage.com?subject=Sage 200 feedback" id="feedbackEmailLink" title="Tell us if there's a problem with the information on this page." alt="Tell us if there's a problem with the information on this page." class="sageButton">Email our authors</a>
                                                                </p>
                                                                <!--/email_off-->
                                                                <p>Sorry, but we can't provide technical support from this email address. If you need assistance, then please contact our support team directly.</p>
                                                            </div>
                                                        </div>
                                                        <div id="get-in-touch" class="highlightBox colour-dark-1">
                                                            <h4>Need support?</h4>
                                                            <p>You can contact our support team on <b>0845 111 5555</b>, 9am-5pm Monday-Friday.</p>
                                                        </div>
                                                    </div>
                                                    <div class="feedback-reason yes-thanks">
                                                        <hr />
                                                        <h4>Great!</h4>
                                                        <p>Thanks for taking the time to give us some feedback.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="sage-layout-topic-panel">
                                            <div class="menu-topic-container" id="menu-on-page">
                                                <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 1280px)" class="nocontent menu _Skins_Sage_Menu_Topic_TopNav mc-component">
                                                    <li><a href="#DocumentationtechniqueduserveurRF"> Documentation technique du serveur RF 
</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#1Installationetconfiguration">1. Installation et configuration</a>
                                                        </li>
                                                        <li><a href="#11Installation">1.1. Installation</a>
                                                        </li>
                                                        <li><a href="#12V%C3%A9rificationdeslicences">1.2. Vérification des licences</a>
                                                        </li>
                                                        <li><a href="#13Configuration">1.3. Configuration</a>
                                                        </li>
                                                        <li><a href="#14Autresr%C3%A9glages">1.4. Autres réglages</a>
                                                        </li>
                                                        <li><a href="#15Param%C3%A8tresdelaConsoledadministration">1.5. Paramètres de la Console d’administration</a>
                                                        </li>
                                                        <li><a href="#21ChoixdelapplicationX3">2.1. Choix de l’application X3</a>
                                                        </li>
                                                        <li><a href="#22EcrandeloginX3">2.2. Ecran de login X3</a>
                                                        </li>
                                                        <li><a href="#23Connexionautomatique%C3%A0uneapplicationX3">2.3. Connexion automatique à une application X3</a>
                                                        </li>
                                                        <li><a href="#24CommandesSageX3">2.4. Commandes Sage X3</a>
                                                        </li>
                                                        <li><a href="#25Personnalisation">2.5. Personnalisation</a>
                                                        </li>
                                                        <li><a href="#3Modeexpert">3. Mode expert</a>
                                                        </li>
                                                        <li><a href="#31Acc%C3%A9deraumodeexpert">3.1. Accéder au mode expert</a>
                                                        </li>
                                                        <li><a href="#32Ecrandaccueil">3.2. Ecran d’accueil</a>
                                                        </li>
                                                        <li><a href="#33EcrandeconfigurationVT">3.3. Ecran de configuration VT</a>
                                                        </li>
                                                        <li><a href="#34Ecrandeconfigurationdelatrace">3.4. Ecran de configuration de la trace</a>
                                                        </li>
                                                        <li><a href="#35Informationssurlasessioncourante">3.5. Informations sur la session courante</a>
                                                        </li>
                                                        <li><a href="#36Listedessessionsutilisateur">3.6. Liste des sessions utilisateur</a>
                                                        </li>
                                                        <li><a href="#37EcransdetestdesformatsX3">3.7. Ecrans de test des formats X3</a>
                                                        </li>
                                                        <li><a href="#4Protocoleset%C3%A9mulateurs">4. Protocoles et émulateurs</a>
                                                        </li>
                                                        <li><a href="#41Lesfichiersdeconfiguration">4.1. Les fichiers de configuration</a>
                                                        </li>
                                                        <li><a href="#42S%C3%A9lectiondesfichiersdeconfiguration">4.2. Sélection des fichiers de configuration</a>
                                                        </li>
                                                        <li><a href="#43FichierVTLISTtxt">4.3. Fichier VT_LIST.txt</a>
                                                        </li>
                                                        <li><a href="#44Fichiersdesattributsdepr%C3%A9sentationcfg">4.4. Fichiers des attributs de présentation .cfg</a>
                                                        </li>
                                                        <li><a href="#45Fichiersevt">4.5. Fichiers .evt</a>
                                                        </li>
                                                        <li><a href="#5Ergonomiedes%C3%A9crans">5. Ergonomie des écrans</a>
                                                        </li>
                                                        <li><a href="#51Stylesdepr%C3%A9sentations">5.1. Styles de présentations</a>
                                                        </li>
                                                        <li><a href="#52Tableauxenmodefiche">5.2. Tableaux en mode fiche</a>
                                                        </li>
                                                        <li><a href="#53Actiondestouchesclavier">5.3. Action des touches clavier</a>
                                                        </li>
                                                        <li><a href="#6Reconnexionautomatique">6. Reconnexion automatique</a>
                                                        </li>
                                                        <li><a href="#61Fonctionnementdumodereconnexion">6.1. Fonctionnement du mode reconnexion</a>
                                                        </li>
                                                        <li><a href="#63IdentificationparlecodeutilisateurcodelangueX3">6.3. Identification par le code utilisateur/code langue X3</a>
                                                        </li>
                                                        <li><a href="#64Identificationparunidentifiantenvoy%C3%A9parleterminal">6.4. Identification par un identifiant envoyé par le terminal</a>
                                                        </li>
                                                        <li><a href="#7Activationdelatrace">7. Activation de la trace</a>
                                                        </li>
                                                        <li><a href="#71Emplacementduserveurdetrace">7.1. Emplacement du serveur de trace</a>
                                                        </li>
                                                        <li><a href="#72Lancementduserveurdetrace">7.2. Lancement du serveur de trace</a>
                                                        </li>
                                                        <li><a href="#73ActivationdelatraceduserveurRF">7.3. Activation de la trace du serveur RF</a>
                                                        </li>
                                                        <li><a href="#8Logdelactivit%C3%A9duserveur">8. Log de l’activité du serveur</a>
                                                        </li>
                                                        <li><a href="#9Messagesderreur">9. Messages d’erreur</a>
                                                        </li>
                                                        <li><a href="#10Annexe1Personnalisationdestouchesclavier">10. Annexe1 – Personnalisation des touches clavier</a>
                                                        </li>
                                                        <li><a href="#11Annexe2Personnalisationdumappingdecaract%C3%A8re">11. Annexe2 – Personnalisation du mapping de caractère</a>
                                                        </li>
                                                        <li><a href="#12EmulateursetconfigurationUnicodeUTF8">12. Emulateurs et configuration Unicode/UTF-8</a>
                                                        </li>
                                                        <li><a href="#121ProtocoleVTetencodagedescaract%C3%A8res">12.1 Protocole VT et encodage des caractères</a>
                                                        </li>
                                                        <li><a href="#122VTUTF8emulators">12.2. VT UTF-8 emulators</a>
                                                        </li>
                                                        <li><a href="#123ADCSERVERSETTINGS">12.3 ADC SERVER SETTINGS</a>
                                                        </li>
                                                        <li><a href="#124PUTTYUTF8VTsettings">12.4 PUTTY UTF-8 VT settings</a>
                                                        </li>
                                                        <li><a href="#125Autreemulateurs">12.5 Autre emulateurs</a>
                                                        </li>
                                                    </ul>
                                                </ul>
                                            </div>
                                        </div>
                                    </section>
                                    <button class="go-to-top">
                                        <!-- icon and label are inserted -->
                                    </button>
                                    <section class="sage-footer colour-dark-1" id="footer" role="contentinfo">
                                        <div class="row">
                                            <div class="small-6 medium-3 columns">
                                                <h5>Site links</h5>
                                                <p><a href="../Sitemap.htm" class="MCXref xref">Sitemap</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage links</h5>
                                                <p><a href="https://my.sage.co.uk/public/help.aspx" target="_blank" class="external">Sage Support Hub</a>
                                                </p>
                                                <p><a href="https://communities.sage.co.uk/product_support_community/" class="external" target="_blank" title="Your place to get product support from other customers and Sage experts" alt="Your place to get product support from other customers and Sage experts">Product support community</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/gdpr/" class="external" target="_blank">General Data Protection Regulation</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/legal/" class="external" target="_blank">Legal information</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Page info</h5>
                                                <p>Page updated: <span class="mc-variable Dates.DateFileSaved variable">26 febrero 2024</span></p>
                                                <!-- script moves last published date to here -->
                                                <div id="last-published-footer">
                                                </div>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage media</h5>
                                                <p><a href="https://www.facebook.com/sageuk" target="_blank" alt="Find us on Facebook" title="Find us on Facebook"><i class="fa fa-lg fa-facebook" aria-hidden="true"></i></a>&#160;
						<a href="https://www.linkedin.com/company/sage-software" target="_blank" alt="Find us on LinkedIn" title="Find us on LinkedIn"><i class="fa fa-lg fa-linkedin" aria-hidden="true"></i></a>&#160;
						<a href="https://twitter.com/sageuk/" target="_blank" alt="Find us on Twitter" title="Find us on Twitter"><i class="fa fa-lg fa-twitter" aria-hidden="true"></i></a>&#160;
						<a href="https://www.youtube.com/user/SageUKOfficial" target="_blank" alt="Find us on YouTube" title="Find us on YouTube"><i class="fa fa-lg fa-youtube" aria-hidden="true"></i></a></p>
                                            </div>
                                        </div>
                                    </section>
                                    <!-- Skin type scripts -->
                                    <script type="text/javascript" src="../Resources/Scripts/SideNav-template.js" data-mc-conditions="Other.HTML5-SideNav">
                                    </script>
                                    <!-- Google Analytics -->
                                    <div data-mc-conditions="Other.Production only">
                                        <!-- Google analytics script -->
                                        <!-- Copy and paste full HTML of tracking code here for Global site tag (gtag.js) -->
                                        <!-- Remember to edit 'async' parameter to read async="" -->
                                        <!-- Analytics for events -->
                                        <script type="text/javascript" src="../Resources/Scripts/google-analytics-events.js">
                                        </script>
                                    </div>
                                    <!-- cookies -->
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.js">
                                    </script>
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.config.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>