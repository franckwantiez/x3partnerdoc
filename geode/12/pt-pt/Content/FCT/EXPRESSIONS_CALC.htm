<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="pt-pt" xml:lang="pt-pt" class="_Skins_Sage_Skin_SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="author" content="ADONIX" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="keywords" content="" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="description" content="Expressões calculadas ADONIX" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="module" content="[Supervisor]" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="robots" content="all" xmlns="http://www.w3.org/1999/xhtml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Expressões calculadas ADONIX</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Sage.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/Stylesheets/font-awesome.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: #000000 url('../../Skins/Default/Stylesheets/Images/60x60_globe_white-on-transparent_icon.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="stylesheet" type="text/css" media="all" href="../Resources/Images/ADXHelp_main.css" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Voltar" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Ir para conteúdo principal</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Conta</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Definições</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Terminar sessão</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Mostrar painel de navegação" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Home.htm" alt="Logótipo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Conta</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Definições</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Terminar sessão</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Campo de pesquisa" placeholder="Pesquisar" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filtro:</span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Filtro de pesquisa" title="Todos os ficheiros" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">Todos os ficheiros</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Pesquisar" role="button" tabindex="0"><span class="invisible-label">Enviar pesquisa</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <script type="text/javascript">/*<![CDATA[*/$(document).ready(function(){
			$("#selectlang").appendTo("div.central-account-wrapper");
		});/*]]>*/</script>
                                    <div id="selectlang" class="headerlang">
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Language_toggle mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie select-language-button" title="Alterar idioma">
                                                    <div>
                                                        <div role="img" class="button-icon-wrapper" aria-label="Alterar idioma">
                                                            <div class="button-icon"> </div>
                                                        </div>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="sage-header-title">
                                        <img id="sage-header-logo" src="../Resources/Images/Sage_logo_green.svg" alt="Sage" /><span id="sage-header-product-name"><span id="sage-header-product"><span class="mc-variable Sage-Product.ProductName variable">X3 Warehousing</span></span></span>
                                    </div>
                                    <section class="sage-topic-body sage-layout-two-columns">
                                        <div class="sage-layout-topic-main">
                                            <div role="main" id="mc-main-content">
                                                <div id="container" xmlns="http://www.w3.org/1999/xhtml">
                                                    <div id="pageHeader">
                                                        <h1 class="g1" id="ExpressõescalculadasADONIX" data-magellan-target="ExpressõescalculadasADONIX"><span>Expressões calculadas ADONIX</span>
                                                        </h1>
                                                    </div>
                                                    <div id="supportingText">
                                                        <div class="stdBloc"><a id="MIS_20_10"></a>
                                                            <h2 class="g1" id="Apresentação" data-magellan-target="Apresentação">Apresentação</h2>
                                                            <p>Num certo número de ecrãs de parametrização, pode ser levado a entrar nas fórmulas de cálculo, ainda chamados <i>expressões adonix</i> (o motor de execução dos softwares em tecnologia X3 se chama com efeito adonix). Estas expressões são exprimidas sob a forma algébrica, e fazem parte de uma linguagem geral. Encontrar-se-á em cima uma descrição geral das funções utilizáveis nas expresssões adonix.</p>
                                                            <p>Numerosas ajudas existem no momento do registo da fórmula, à vez para conhecer as funções e as variáveis utilizáveis, mas para especificar o significado da fórmula. Estas ajudas são acessíveis através do <a href="FORMULA_EDITOR.htm">editor de fórmula</a></p>
                                                            <p>É possível de testar uma expressão (na qual não figuram que constantes e de variáveis acessíveis no contexto) graças à <a href="CALC_TOOL.htm">calculadora</a>. </p>
                                                        </div>
                                                        <div class="stdBloc"><a id="MIS_30_10"></a>
                                                            <h2 class="g1" id="TipodeumaexpressãoSAGE" data-magellan-target="TipodeumaexpressãoSAGE">Tipo de uma expressão SAGE</h2>
                                                            <p>Uma expressão sage é de tipo alfanumérica, numérica, ou de tipo data. Segundo o lugar onde é realizada esta parametrização, pode se ter necessidade de um ou outro destes tipos (mesmo se todos os tipos podem ser utilizados numa fórmula, funções de um tipo de dados podendo fazer apelo aos argumentos de outro tipo). De referir que a função <i>tipo</i> permite testar o tipo de uma variável.  </p>
                                                        </div>
                                                        <div class="stdBloc"><a id="MIS_40_10"></a>
                                                            <h2 class="g1" id="ComoconstruirumexpressãoSAGE" data-magellan-target="ComoconstruirumexpressãoSAGE">Como construir um expressão SAGE</h2>
                                                            <p>Uma expressão se compõe de constantes, operadores, de variáveis, e de funções.</p>
                                                            <h3>Constantes</h3>
                                                            <p>As constantes podem ser:</p>
                                                            <p><a name="_Toc342825135"></a><a name="_Toc342913889"></a><a name="_Toc343390975"></a><a name="_Toc343392903"></a><a name="_Toc343398294"></a><a name="_Toc344168547"></a>
                                                                <img border="0" width="7" height="7" id="_x0000_i1027" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; de tipo alfanumérico&#160;: exprimidas seja entre apóstrofos (*), seja entre aspas (") Eis dois exemplos de cadeias válidas :</p>
                                                            <table border="1" cellspacing="0" cellpadding="0">
                                                                <tr>
                                                                    <td width="153" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>"É o certo"</p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td width="153" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>'uma "cadeia" particular'</p>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <p>
                                                                <img border="0" width="7" height="7" id="_x0000_i1028" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; de tipo numérico: exprimidos com um ponto decimal se necessário. Eis dois exemplos de constantes numéricas válidas :</p>
                                                            <table border="1" cellspacing="0" cellpadding="0">
                                                                <tr>
                                                                    <td width="153" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>-2.5</p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td width="153" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>123000</p>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <p>
                                                                <img border="0" width="7" height="7" id="_x0000_i1029" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; de tipo data&#160;: exprimidos sob a forma [ dia/ mês / ano] Deve-se referir que o ano deve obrigatoriamento ser exprimido sobre 4 cifras. Eis dois exemplos de constantes datas válidas :</p>
                                                            <table border="1" cellspacing="0" cellpadding="0">
                                                                <tr>
                                                                    <td width="153" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>[15/3/2002]</p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td width="153" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>[21/05/1819]</p>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <p>
                                                                <img border="0" width="7" height="7" id="_x0000_i1030" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; de tipo lógico&#160;: ela se confunde com as constantes numéricas : 1 ( e por extensão todo o valor não nulo) equivale a verdadeiro, 0 equivale a Falso <a name="_Toc342825136"></a><a name="_Toc342913890"></a><a name="_Toc343390976"></a><a name="_Toc343392904"></a><a name="_Toc343398295"></a><a name="_Toc344168548"></a>.</p>
                                                            <h3>Operadores</h3>
                                                            <p>Os operadores válidos são os seguintes : </p>
                                                            <table border="1" cellspacing="0" cellpadding="0">
                                                                <tr>
                                                                    <td width="77" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="77" valign="top">
                                                                        <p>+</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>Adição de dois números, de uma data e de um número de dias, ou concatenação das duas cadeias de caracteres.</p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td width="77" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="77" valign="top">
                                                                        <p>-</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>subtração de dois números, de uma data e de um número de dias, ou concatenação das duas cadeias de caracteres em inserindo um espaço entre as das cadeias.</p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td width="77" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="77" valign="top">
                                                                        <p>*</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>multiplicação de dois números.</p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td width="77" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="77" valign="top">
                                                                        <p>/</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>divisão de dois números </p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td width="77" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="77" valign="top">
                                                                        <p>^</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>elevação à potência</p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td width="77" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="77" valign="top">
                                                                        <p>&lt;</p>
                                                                        <p>&lt;=</p>
                                                                        <p>&gt;</p>
                                                                        <p>&gt;=</p>
                                                                        <p>&lt;&gt;</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>operadores de comparação</p>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td width="77" valign="top">
                                                                        <p>&#160;</p>
                                                                    </td>
                                                                    <td width="77" valign="top">
                                                                        <p>&#160;</p>
                                                                        <p>e&#160;:</p>
                                                                        <p>ou</p>
                                                                        <p>xor</p>
                                                                        <p>not</p>
                                                                    </td>
                                                                    <td width="461" valign="top">
                                                                        <p>operadores lógicos, que podem também se abreviar.</p>
                                                                        <p class="c4">&amp;</p>
                                                                        <p class="c4">|</p>
                                                                        <p class="c4">?</p>
                                                                        <p class="c4">!</p>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                            <p>Dispõe-se por outro lado da possibilidade de utilizar os parênteses com um nível de imbricação ilimitada.</p>
                                                            <h3>Variáveis<a name="_Toc342825137"></a><a name="_Toc342913891"></a><a name="_Toc343390977"></a><a name="_Toc343392905"></a><a name="_Toc343398296"></a><a name="_Toc344168549"></a><p>Uma variável se exprime de maneira geral sob a forma:</p><table border="1" cellspacing="0" cellpadding="0"><tr><td width="153" valign="top"><p>&#160;</p></td><td width="461" valign="top"><p>[ <i>classe</i> ] <i>nomvar</i> ( <i>indice</i> )</p></td></tr></table><p>Por exemplo, pode-se definir as variáveis seguintes:</p><table border="1" cellspacing="0" cellpadding="0"><tr><td width="153" valign="top"><p>&#160;</p></td><td width="461" valign="top"><p>[F:BPC]BPCNAME</p></td></tr><tr><td width="153" valign="top"><p>&#160;</p></td><td width="461" valign="top"><p>MA_VARIABLE</p></td></tr><tr><td width="153" valign="top"><p>&#160;</p></td><td width="461" valign="top"><p>ELEMENT(33)</p></td></tr></table><p>O nome da variável <i>nomvar</i> se exprime sob a forma de letras e/ou de escolhas, o primeiro caracter sendo sempre uma letra e o caracter de sublinhado sendo igualmente admitidos. O comprimento significativo de um nome de variável é limitado a 12 caracteres. Todos os nomes são autorizados, entre certas palavras-chave reservadas à linguagem (<i>File</i>, <i>Until</i>, ou <i>Commit</i> fazem parte destas palavras-chaves) Quando se tecla um nome de variável em letras minúsculas, é automaticamente transformada em letras maiúsculas, salvo se se trata de uma expressão-chave.</p><p>Certas variáveis podem ser dimensionadas, quer dizer corresponder a quadros de elementos (de 1 a 4 dimensões são possíveis) No caso, damos o ou os índices sob a forma de expressões numéricas, separados por vírgulas se existirem vários, entre parênteses (por exemplo, M_TB(1,2,8) é uma sintaxe válida).</p><p>Uma classe corresponde a um conjunto de variáveis ligadas a um contexto. As classes mais correntes são as seguintes:</p><p><img border="0" width="7" height="7" id="_x0000_i1031" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; [V]&#160;: classe de variáveis globais. Uma variável deste tipo está relacionada à sessão SAGE. Uma vez criada, ela resta acessível tanto que ela não foi destruida, ou tanto que a sessão SAGE não parou. A sua declaração se faz na ajuda de instruções dedicadas (segundo o tipo, utilizamos as instruções <i>Integer, Decimal, Char, Date, Libelle, Shortint, Float, Double</i>). </p><p><img border="0" width="7" height="7" id="_x0000_i1032" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; [L]&#160;: classe de variáveis locais. Ela está ligada a uma imbricação de sub-programa (cada instrução <i>Call</i> cria uma nova classe de variáveis locais que escondem a classe precedente). A declaração de variáveis deste tipo se faz de mesmo que as variáveis precedentes, mas em fazendo preceder a declaração de uma expressão-chave <i>Local</i>. </p><p><img border="0" width="7" height="7" id="_x0000_i1033" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; [C]&#160;: classe de variáveis de tipo contador. Trata-se de variáveis comuns a todos os postos de um dossier. A sua criação faz.-se por uma função de desenvolvimento dedicado.</p><p><img border="0" width="7" height="7" id="_x0000_i1034" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; [F:abv] ou ainda [abv]&#160;: trata-se da classe das variáveis relacionadas a uma tabela declarada pela instrução File. Encontramos os valores de registo corrente.</p><p><img border="0" width="7" height="7" id="_x0000_i1035" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; [M:abv] ou ainda [abv]&#160;: trata-se da classe das variáveis relacionadas a um ecrã declarado pela instrução Mask. Encontramos os valores tendo sido registados ou susceptíveis de ser afixados (cada separador de um ecrã considerado como uma máscara).</p><p>A classe não é obrigatória, porque as regras permitem de conhecer a classe por defeito.</p><p>Existe um conjunto de variáveis ditos <i>sistema</i>, porque gerados directamente por sage. Então que as outras variáveis são transformadas, no momento do registo, em maiúsculas, estas variáveis, que fazem parte de expressões-chave da linguagem, são afixadas em minúsculas. Eis quaisquer variáveis ssitema utilizáveis (lista não exaustiva) :</p><table border="1" cellpadding="0" width="552"><tr><td width="13%" valign="top"><p class="c5">Nome</p></td><td width="14%" valign="top"><p class="c5">Tipo</p></td><td width="71%" valign="top"><p class="c5">Definição</p></td></tr><tr><td width="13%" valign="top"><p>nomap</p></td><td width="14%" valign="top"><p>cadeia</p></td><td width="71%" valign="top"><p>nome do dossier corrente</p></td></tr><tr><td width="13%" valign="top"><p>datasyst</p></td><td width="14%" valign="top"><p>data$</p></td><td width="71%" valign="top"><p>data sistema modificável</p></td></tr><tr><td width="13%" valign="top"><p>adxdir</p></td><td width="14%" valign="top"><p>cadeia</p></td><td width="71%" valign="top"><p>directório de base sage</p></td></tr><tr><td width="13%" valign="top"><p>nolign</p></td><td width="14%" valign="top"><p>numérico</p></td><td width="71%" valign="top"><p>número de linha corrente</p></td></tr><tr><td width="13%" valign="top"><p>fstat</p></td><td width="14%" valign="top"><p>numérico</p></td><td width="71%" valign="top"><p>status de retorno após leitura ou registo tabela</p></td></tr></table><h4>Funções definidos no motor<a name="_Toc378603595"></a><a name="_Toc342825138"></a><a name="_Ref342877636"></a><a name="_Toc342913892"></a><a name="_Toc343390978"></a><a name="_Toc343392906"></a><a name="_Toc343398297"></a><a name="_Toc344168550"></a></h4><p>Uma função se exprime sob a forma função (lista de argumentos). Numerosas funções existem: tratamento de cadeias de caracteres, cálculos sobre datas, funções numéricas clássicas, funções de troncadura e de arredondamento estatísticas...</p><p>Uma lista das principais funções utilizáveis em SAGE se encontra acima. No quadro das funções, as convensões de registo são os seguintes :</p><p><img border="0" width="7" height="7" id="_x0000_i1036" src="../Resources/Images/bullet_brique.GIF" alt="*" />    v é um argumento de tipo qualquer (idem para v1, v2, v3...)</p><p><img border="0" width="7" height="7" id="_x0000_i1037" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; c é um argumento de tipo cadeia de caracteres </p><p><img border="0" width="7" height="7" id="_x0000_i1038" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; x é um argumento de tipo numérico</p><p><img border="0" width="7" height="7" id="_x0000_i1039" src="../Resources/Images/bullet_brique.GIF" alt="*" />    n, p, q...são de argumentos de tipo inteiro</p><p><img border="0" width="7" height="7" id="_x0000_i1040" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; V é uma variável</p><p><img border="0" width="7" height="7" id="_x0000_i1041" src="../Resources/Images/bullet_brique.GIF" alt="*" />&#160;&#160;&#160; lista é uma lista de variáveis ou de expressões. Neste tipo de lista, uma variável TABLO de tipo quadro pode ser utilizado sob a forma TABLO(I) (não se toma que um índice), TABLO (percorrem-se todos os índices), ou TABLO(I..J) (percorre-se os índices I a J incluindo).</p><table border="1" cellpadding="0" width="622"><tr><td width="28%" valign="top"><p class="c4">Sintaxes</p></td><td width="13%" valign="top"><p class="c5">Tipo</p></td><td width="57%" valign="top"><p class="c5">Definição</p></td></tr><tr><td width="28%" valign="top"><p>data$</p></td><td width="13%" valign="top"><p>data$</p></td><td width="57%" valign="top"><p>data corrente</p></td></tr><tr><td width="28%" valign="top"><p>sin(x), cos(x), tan(x)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>funções trigonometricas</p></td></tr><tr><td width="28%" valign="top"><p>asin(x),acos(x)...</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>funções trigonométricas inversas</p></td></tr><tr><td width="28%" valign="top"><p>log(x),exp(x),ln(x)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>funções logaritmicas</p></td></tr><tr><td width="28%" valign="top"><p>abs(x), sgn(x)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>valor absoluto, sinal</p></td></tr><tr><td width="28%" valign="top"><p>ar2(x), arr(x,y)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>arredondado a 2 decimais, arredondados de x a y perto</p></td></tr><tr><td width="28%" valign="top"><p>int(x), mod(x,y)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>parte inteira, módulo</p></td></tr><tr><td width="28%" valign="top"><p>len(c)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>Comprimento de uma cadeia</p></td></tr><tr><td width="28%" valign="top"><p>day(d),month(d),year(d)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>extracção quantia, mês, ano de uma data</p></td></tr><tr><td width="28%" valign="top"><p>dayn(d),week(d)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>número de dias na semana, nº da semana</p></td></tr><tr><td width="28%" valign="top"><p>num$(x)</p></td><td width="13%" valign="top"><p>cadeia</p></td><td width="57%" valign="top"><p>converte um número em cadeia (representação decimal)</p></td></tr><tr><td width="28%" valign="top"><p>space$(n), chr$(n)</p></td><td width="13%" valign="top"><p>cadeia</p></td><td width="57%" valign="top"><p>cadeia composta de n espaços, de 1 caracter de código interno n</p></td></tr><tr><td width="28%" valign="top"><p>string$(n,c), string$(n,x)</p></td><td width="13%" valign="top"><p>cadeia</p></td><td width="57%" valign="top"><p>cadeia composta de n caracteres c</p><p>(ou n caracteres de código x)</p></td></tr><tr><td width="28%" valign="top"><p>day(d),month(d),year(d)</p></td><td width="13%" valign="top"><p>cadeia</p></td><td width="57%" valign="top"><p>nome do dia, nome do mês</p></td></tr><tr><td width="28%" valign="top"><p>addmonth(d,n)</p></td><td width="13%" valign="top"><p>data$</p></td><td width="57%" valign="top"><p>a data d à qual se acrescenta n meses </p></td></tr><tr><td width="28%" valign="top"><p>eomonth(d)</p></td><td width="13%" valign="top"><p>data$</p></td><td width="57%" valign="top"><p>O último dia do mês correspondente à data d</p></td></tr><tr><td width="28%" valign="top"><p>left$(c,n), right$(c,n)</p></td><td width="13%" valign="top"><p>cadeia</p></td><td width="57%" valign="top"><p>parte esquerda/direita de uma cadeia sobre n caracteres</p></td></tr><tr><td width="28%" valign="top"><p>mid$(c,n,p), seg$(c,n,p)</p></td><td width="13%" valign="top"><p>cadeia</p></td><td width="57%" valign="top"><p>Extração de sub-cadeias de uma cadeia dada</p></td></tr><tr><td width="28%" valign="top"><p>gdat$(n,p,q)</p></td><td width="13%" valign="top"><p>data$</p></td><td width="57%" valign="top"><p>Construção de uma data (n=dias,p=mês,q=ano)</p></td></tr><tr><td width="28%" valign="top"><p>pat(c1,c2)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>   O modelo pode incluir os meta-caracteres * (número qualquer de caracteres quaisquer), ? (um caracter qualquer), # (uma cifra qualquer).</p></td></tr><tr><td width="28%" valign="top"><p>min(liste), max(liste)</p></td><td width="13%" valign="top"><p>Todos os tipos</p></td><td width="57%" valign="top"><p>mínimo ou máximo de um conjunto de variáveis ou valores</p></td></tr><tr><td width="28%" valign="top"><p>sum(lista), prd(lista)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>soma, produto de um conjunto de variáveis ou valores.</p></td></tr><tr><td width="28%" valign="top"><p>avg(lista), var(lista)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>média, variância de um conjunto de variáveis ou valores.</p></td></tr><tr><td width="28%" valign="top"><p>sum(lista)</p></td><td width="13%" valign="top"><p>cadeia</p></td><td width="57%" valign="top"><p>concatenação de um conjunto de variáveis ou valores cadeias.</p></td></tr><tr><td width="28%" valign="top"><p>uni(lista)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>verificação de unicidade sobre um conjunto de variáveis ou valores.</p></td></tr><tr><td width="28%" valign="top"><p>find(v,lista)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>pesquisa de um valor de tipo qualquer numa lista</p></td></tr><tr><td width="28%" valign="top"><p>evalue(c)</p></td><td width="13%" valign="top"><p>Todos os tipos</p></td><td width="57%" valign="top"><p>avaliação de uma cedeia de caracter contendo uma expressão  </p></td></tr><tr><td width="28%" valign="top"><p>format$(c,v)</p></td><td width="13%" valign="top"><p>cadeia</p></td><td width="57%" valign="top"><p>Formatação de um valor com um formato dado c.</p></td></tr><tr><td width="28%" valign="top"><p>toupper(c),tolower(c)</p></td><td width="13%" valign="top"><p>cadeia</p></td><td width="57%" valign="top"><p>transformação em minúsculas, em maiúsculas</p></td></tr><tr><td width="28%" valign="top"><p>sigma(V=v1,v2,v3)</p></td><td width="13%" valign="top"><p>numérico</p></td><td width="57%" valign="top"><p>soma (V variante de v1 a v2), da expressão v3 função de V.</p></td></tr></table><h4> Funções definidos pelos programadores</h4></h3>
                                                            <p>Existe igualmente as funções definidas por programadores e utilizáveis nas expressões calculadas, pela sintaxe seguinte:</p>
                                                            <p>func TRAIT.FONCT(lista de argumentos)</p>
                                                            <p>Rasto sendo o nome do tratamento, e FONCT o nome da função afectada. Deve-se referir que as funções utilizáveis são documentadas na <a href="GESASU.htm"></a>tabela dos sub-programas. </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div data-mc-conditions="Other.Production only">
                                                <div id="feedback-survey">
                                                    <div class="feedback-question">
                                                        <h4>Did you find this helpful?</h4>
                                                        <p>
                                                            <button class="feedback-button feedback-yes" title="Yes, this article was helpful." alt="Yes, this article was helpful.">Yes</button>&#160;<button class="feedback-button feedback-no" title="No, this article wasn't helpful." alt="No, this article wasn't helpful.">No</button></p>
                                                    </div>
                                                    <div class="feedback-reason no">
                                                        <hr />
                                                        <div class="highlightBox">
                                                            <h4>Sorry about that</h4>
                                                            <p>Why wasn't this helpful? (check all that apply)</p>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option1" value="Couldn't find what I was looking for" data-analytics-label="Could not find" />
                                                                <label for="option1">Couldn't find what I was looking for</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option2" value="Instructions confusing or unclear" data-analytics-label="Confusing or unclear" />
                                                                <label for="option2">Instructions confusing or unclear</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option3" value="Instructions didn't work" data-analytics-label="Did not work" />
                                                                <label for="option3">Instructions didn't work</label>
                                                            </div>
                                                            <div class="feedback-reason no-thanks">
                                                                <p><b>Thanks for your feedback.</b>
                                                                </p>
                                                                <h4>Want to tell us more?</h4>
                                                                <p>Send an email to our authors to leave your feedback.</p>
                                                                <!--email_off-->
                                                                <p><a href="mailto:Sage200TechnicalAuthors@sage.com?subject=Sage 200 feedback" id="feedbackEmailLink" title="Tell us if there's a problem with the information on this page." alt="Tell us if there's a problem with the information on this page." class="sageButton">Email our authors</a>
                                                                </p>
                                                                <!--/email_off-->
                                                                <p>Sorry, but we can't provide technical support from this email address. If you need assistance, then please contact our support team directly.</p>
                                                            </div>
                                                        </div>
                                                        <div id="get-in-touch" class="highlightBox colour-dark-1">
                                                            <h4>Need support?</h4>
                                                            <p>You can contact our support team on <b>0845 111 5555</b>, 9am-5pm Monday-Friday.</p>
                                                        </div>
                                                    </div>
                                                    <div class="feedback-reason yes-thanks">
                                                        <hr />
                                                        <h4>Great!</h4>
                                                        <p>Thanks for taking the time to give us some feedback.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="sage-layout-topic-panel">
                                            <div class="menu-topic-container" id="menu-on-page">
                                                <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 1280px)" class="nocontent menu _Skins_Sage_Menu_Topic_TopNav mc-component">
                                                    <li><a href="#Express%C3%B5escalculadasADONIX">Expressões calculadas ADONIX</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#Apresenta%C3%A7%C3%A3o">Apresentação</a>
                                                        </li>
                                                        <li><a href="#Tipodeumaexpress%C3%A3oSAGE">Tipo de uma expressão SAGE</a>
                                                        </li>
                                                        <li><a href="#Comoconstruirumexpress%C3%A3oSAGE">Como construir um expressão SAGE</a>
                                                        </li>
                                                    </ul>
                                                </ul>
                                            </div>
                                        </div>
                                    </section>
                                    <button class="go-to-top">
                                        <!-- icon and label are inserted -->
                                    </button>
                                    <section class="sage-footer colour-dark-1" id="footer" role="contentinfo">
                                        <div class="row">
                                            <div class="small-6 medium-3 columns">
                                                <h5>Site links</h5>
                                                <p><a href="../Sitemap.htm" class="MCXref xref">Sitemap</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage links</h5>
                                                <p><a href="https://my.sage.co.uk/public/help.aspx" target="_blank" class="external">Sage Support Hub</a>
                                                </p>
                                                <p><a href="https://communities.sage.co.uk/product_support_community/" class="external" target="_blank" title="Your place to get product support from other customers and Sage experts" alt="Your place to get product support from other customers and Sage experts">Product support community</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/gdpr/" class="external" target="_blank">General Data Protection Regulation</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/legal/" class="external" target="_blank">Legal information</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Page info</h5>
                                                <p>Page updated: <span class="mc-variable Dates.DateFileSaved variable">23 janeiro 2024</span></p>
                                                <!-- script moves last published date to here -->
                                                <div id="last-published-footer">
                                                </div>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage media</h5>
                                                <p><a href="https://www.facebook.com/sageuk" target="_blank" alt="Find us on Facebook" title="Find us on Facebook"><i class="fa fa-lg fa-facebook" aria-hidden="true"></i></a>&#160;
						<a href="https://www.linkedin.com/company/sage-software" target="_blank" alt="Find us on LinkedIn" title="Find us on LinkedIn"><i class="fa fa-lg fa-linkedin" aria-hidden="true"></i></a>&#160;
						<a href="https://twitter.com/sageuk/" target="_blank" alt="Find us on Twitter" title="Find us on Twitter"><i class="fa fa-lg fa-twitter" aria-hidden="true"></i></a>&#160;
						<a href="https://www.youtube.com/user/SageUKOfficial" target="_blank" alt="Find us on YouTube" title="Find us on YouTube"><i class="fa fa-lg fa-youtube" aria-hidden="true"></i></a></p>
                                            </div>
                                        </div>
                                    </section>
                                    <!-- Skin type scripts -->
                                    <script type="text/javascript" src="../Resources/Scripts/SideNav-template.js" data-mc-conditions="Other.HTML5-SideNav">
                                    </script>
                                    <!-- Google Analytics -->
                                    <div data-mc-conditions="Other.Production only">
                                        <!-- Google analytics script -->
                                        <!-- Copy and paste full HTML of tracking code here for Global site tag (gtag.js) -->
                                        <!-- Remember to edit 'async' parameter to read async="" -->
                                        <!-- Analytics for events -->
                                        <script type="text/javascript" src="../Resources/Scripts/google-analytics-events.js">
                                        </script>
                                    </div>
                                    <!-- cookies -->
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.js">
                                    </script>
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.config.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>