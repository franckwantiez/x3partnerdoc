<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Sage_Skin_SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="author" content="ADONIX" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="keywords" content="Workflow, Annex, Technical" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="description" content="Workflow technical annex" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="module" content="Supervisor" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="robots" content="all" xmlns="http://www.w3.org/1999/xhtml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Workflow technical annex</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Sage.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/Stylesheets/font-awesome.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: #000000 url('../../Skins/Default/Stylesheets/Images/60x60_globe_white-on-transparent_icon.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../Resources/TableStyles/NormalRows.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <script type="text/javascript">/*<![CDATA[*/$(document).ready(function(){
			$("#selectlang").appendTo("div.central-account-wrapper");
		});/*]]>*/</script>
                                    <div id="selectlang" class="headerlang">
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Language_toggle mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie select-language-button" title="Change language">
                                                    <div>
                                                        <div role="img" class="button-icon-wrapper" aria-label="Change language">
                                                            <div class="button-icon"> </div>
                                                        </div>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="sage-header-title">
                                        <img id="sage-header-logo" src="../Resources/Images/Sage_logo_green.svg" alt="Sage" /><span id="sage-header-product-name"><span id="sage-header-product"><span class="mc-variable Sage-Product.ProductName variable">X3 Warehousing</span></span></span>
                                    </div>
                                    <section class="sage-topic-body sage-layout-two-columns">
                                        <div class="sage-layout-topic-main">
                                            <div role="main" id="mc-main-content">
                                                <div id="container" xmlns="http://www.w3.org/1999/xhtml">
                                                    <div id="pageHeader">
                                                        <h1 class="g1" id="Workflowtechnicalannex" data-magellan-target="Workflowtechnicalannex"><span>Workflow technical annex</span>
                                                        </h1>
                                                    </div>
                                                    <div id="intro">
                                                        <div id="presentation">
                                                            <p>During the execution of a Workflow, such as during the signature, there is a rich context available, in the form of variable classes and local on-line variables. This context depends on the Workflow type and the process that is underway (Original Workflow, signature, Workflow following on from the first Workflow) This annex describes the algorithm used by the Workflow engine and details the variables used at this stage.</p>
                                                            <p>It should be noted that the formula assistant supplies a list of variables coming from the context to construct the formulas in the best way possible.</p>
                                                        </div>
                                                    </div>
                                                    <div id="supportingText">
                                                        <div class="stdBloc"><a id="MIS_30_10"></a>
                                                            <h2 class="g1" id="AlgorithmprincipalWorkflowobject" data-magellan-target="AlgorithmprincipalWorkflowobject">Algorithm principal Workflow object</h2>
                                                            <div class="links">
                                                                <ul>
                                                                    <li><a href="#MIS_30_20">Initialization of the environment variables</a>
                                                                    </li>
                                                                    <li><a href="#MIS_30_30">Processing of the assignment rule</a>
                                                                    </li>
                                                                    <li><a href="#MIS_30_40">Processing of the Workflow</a>
                                                                    </li>
                                                                    <li><a href="#MIS_30_50">Processing of the message</a>
                                                                    </li>
                                                                    <li><a href="#MIS_30_60">Processing of the receipt</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <p>A Workflow of the type object breaks down in a series of steps as follows :</p>
                                                            <ul>
                                                                <li><a href="#MIS_30_20">Initialization of the environment variables</a>
                                                                </li>
                                                                <li>For a workflow of the type <em>header</em> or of the type <em>line</em>&#160;without grouping,&#160;<a href="#MIS_30_30">processing of the assignment rule</a> if it exists, then process the workflow.</li>
                                                                <li>For a workflow of the type <em>line </em>with grouping, with read on the lines with the break on the different values of the group. With a constant value, actions of the type <em>line</em> that exist are executed and the line text is formatted. Then <a href="#MIS_30_30">process the assignment rule</a> for the group if it exists and then <a href="#MIS_30_40">process the workflow</a> for the group before passing to the next group.</li>
                                                            </ul><a id="MIS_30_20"></a>
                                                            <h3 class="g1">Initialization of the environment variables</h3>
                                                            <p>This stage consists of assigning the global variables. In particular the variable USRWRK is available, which corresponds to the current user for the original workflow.</p><a id="MIS_30_30"></a>
                                                            <h3 class="g1">Processing of the assignment rule</h3>
                                                            <p>In this stage, the formulas given in the rule are evaluated and they are stored in a dimensioned variable named VALEXP. This is used notably to have available aggregated values that are not strictly used as a criterion for the definition of the recipients, but simply used late in the Workflow (for example to decide the sending of a message as a function of the minimum, maximum and average values for an element).</p>
                                                            <p>The number of values calculated is identified by the variable NBCOL.</p>
                                                            <p>Then a search is carried out from the calculated values, the line of the rule that corresponds, to assign the grid of USER variables (indexed from 1 to 10 maximum).</p><a id="MIS_30_40"></a>
                                                            <h3 class="g1">Processing of the Workflow</h3>
                                                            <p>This stage breaks down into several sub-stages. Firstly, determine a certain number of values :</p>
                                                            <ul>
                                                                <li>the variable CTX must be initialized, which contains the current context, according to the parameterized formulas. This context is stored in the Workflow history and will then be reconstructed if a later Workflow event is triggered following the first receipt.</li>
                                                                <li>The variables S_USER, S_CLEOBJ, S_ABREV need to be assigned, which define the user at the origin of the Workflow, the key for the object or the group of lines and the object concerned. </li>
                                                                <li>S_NBRUSER is them calculated, which gives the number of signatures actually defined in the rule. </li>
                                                            </ul>
                                                            <p>Then, verify the execution conditions in the Workflow header. If these conditions are achieved, the following operations are then carried out :</p>
                                                            <ul>
                                                                <li>Constitution of the return context (icon).</li>
                                                                <li>Assignment of a chrono number to each processing of the rule. In the case of the manual Workflow, an assignment is made each time the value of the key in the principal table (if there is no regrouping field) or a grouping value (if there is one) is changed.</li>
                                                                <li>Assignment of a chrono number for each line (there will be several by group if there is regrouping).</li>
                                                                <li>Execution of the Workflow start action (if it exists and the conditions are met).</li>
                                                                <li>If a message must be sent, or a receipt made, search for delegated users.</li>
                                                                <li>If a message must be sent, <a href="#MIS_30_50">processing of the message</a>.</li>
                                                                <li>If a receipt must be made, <a href="#MIS_30_60">process the receipt</a>.</li>
                                                                <li>Execution of the actions of the type Workflow end (if it exists and the execution conditions are verified).</li>
                                                            </ul><a id="MIS_30_50"></a>
                                                            <h3 class="g1">Processing of the message</h3>
                                                            <p>This stage is carried out on the following operations :</p>
                                                            <ul>
                                                                <li>Constitution of the text by assembling the principal text and the text for the lines detail (if there are any).</li>
                                                                <li>Constitution of the object for the message.</li>
                                                                <li>Display of the window for the modification of the message (if the message is modifiable and if interactive triggering).</li>
                                                                <li>Posting transaction in the corresponding tables : <a href="../MCD/AWRKHISMES.htm">AWRKHISMES</a> contains the body of the message, <a href="../MCD/AWRKHISJOI.htm">AWRKHISJOI</a>&#160;the attachments and <a href="../MCD/AWRKHISDES.htm">AWRKHISDES</a>&#160;the recipients.</li>
                                                                <li>Sending the message if the grouped send option is not activated. If not the grouped send will be made at the end of the Workflow process.</li>
                                                            </ul><a id="MIS_30_60"></a>
                                                            <h3 class="g1">Processing of the receipt</h3>
                                                            <p>This stage carries out the update of the line for the receipt to be carried out in the table <a href="../MCD/AWRKHISSUI.htm">AWRKHISSUI</a>. The corresponding transaction is separated from the previous ones (but it is only executed if the previous ones have been processed correctly).</p>
                                                        </div>
                                                        <div class="stdBloc"><a id="MIS_40_10"></a>
                                                            <h2 class="g1" id="AlgorithmprincipalWorkflowsignature" data-magellan-target="AlgorithmprincipalWorkflowsignature">Algorithm principal Workflow signature</h2>
                                                            <p>A workflow of the signature type is triggered following a signature action (either manually from the workbench, or automatically via another Workflow event or a notification via a click on the link).</p>
                                                            <p>The corresponding stages are as follows :</p>
                                                            <ul>
                                                                <li><a href="#MIS_40_20">Initialization of the inherited variables</a>
                                                                </li>
                                                                <li>Loading of the variable classes [F] (tables) defined by the original event.</li>
                                                                <li>This is a Workflow of the type <em>Header</em>&#160;or of the type <em>line</em> without grouping,&#160;<a href="#MIS_30_30">processing of the assignment rule</a>, then <a href="#MIS_30_40">processing of the Workflow</a>.</li>
                                                                <li>If this is a workflow with a grouping of the lines, reading of the grouping lines corresponding to the receipt, processing of the assignment rule, then <a href="#MIS_30_40">processing of the Workflow</a>.</li>
                                                                <li>For each line, execution of the action of the type line and formatting of the text in the line.</li>
                                                                <li>What follows the process is identical to a standard Workflow.</li>
                                                            </ul><a id="MIS_40_20"></a>
                                                            <h3 class="g1">Initialization of the inherited variables</h3>
                                                            <p>The inherited variables for the context of the signature are assigned in this phase. This includes the following variables</p>
                                                            <p />
                                                            <table width="100%" border="2" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" class="TableStyle-NormalRows" cellspacing="0">
                                                                <tbody>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>NUMORG</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>chrono number for the original.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>USRORG</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>recipient for the original event.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>NUMSIG</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>chrono in which a signature process has been triggered.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>USRDES</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>recipient of the chrono in which a signature process has been triggered.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>USRWRK</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>user that signs it.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>MAIWRK</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>email address for the signatory, when the signature is made by an external http link.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>LEVSIG</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Level of the signature (the original event carries the number 0, the events that carry on from this carries the successive numbers from 1).</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>RETORG</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>Key for the object on which the original Workflow has been triggered.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>CONTXT</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Reference the return icon.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>CLEOBJ</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>Signed chrono number.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>CTX(1..15)</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Variables for the context.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>S_USER</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>Recipient having triggered the original Workflow.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>S_CLEOBJ</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Key for the triggering (object or regrouping).</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>S_ABREV</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>Abbreviation of the object for the original Workflow.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyB-Column1-Body2">
                                                                            <p>S_NBRUSR</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyA-Column1-Body2">
                                                                            <p>Number of users defined in the original Workflow rule.</p>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                        <div class="stdBloc"><a id="MIS_50_10"></a>
                                                            <h2 class="g1" id="Algorithmforthesignatureprocess" data-magellan-target="Algorithmforthesignatureprocess">Algorithm for the signature process</h2>
                                                            <p>he signature phase for an event is made by the following process :</p>
                                                            <ul>
                                                                <li><a href="#MIS_50_20">initialization of the signature context</a>.</li>
                                                                <li>Verification of the existence of the chrono and the locking</li>
                                                                <li>Evaluation (in view of the conditions) of the list of the authorized responses.</li>
                                                                <li>Entry of a response from amongst the possible responses.</li>
                                                                <li>Locking of the record that has generated the first receipt.</li>
                                                                <li>Loading of the variable classes [F].</li>
                                                                <li>Update of the RESULT variable as a function of the response.</li>
                                                                <li>Modification of this variable by entry (if the response is modifiable)</li>
                                                            </ul>
                                                            <p>Then, the signature transaction in the proper sense is carried out :</p>
                                                            <ul>
                                                                <li>Execution of the signature actions it there are any.</li>
                                                                <li>Update of the field corresponding to the response (if it exists)</li>
                                                                <li>Process of the Workflow associated with the signature (if one exists)</li>
                                                                <li>Update of the receipt line (signed flag, corresponding signatory).</li>
                                                            </ul><a id="MIS_50_20"></a>
                                                            <h3 class="g1">Initialization of the signature context.</h3>
                                                            <p>When a user signs a receipt, the available variables in the context are as follows :</p>
                                                            <p />
                                                            <table width="100%" border="2" style="mc-table-style: url('../Resources/TableStyles/NormalRows.css');" class="TableStyle-NormalRows" cellspacing="0">
                                                                <tbody>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>CHRONO</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>chrono for the event in which a signature has been carried out.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>USRDES</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>user code for the recipient.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>USRSIG</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>User code for signatory.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>USRMAIL</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>email address for the signatory, when the signature is made by an external http link.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>NUMORG</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Chrono for the original event in which the first signature is carried out.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>USRORG</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>Recipient for this event.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>LEVSIG</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Level of the signature (the original event carries the number 0, the events that carry on from this carries the successive numbers from 1).</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>USRTOP</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>Principal recipient (the others are delegates).</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>NUMGRP</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Group of the event to be signed.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>CTX(1..15)</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>Variables for the context.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>S_USER</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Recipient having triggered the original Workflow.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body1">
                                                                            <p>S_CLEOBJ</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body1">
                                                                            <p>Key for the triggering (object or regrouping).</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body2">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyE-Column1-Body2">
                                                                            <p>S_ABREV</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyD-Column1-Body2">
                                                                            <p>Abbreviation of the object for the original Workflow.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-NormalRows-Body-Body1">
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyB-Column1-Body1">
                                                                            <p>S_NBRUSR</p>
                                                                        </td>
                                                                        <td colspan="1" rowspan="1" class="TableStyle-NormalRows-BodyA-Column1-Body1">
                                                                            <p>Number of users defined in the original Workflow rule.</p>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <p>The variables grid REPCHR is used to identify if other recipients for the same event have already signed. The number of groups is counted (a group is equal to a line in the signatory grid, once a delegate has signed, the event is signed and cannot be signed a second tome by another member of the group).</p>
                                                            <p>The situation is then :</p>
                                                            <p>REPCHR(0) = number of responses that remain to be carried out : if for example if there are 4 lines of signatories in the event description and that only one has signed, this value is equal to 3.</p>
                                                            <p>REPCHR(NO), where NO can be a value between 1 and 10, gives the number of signatories that have responded with the response placed in the line number NO in the responses grid.</p>
                                                            <p>These variables are then notably used to condition the follow on stages by the fact that the last signature is waiting a response or to work on the majority logic for the signature.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div data-mc-conditions="Other.Production only">
                                                <div id="feedback-survey">
                                                    <div class="feedback-question">
                                                        <h4>Did you find this helpful?</h4>
                                                        <p>
                                                            <button class="feedback-button feedback-yes" title="Yes, this article was helpful." alt="Yes, this article was helpful.">Yes</button>&#160;<button class="feedback-button feedback-no" title="No, this article wasn't helpful." alt="No, this article wasn't helpful.">No</button></p>
                                                    </div>
                                                    <div class="feedback-reason no">
                                                        <hr />
                                                        <div class="highlightBox">
                                                            <h4>Sorry about that</h4>
                                                            <p>Why wasn't this helpful? (check all that apply)</p>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option1" value="Couldn't find what I was looking for" data-analytics-label="Could not find" />
                                                                <label for="option1">Couldn't find what I was looking for</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option2" value="Instructions confusing or unclear" data-analytics-label="Confusing or unclear" />
                                                                <label for="option2">Instructions confusing or unclear</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option3" value="Instructions didn't work" data-analytics-label="Did not work" />
                                                                <label for="option3">Instructions didn't work</label>
                                                            </div>
                                                            <div class="feedback-reason no-thanks">
                                                                <p><b>Thanks for your feedback.</b>
                                                                </p>
                                                                <h4>Want to tell us more?</h4>
                                                                <p>Send an email to our authors to leave your feedback.</p>
                                                                <!--email_off-->
                                                                <p><a href="mailto:Sage200TechnicalAuthors@sage.com?subject=Sage 200 feedback" id="feedbackEmailLink" title="Tell us if there's a problem with the information on this page." alt="Tell us if there's a problem with the information on this page." class="sageButton">Email our authors</a>
                                                                </p>
                                                                <!--/email_off-->
                                                                <p>Sorry, but we can't provide technical support from this email address. If you need assistance, then please contact our support team directly.</p>
                                                            </div>
                                                        </div>
                                                        <div id="get-in-touch" class="highlightBox colour-dark-1">
                                                            <h4>Need support?</h4>
                                                            <p>You can contact our support team on <b>0845 111 5555</b>, 9am-5pm Monday-Friday.</p>
                                                        </div>
                                                    </div>
                                                    <div class="feedback-reason yes-thanks">
                                                        <hr />
                                                        <h4>Great!</h4>
                                                        <p>Thanks for taking the time to give us some feedback.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="sage-layout-topic-panel">
                                            <div class="menu-topic-container" id="menu-on-page">
                                                <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 1280px)" class="nocontent menu _Skins_Sage_Menu_Topic_TopNav mc-component">
                                                    <li><a href="#Workflowtechnicalannex">Workflow technical annex</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#AlgorithmprincipalWorkflowobject">Algorithm principal Workflow object</a>
                                                        </li>
                                                        <li><a href="#AlgorithmprincipalWorkflowsignature">Algorithm principal Workflow signature</a>
                                                        </li>
                                                        <li><a href="#Algorithmforthesignatureprocess">Algorithm for the signature process</a>
                                                        </li>
                                                    </ul>
                                                </ul>
                                            </div>
                                        </div>
                                    </section>
                                    <button class="go-to-top">
                                        <!-- icon and label are inserted -->
                                    </button>
                                    <section class="sage-footer colour-dark-1" id="footer" role="contentinfo">
                                        <div class="row">
                                            <div class="small-6 medium-3 columns">
                                                <h5>Site links</h5>
                                                <p><a href="../Sitemap.htm" class="MCXref xref">Sitemap</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage links</h5>
                                                <p><a href="https://my.sage.co.uk/public/help.aspx" target="_blank" class="external">Sage Support Hub</a>
                                                </p>
                                                <p><a href="https://communities.sage.co.uk/product_support_community/" class="external" target="_blank" title="Your place to get product support from other customers and Sage experts" alt="Your place to get product support from other customers and Sage experts">Product support community</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/gdpr/" class="external" target="_blank">General Data Protection Regulation</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/legal/" class="external" target="_blank">Legal information</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Page info</h5>
                                                <p>Page updated: <span class="mc-variable Dates.DateFileSaved variable">23 January 2024</span></p>
                                                <!-- script moves last published date to here -->
                                                <div id="last-published-footer">
                                                </div>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage media</h5>
                                                <p><a href="https://www.facebook.com/sageuk" target="_blank" alt="Find us on Facebook" title="Find us on Facebook"><i class="fa fa-lg fa-facebook" aria-hidden="true"></i></a>&#160;
						<a href="https://www.linkedin.com/company/sage-software" target="_blank" alt="Find us on LinkedIn" title="Find us on LinkedIn"><i class="fa fa-lg fa-linkedin" aria-hidden="true"></i></a>&#160;
						<a href="https://twitter.com/sageuk/" target="_blank" alt="Find us on Twitter" title="Find us on Twitter"><i class="fa fa-lg fa-twitter" aria-hidden="true"></i></a>&#160;
						<a href="https://www.youtube.com/user/SageUKOfficial" target="_blank" alt="Find us on YouTube" title="Find us on YouTube"><i class="fa fa-lg fa-youtube" aria-hidden="true"></i></a></p>
                                            </div>
                                        </div>
                                    </section>
                                    <!-- Skin type scripts -->
                                    <script type="text/javascript" src="../Resources/Scripts/SideNav-template.js" data-mc-conditions="Other.HTML5-SideNav">
                                    </script>
                                    <!-- Google Analytics -->
                                    <div data-mc-conditions="Other.Production only">
                                        <!-- Google analytics script -->
                                        <!-- Copy and paste full HTML of tracking code here for Global site tag (gtag.js) -->
                                        <!-- Remember to edit 'async' parameter to read async="" -->
                                        <!-- Analytics for events -->
                                        <script type="text/javascript" src="../Resources/Scripts/google-analytics-events.js">
                                        </script>
                                    </div>
                                    <!-- cookies -->
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.js">
                                    </script>
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.config.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>