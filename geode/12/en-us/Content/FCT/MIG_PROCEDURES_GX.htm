<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_Sage_Skin_SideNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="author" content="ADONIX" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="keywords" content="procedure, migration, version" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="description" content="Automated migration procedures" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="module" content="Geode GX" xmlns="http://www.w3.org/1999/xhtml" />
        <meta name="robots" content="all" xmlns="http://www.w3.org/1999/xhtml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Automated migration procedures</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Sage.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/Stylesheets/font-awesome.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: #000000 url('../../Skins/Default/Stylesheets/Images/60x60_globe_white-on-transparent_icon.png') no-repeat center center;
}

.needs-pie
{
	behavior: url('../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="180x180" href="../../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <script type="text/javascript">/*<![CDATA[*/$(document).ready(function(){
			$("#selectlang").appendTo("div.central-account-wrapper");
		});/*]]>*/</script>
                                    <div id="selectlang" class="headerlang">
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Language_toggle mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie select-language-button" title="Change language">
                                                    <div>
                                                        <div role="img" class="button-icon-wrapper" aria-label="Change language">
                                                            <div class="button-icon"> </div>
                                                        </div>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="sage-header-title">
                                        <img id="sage-header-logo" src="../Resources/Images/Sage_logo_green.svg" alt="Sage" /><span id="sage-header-product-name"><span id="sage-header-product"><span class="mc-variable Sage-Product.ProductName variable">X3 Warehousing</span></span></span>
                                    </div>
                                    <section class="sage-topic-body sage-layout-two-columns">
                                        <div class="sage-layout-topic-main">
                                            <div role="main" id="mc-main-content">
                                                <div id="container" xmlns="http://www.w3.org/1999/xhtml">
                                                    <div id="pageHeader">
                                                        <h1 class="g1" id="Automatedmigrationprocedures" data-magellan-target="Automatedmigrationprocedures"><span>Automated migration procedures</span>
                                                        </h1>
                                                    </div>
                                                    <div id="intro">
                                                        <div id="presentation">
                                                            <body>
                                                                <p>This document describes the migration procedures implemented in Sage X3 Warehousing.</p>
                                                                <div>Different methods are available.</div>
                                                                <ul>
                                                                    <li>For a 140 or V5 solution: Migrate your solution to V6 (patch 6 minimum), then migrate your solution from V6 to V12.</li>
                                                                    <li>For a V6 solution: Install the V12, then integrate all existing patches into its <b>GX</b> folder.<br />In this case, follow the optimized migration procedures described below.</li>
                                                                </ul>
                                                            </body>
                                                        </div>
                                                    </div>
                                                    <div id="supportingText">
                                                        <div class="stdBloc"><a id="MIS_30_10"></a>
                                                            <h2 class="g1" id="Mainmigrationsteps" data-magellan-target="Mainmigrationsteps">Main migration steps</h2>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>To migrate a file from one major version to another, proceed as follows:</p>
                                                                <ol>
                                                                    <li value="1">Pre-migration controls in the original folder. These controls can be performed while Sage X3 Warehousing is still running.</li>
                                                                    <li value="2">The installation of V12 on a dedicated environment or the update of an existing environment.</li>
                                                                    <li value="3">The extraction of the data to be migrated from the original folder, followed by the reintegration of these data (the operation must be stopped and started again when migration is completed). The data extraction will be performed in a "flat" format for small folders, and using database extraction tools for larger folders.</li>
                                                                    <li value="4">Revalidation of the folder in the V12 environment. You can split this revalidation into different steps by using the migration plan setup. If the folder is not too bulky, defining migration plans may not prove necessary. It will be whenever you want to parallelize transfer processing routines (to benefit from the power of a multi-processor server) and control their sequencing by having recovery points.</li>
                                                                    <li value="5">Post-migration controls. It is mainly about checking and adjusting settings.</li>
                                                                </ol>
                                                                <p>The next sections of the documentation describe the complete steps to be followed.</p>
                                                            </body>
                                                        </div>
                                                        <div class="stdBloc"><a id="MIS_40_10"></a>
                                                            <h2 class="g1" id="Premigrationsteps" data-magellan-target="Premigrationsteps">Pre-migration steps</h2>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>Pre-migration steps are launched in the source environment and can be spread over a period of time, before the actual migration. It is not necessary to stop any operations.</p>
                                                                <p>First check that the original folder is at the minimum patch level required to run a migration. This level, which can be displayed via the <b>?</b> menu.<b> &gt; About</b>, must be at least in patch 6 for a version 6. There are no prerequisites for a migration to V11 or V12.</p>
                                                            </body>
                                                        </div>
                                                        <div class="stdBloc"><a id="MIS_60_10"></a>
                                                            <h2 class="g1" id="Copyofdataandadjustmentofthefolderparameters" data-magellan-target="Copyofdataandadjustmentofthefolderparameters">Copy of data and adjustment of the folder parameters</h2>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>This step corresponds to the beginning of the transfer to the next version. At this point, the operational use of the solution must be stopped ; it will resume when the migration is completed.</p>
                                                                <p>This step is sub-divided in four phases:</p>
                                                                <ol>
                                                                    <li value="1">Data extraction from the folder to be migrated:</li>
                                                                    <ul>
                                                                        <li>by data extraction in "flat" format for small folders. To do this, use the <span style="color: #0000ff;"><a href="DOSEXTRA.htm">extract</a></span> function which creates the files in the default <b>SVG</b> directory.</li>
                                                                        <li>by database extraction as soon as the volume is more important (the format then depends on the database and the tool used).</li>
                                                                    </ul>
                                                                    <li value="2">Copy of the files from the folder to be migrated into the V12 solution.</li>
                                                                    <li value="3">Creation of a folder copying the tree structure of the initial folder in the new V12 environment, and import of the exported data in the new environment.</li>
                                                                    <li value="4">Creation of the folder record in the V12 environment. If the import is performed via the console, the folder record is created automatically, but if the import was performed via database tools, you have to create the folder record manually after the import.</li>
                                                                </ol>
                                                                <p>
                                                                    <img src="../Resources/Images/SEEINFO.png" alt="SEEINFO" /> <span style="color: #bf7f00;">You can combine these four phases into a single one. Use the</span><span style="color: #bf7f00;">remote import wizard available in the SAFE X3 configuration console.</span></p>
                                                                <p>
                                                                    <img src="../Resources/Images/SEEWARNING.png" alt="SEEWARNING" /><span style="color: #bf0000;"> If the procedure has to be restarted from the data import in the migration folder, you have to run the <b>TRTMIGDEL</b> processing to clean the tables storing the migration status.</span>
                                                                </p><span style="color: #bf7f00;"><span style="color: #000000;"><p>If you use the console import function, the procedure is as follows:</p><ol><li value="1">Start the console.</li><li value="2">Choose the required&#160;solution and display the <b>Folders</b> screen.</li><li value="3">Click on <b>Import</b> (in the screen toolbar) for a window to appear.</li><li value="4">Select the folder to import and the directory with the data to be imported (<b>SVG</b> if this directory was used for the extraction), then fill in the other fields.</li><li value="5">Start the import by clicking <b>OK</b>.</li></ol></span></span>
                                                                <p><span style="color: #bf7f00;"><span style="color: #000000;">Before revalidating the folders, you have to adjust the value of the activity codes in the folder record. This brings these settings into compliance with the license, for example to implement new features controlled by new activity codes. </span></span><span style="color: #bf7f00;"><span style="color: #000000;">The modification of the folder record, or its creation, will be carried out by logging onto the <b>Supervisor</b> folder.<br />You cannot activate the file revalidation without this update. An error message is displayed as a reminder upon launching the validation.</span></span>
                                                                </p>
                                                            </body>
                                                        </div>
                                                        <div class="stdBloc"><a id="MIS_70_10"></a>
                                                            <h2 class="g1" id="Folderrevalidation" data-magellan-target="Folderrevalidation">Folder revalidation</h2>
                                                            <div class="links">
                                                                <ul>
                                                                    <li><a href="#MIS_70_20">Main revalidation steps</a>
                                                                    </li>
                                                                    <li><a href="#MIS_70_30">Using migration plans</a>
                                                                    </li>
                                                                    <li><a href="#MIS_70_40">Migration plan workflow</a>
                                                                    </li>
                                                                    <li><a href="#MIS_70_50">Final purge of the entry tables</a>
                                                                    </li>
                                                                    <li><a href="#MIS_70_60">Flow migration sequencing example</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>The folder revalidation transforms the structure of the X3 dictionary, then of the parameter tables, and then of the data tables of the previous version and brings it to the level of the latest V12 update, transferring the data in the process. Click the <a href="ADSVAL.htm">Validation</a> button from the folder management to initiate the revalidation.</p>
                                                                <p>Revalidation performs the supervisor and functional migration of the folder, comparing the dictionary of the new version and the dictionary of the version to be migrated.</p>
                                                                <p>
                                                                    <img src="../Resources/Images/SEEWARNING.png" alt="SEEWARNING" keeps="true" realloc="SEEWARNING" /> <span style="color: #bf0000;">If a migration test is first carried out in a folder containing specific developments, and if this migration is likely to stop if an error occurs, the default size of global variable <b>GTRALIG</b> to <b>200</b> (for optimization reasons) does not make it possible to get the set of all previous operations carried out before the system stopped. <br />You need to temporarily modify the size formula of the <b>GTRALIG</b> global variable by setting it to <b>1</b>. You need to reset the value to <b>200</b> after the migration. <br />Please note that you must log out and then log back in for this value to be taken into account.</span></p>
                                                            </body><a id="MIS_70_20"></a>
                                                            <h2 class="g1" id="Mainrevalidationsteps" data-magellan-target="Mainrevalidationsteps">Main revalidation steps</h2>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>The folder revalidation triggers the following steps in the folder to migrate:</p>
                                                                <ol>
                                                                    <li value="1">Purge of specific temporary or totaling tables whose re-creation will be carried out during later stages. The supervisor tables affected by this purge are the following:<ul><li><b>ALSTRD</b></li><li><b>ALISTER</b></li><li><b>AWRKLOG</b></li><li><b>AWRKLOGIND</b></li><li><b>AWRKLOGMES</b></li><li><b>ATMPTRA</b></li></ul></li>
                                                                    <li value="2">Migration of the envelope, that is to say, the database dictionary and the Supervisor tables necessary for the operating of the database (connection, user management, development environment and minimum setup). Once this migration is complete, it should be possible to log on, even though the tables containing the flow application data are still empty.</li>
                                                                    <li value="3">Functional migration: whenever there is a change in the structure of a table, the procedure will carry out the necessary changes, by assigning appropriate default values if necessary, through procedures sequenced in steps and phases. This is the most time consuming part of the migration, as it depends on the volume of data to be migrated. </li>
                                                                    <li value="4">Post-migration process (they are essentially resynchronizations of the totals tables). You can postpone some of these steps, and resume operation, but with a degraded functioning of the software package in the intermediate phase. You will need to go through these steps for the migration to be considered complete.</li>
                                                                    <li value="5">Final deletion of temporary tables. This phase is manual and can, for security reasons, be postponed until you are absolutely sure that all data flows have been correctly migrated.</li>
                                                                </ol>
                                                            </body><a id="MIS_70_30"></a>
                                                            <h2 class="g1" id="Usingmigrationplans" data-magellan-target="Usingmigrationplans">Using migration plans</h2>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>This functional migration can be lengthy when the folder is very large. Moreover, some updated tables are potentially independent and, therefore, could be migrated in parallel, thus benefiting from multi-processor architectures to accelerate this phase.</p>
                                                                <p>To allow an optimal scheduling of this migration, you can define a customized <a href="AMOULIN.htm">migration plan</a><b>before</b> launching the data validation. This migration plan is described in the <a href="GESAM3.htm">migration procedure</a>&#160;function (called from the Supervisor folder). This function allows you to define the stages, phases and procedures of the functional and Supervisor migration. A migration plan corresponds to the definition of specific migration parameters (impacted folder, number of procedures that can be run in parallel, task sequencing policy, running status). A migration plan is created by recopying all the active elements of the migration procedure. This complete set of procedures is provided as standard, allowing the processing performed by the standard software package to be chained in an exhaustive manner during the migration phase.</p>
                                                                <p>It is possible, at this stage, to define specific procedures by writing additional processing routines in conformity with the methodology defined in the <a href="MIG_TRT.htm">following appendix</a>. These specific procedures will be interspersed between the standard procedures in an appropriate manner.</p>
                                                                <p>Once a migration plan has been defined, you can launch it, interrupt it momentarily, resume its execution, and view its progress.</p>
                                                                <p>When a folder is of a reasonable size and does not require any particular scheduling, it is not necessary to create a migration plan. In the absence of a defined migration plan, the file validation operation will automatically create a migration plan. The code of this migration plan will be the folder code, except if this code already corresponds to a migration plan that does not have the <b>Pending</b> status. If it were, the plan would be created with a predefined code in the <b>MIGmmddM##</b> format. <b>mm</b> and <b>dd</b> are the numbers of the month and day of launch, while <b>##</b> is a sequential number.</p>
                                                                <p>However, to customize the migration sequencing options, you can create a migration plan with a code that must correspond to the folder name. This creation will take place in the Supervisor folder <b>before launching the folder validation</b>. If a migration plan exists with the <b>Pending</b> status, it will be used for the functional migration of the file.</p>
                                                                <p>
                                                                    <img src="../Resources/Images/SEEINFO.png" alt="SEEINFO" /> <span style="color: #bf7f00;">A plan created with a name that is different from the folder to migrate will never be used by the automatic folder validation functions. This type of plan is reserved for manual launch.</span></p>
                                                            </body><a id="MIS_70_40"></a>
                                                            <h2 class="g1" id="Migrationplanworkflow" data-magellan-target="Migrationplanworkflow">Migration plan workflow</h2>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>A migration plan is characterized by a folder code and four parameters:</p>
                                                                <ul>
                                                                    <li>An informative title</li>
                                                                    <li>The number of procedures that can be launched simultaneously. This number is the maximum possible. Only parallel procedures will be launched simultaneously. Note that this number is limited by the amount of batch tasks that can be executed simultaneously (defined in the <a href="ABATPAR.htm">batch server settings function</a>), which is also limited by the user license.</li>
                                                                    <li>An indicator specifying if the procedures should be launched automatically, following the logic defined by the plan. If not, you will have to perform the procedures described in the plan manually.</li>
                                                                    <li>An indicator stating if the <b>post-migration</b> procedures must be linked to the migration itself. These operations are described in detail below.</li>
                                                                </ul>
                                                                <p>If the migration plan is created by default when the folder is revalidated, it is created with these values:</p>
                                                                <ul>
                                                                    <li><b>Number of simultaneous tasks</b> set to the value of the <b>NBRTACSIM</b> parameter or, if it does not exist, to <b>2</b></li>
                                                                    <li><b>Auto-linking</b> to <b>Yes</b></li>
                                                                    <li><b>Post-migration operations</b> has the value <b>Yes</b>.</li>
                                                                </ul>
                                                                <p>You can always modify these values from the migration plan control function.</p>
                                                                <br />
                                                                <p>You can view the ordered list of the plan procedures in the screen associated with the migration plan. Specific buttons make it possible to globally control the execution of the plan:</p>
                                                                <ul>
                                                                    <li>by running the plan,</li>
                                                                    <li>by suspending the launch of new procedures,</li>
                                                                    <li>by interrupting all current procedures,</li>
                                                                    <li>by relaunching its execution.</li>
                                                                </ul>
                                                                <p>Each line of the plan represents a step in the execution, characterized by:</p>
                                                                <ul>
                                                                    <li>The procedure code and its title</li>
                                                                    <li>The step and phase to which the procedure belongs</li>
                                                                    <li>The functional module to which the procedure is linked</li>
                                                                    <li>The order of execution.</li>
                                                                </ul>
                                                                <p>The migration steps allow the functional migration to be divided. If a procedure related to a given phase is not completed, you cannot launch the subsequent phases. The phases are attached to the following steps:</p>
                                                                <ol>
                                                                    <li value="1">The initialization step is a preliminary step that is performed first. This step is not used currently. It is used for specific procedures to be executed before the migration itself.</li>
                                                                    <li value="2">The common data step allows you to migrate data used by the following steps.</li>
                                                                    <li value="3">The <b>module</b> step is used to carry out migrations linked to each functional module. An operation of this step is associated to a functional module: this association is purely documentary, and does not constrain the execution. Thus, data migrations associated with different modules can be executed in parallel if they are in an identical phase. They will be launched in the module order, followed by the execution ranks.</li>
                                                                    <li value="4">The <b>post-migration</b> step is used to carry out synchronization operations or secondary updates whose execution is not mandatory to restart operations in a downgraded mode. You can use it, for example, to defer older data migrations. Note, however, that even though it is not mandatory to resume operation, it will have to be performed later for the state of a folder to be considered fully migrated. These post-migration operations are launched by default in a migration plan but they are optional. They are listed in a <a href="TRTMIG_X3.htm#MIS_50_10">dedicated paragraph</a> in the appendix describing the migration procedures.</li>
                                                                </ol>
                                                                <p>In one step, you will find the unitary procedures organized in phases and ranks.</p>
                                                                <p>Two procedures defined in the same phase may be run simultaneously and should thus be independent. The assignment of a standard procedure to a given phase cannot be changed. Until all procedures in a phase are completed, you cannot initiate the next phase.</p>
                                                                <p>The rank order is just a preferred launch order, but you can change it, even for standard procedures, when defining the plan.</p>
                                                            </body><a id="MIS_70_50"></a>
                                                            <h2 class="g1" id="Finalpurgeoftheentrytables" data-magellan-target="Finalpurgeoftheentrytables">Final purge of the entry tables</h2>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>This phase is manual. It is triggered by the execution of the <b>TRTMIGDEL</b> processing from the processing execution function. Its execution will cause the deletion of all the tables with the <b>MIG</b> activity code.</p>
                                                                <p><b style="color: rgb(191, 0, 0);font-size: 12pt;">This phase cannot be undone. Please ensure that the migration processing routines have been carried out successfully.</b>
                                                                </p>
                                                                <p>Keeping the temporary tables in the folder is not an obstacle to normal operation. It is therefore possible to keep these tables online for a few weeks of operation. Should any problem occur in the weeks following the migration, you will have access to the original data for comparison or analysis purposes.</p>
                                                            </body><a id="MIS_70_60"></a>
                                                            <h2 class="g1" id="Flowmigrationsequencingexample" data-magellan-target="Flowmigrationsequencingexample">Flow migration sequencing example</h2>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>Be the following operations:</p>
                                                                <ul>
                                                                    <li>In the <b>Initialization</b> step, 7 operations:</li>
                                                                    <ul>
                                                                        <li><b>IN1</b>, <b>IN2</b> in phase 1 (of rows 3 and 7)</li>
                                                                        <li><b>IN3</b> and <b>IN4</b>, <b>IN5</b> and <b>IN6</b> in phase 2 (and successive ranks 1 3 , 5 9)</li>
                                                                        <li><b>IN7</b> in phase 3</li>
                                                                    </ul>
                                                                    <li>In the <b>Common Data</b> step, 6 operations:</li>
                                                                    <ul>
                                                                        <li><b>CD1</b>, <b>CD2</b>, <b>CD3</b>, all 3 in phase 1, with rows 3, 6, 9</li>
                                                                        <li><b>CD4</b> in phase 2</li>
                                                                        <li><b>CD5</b> and <b>CD6</b> in Phase 3</li>
                                                                    </ul>
                                                                    <li>in the <b>Module</b> step, 5 operations:</li>
                                                                    <ul>
                                                                        <li><b>MO1</b> step, in the <b>Accounting</b> module, with phase 2 and row 1</li>
                                                                        <li><b>MO2</b> and <b>MO3</b> steps, in the <b>Stocks</b> module, in the respective phases 1 and 2, with the respective ranks 1 and 2</li>
                                                                        <li><b>MO4</b> and <b>MO5</b> steps, in the <b>Sales</b> module, in the respective phases 1 and 2, with ranks 1</li>
                                                                        <li><b>MO6</b> and <b>MO7</b> steps, in the <b>Purchasing</b> module, with respective phases 1 and 5, with ranks 1</li>
                                                                    </ul>
                                                                </ul>
                                                                <p>If you start the migration plan with a sequence of tasks, and a maximum number of two procedures running simultaneously, the sequence can be as follows:</p>
                                                                <ol>
                                                                    <li value="1"><b>IN1</b> and <b>IN2</b> procedures are started in this order.</li>
                                                                    <li value="2">If <b>IN2</b> ends first. Until <b>IN1</b> is completed, no other procedure will be initiated, because the following procedures are in a higher phase or stage.</li>
                                                                    <li value="3">When <b>IN1</b> is completed, <b>IN3</b> and <b>IN4</b> will be started in that order.</li>
                                                                    <li value="4">If <b>IN4</b> ends before <b>IN3</b>, <b>IN5</b> will be started. If it ends before <b>IN3</b> is completed, <b>IN6</b> will be started and run at the same time as <b>IN3</b> continues.</li>
                                                                    <li value="5">When both <b>IN3</b> and <b>IN6</b> are completed (and only then), the initialization step is complete.</li>
                                                                    <li value="6">The procedures of the first phase of the <b>Common Data</b> step can then be launched: first of all, procedures <b>CD1</b> and <b>CD2</b>, then <b>CD3</b>, which will be launched the moment that one of the two previous procedures have been completed. Wait until all three procedures <b>CD1</b>, <b>CD2</b>, <b>CD3</b> are finished before launching <b>CD4</b>, which will run alone as there is no other procedure in this phase. You can then launch <b>CD5</b> and <b>CD6</b> which will run in parallel.</li>
                                                                    <li value="7">When both <b>CD5</b> and <b>CD6</b> are completed, you can proceed to the tasks in the module step.</li>
                                                                    <li value="8">First run the <b>MO2</b> and then <b>MO6</b> procedures (in order, as they run in parallel) As soon as one of the <b>MO2</b> or <b>MO6</b> procedures is finished, the <b>MO4</b> procedure, the next one in the phase/module/rank order, will be run in parallel with the <b>MO2</b> or <b>MO6</b> procedure that is not finished.</li>
                                                                    <li value="9">Then, wait until all the previous procedures are finished, and start the <b>MO1</b> and <b>MO3</b> procedures of phase 2. When at least one of the two is complete, launch <b>MO5</b>. Then wait until all previous tasks are completed.</li>
                                                                    <li value="10">Then launch <b>MO7</b>, which is the only one in phase 5.</li>
                                                                </ol>
                                                            </body>
                                                        </div>
                                                        <div class="stdBloc"><a id="MIS_80_10"></a>
                                                            <h2 class="g1" id="PostMigrationVerification" data-magellan-target="PostMigrationVerification">Post-Migration Verification</h2>
                                                            <p>
                                                            </p>
                                                            <body>
                                                                <p>When the folder has been revalidated, the case is accessible without restriction for its use. It can be restricted if some post-migration operations have been delayed.</p>
                                                                <p>The only remaining task is to check and adapt some functional setups.</p>
                                                            </body>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div data-mc-conditions="Other.Production only">
                                                <div id="feedback-survey">
                                                    <div class="feedback-question">
                                                        <h4>Did you find this helpful?</h4>
                                                        <p>
                                                            <button class="feedback-button feedback-yes" title="Yes, this article was helpful." alt="Yes, this article was helpful.">Yes</button>&#160;<button class="feedback-button feedback-no" title="No, this article wasn't helpful." alt="No, this article wasn't helpful.">No</button></p>
                                                    </div>
                                                    <div class="feedback-reason no">
                                                        <hr />
                                                        <div class="highlightBox">
                                                            <h4>Sorry about that</h4>
                                                            <p>Why wasn't this helpful? (check all that apply)</p>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option1" value="Couldn't find what I was looking for" data-analytics-label="Could not find" />
                                                                <label for="option1">Couldn't find what I was looking for</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option2" value="Instructions confusing or unclear" data-analytics-label="Confusing or unclear" />
                                                                <label for="option2">Instructions confusing or unclear</label>
                                                            </div>
                                                            <div class="feedback-option">
                                                                <input type="checkbox" class="option no" id="option3" value="Instructions didn't work" data-analytics-label="Did not work" />
                                                                <label for="option3">Instructions didn't work</label>
                                                            </div>
                                                            <div class="feedback-reason no-thanks">
                                                                <p><b>Thanks for your feedback.</b>
                                                                </p>
                                                                <h4>Want to tell us more?</h4>
                                                                <p>Send an email to our authors to leave your feedback.</p>
                                                                <!--email_off-->
                                                                <p><a href="mailto:Sage200TechnicalAuthors@sage.com?subject=Sage 200 feedback" id="feedbackEmailLink" title="Tell us if there's a problem with the information on this page." alt="Tell us if there's a problem with the information on this page." class="sageButton">Email our authors</a>
                                                                </p>
                                                                <!--/email_off-->
                                                                <p>Sorry, but we can't provide technical support from this email address. If you need assistance, then please contact our support team directly.</p>
                                                            </div>
                                                        </div>
                                                        <div id="get-in-touch" class="highlightBox colour-dark-1">
                                                            <h4>Need support?</h4>
                                                            <p>You can contact our support team on <b>0845 111 5555</b>, 9am-5pm Monday-Friday.</p>
                                                        </div>
                                                    </div>
                                                    <div class="feedback-reason yes-thanks">
                                                        <hr />
                                                        <h4>Great!</h4>
                                                        <p>Thanks for taking the time to give us some feedback.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="sage-layout-topic-panel">
                                            <div class="menu-topic-container" id="menu-on-page">
                                                <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 1280px)" class="nocontent menu _Skins_Sage_Menu_Topic_TopNav mc-component">
                                                    <li><a href="#Automatedmigrationprocedures">Automated migration procedures</a>
                                                    </li>
                                                    <ul>
                                                        <li><a href="#Mainmigrationsteps">Main migration steps</a>
                                                        </li>
                                                        <li><a href="#Premigrationsteps">Pre-migration steps</a>
                                                        </li>
                                                        <li><a href="#Copyofdataandadjustmentofthefolderparameters">Copy of data and adjustment of the folder parameters</a>
                                                        </li>
                                                        <li><a href="#Folderrevalidation">Folder revalidation</a>
                                                        </li>
                                                        <li><a href="#Mainrevalidationsteps">Main revalidation steps</a>
                                                        </li>
                                                        <li><a href="#Usingmigrationplans">Using migration plans</a>
                                                        </li>
                                                        <li><a href="#Migrationplanworkflow">Migration plan workflow</a>
                                                        </li>
                                                        <li><a href="#Finalpurgeoftheentrytables">Final purge of the entry tables</a>
                                                        </li>
                                                        <li><a href="#Flowmigrationsequencingexample">Flow migration sequencing example</a>
                                                        </li>
                                                        <li><a href="#PostMigrationVerification">Post-Migration Verification</a>
                                                        </li>
                                                    </ul>
                                                </ul>
                                            </div>
                                        </div>
                                    </section>
                                    <button class="go-to-top">
                                        <!-- icon and label are inserted -->
                                    </button>
                                    <section class="sage-footer colour-dark-1" id="footer" role="contentinfo">
                                        <div class="row">
                                            <div class="small-6 medium-3 columns">
                                                <h5>Site links</h5>
                                                <p><a href="../Sitemap.htm" class="MCXref xref">Sitemap</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage links</h5>
                                                <p><a href="https://my.sage.co.uk/public/help.aspx" target="_blank" class="external">Sage Support Hub</a>
                                                </p>
                                                <p><a href="https://communities.sage.co.uk/product_support_community/" class="external" target="_blank" title="Your place to get product support from other customers and Sage experts" alt="Your place to get product support from other customers and Sage experts">Product support community</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/gdpr/" class="external" target="_blank">General Data Protection Regulation</a>
                                                </p>
                                                <p><a href="https://www.sage.com/en-gb/legal/" class="external" target="_blank">Legal information</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Page info</h5>
                                                <p>Page updated: <span class="mc-variable Dates.DateFileSaved variable">23 January 2024</span></p>
                                                <!-- script moves last published date to here -->
                                                <div id="last-published-footer">
                                                </div>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage media</h5>
                                                <p><a href="https://www.facebook.com/sageuk" target="_blank" alt="Find us on Facebook" title="Find us on Facebook"><i class="fa fa-lg fa-facebook" aria-hidden="true"></i></a>&#160;
						<a href="https://www.linkedin.com/company/sage-software" target="_blank" alt="Find us on LinkedIn" title="Find us on LinkedIn"><i class="fa fa-lg fa-linkedin" aria-hidden="true"></i></a>&#160;
						<a href="https://twitter.com/sageuk/" target="_blank" alt="Find us on Twitter" title="Find us on Twitter"><i class="fa fa-lg fa-twitter" aria-hidden="true"></i></a>&#160;
						<a href="https://www.youtube.com/user/SageUKOfficial" target="_blank" alt="Find us on YouTube" title="Find us on YouTube"><i class="fa fa-lg fa-youtube" aria-hidden="true"></i></a></p>
                                            </div>
                                        </div>
                                    </section>
                                    <!-- Skin type scripts -->
                                    <script type="text/javascript" src="../Resources/Scripts/SideNav-template.js" data-mc-conditions="Other.HTML5-SideNav">
                                    </script>
                                    <!-- Google Analytics -->
                                    <div data-mc-conditions="Other.Production only">
                                        <!-- Google analytics script -->
                                        <!-- Copy and paste full HTML of tracking code here for Global site tag (gtag.js) -->
                                        <!-- Remember to edit 'async' parameter to read async="" -->
                                        <!-- Analytics for events -->
                                        <script type="text/javascript" src="../Resources/Scripts/google-analytics-events.js">
                                        </script>
                                    </div>
                                    <!-- cookies -->
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.js">
                                    </script>
                                    <script src="../Resources/Scripts/jquery.cookiesdirective.sage.config.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>