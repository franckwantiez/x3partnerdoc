<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en" xml:lang="en" class="_Skins_Sage_Skin_TopNav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-toc-path="[%=System.LinkedTitle%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-conditions="Sage_X3.V12">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="pragma" content="no-cache" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="558x558" href="../../../../Skins/Favicons/Sage_logo_favicon_558x558.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" /><title>Sage X3 V12 server components hosting – Recommendations</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/Sage_X3.css" rel="stylesheet" type="text/css" />
        <link href="../../../Resources/Stylesheets/font-awesome.css" rel="stylesheet" type="text/css" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link rel="apple-touch-icon" sizes="558x558" href="../../../../Skins/Favicons/Sage_logo_favicon_558x558.png" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../../../../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../../../../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" role="banner" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="Topic 1 Architecture and system requirements.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <section class="sage-header" id="header-normal">
                                        <div class="row outer-row small-collapse">
                                            <div class="large-6 columns">
                                                <div id="sage-header-title">
                                                    <img id="sage-header-logo" src="../../../Resources/Images/Sage_logo_green.svg" alt="Sage" />
                                                    <div id="sage-header-product-name"><span class="mc-variable Sage-Product.ProductFamily variable">Sage</span>&#160; <span id="sage-header-product"><span class="mc-variable Sage-Product.ProductName variable">X3</span></span></div>
                                                </div>
                                            </div>
                                            <div class="large-6 columns end">
                                                <div id="sage-header-search">
                                                    <form class="search" action="#">
                                                        <div class="search-bar search-bar-container needs-pie _Skins_Sage_Search_Normal_TopNav mc-component">
                                                            <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                            <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                                <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                                </div>
                                                                <div class="search-filter-content" id="sf-content">
                                                                    <ul>
                                                                        <li>
                                                                            <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                            </button>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                            <div class="search-submit-wrapper" dir="ltr">
                                                                <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                    <section class="sage-header" id="menu-bar-container">
                                        <!-- menu goes here -->
                                    </section>
                                    <section class="sage-topic-body clearfix">
                                        <div class="small-12 medium-4 large-3 columns right">
                                            <div id="page-toc">
                                                <!-- page table of contents generated here -->
                                            </div>
                                            <div class="menu-topic-container" data-mc-conditions="Other.HTML5-TopNav">
                                                <ul class="nocontent menu _Skins_Sage_Menu_Topic_TopNav mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/Web_outputs__Architecture_guide.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="nocontent">
                                            <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" / " data-mc-breadcrumbs-count="10" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">Menu: </span>
                                            </div>
                                        </div>
                                        <div role="main" id="mc-main-content">
                                            <h1><span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> V12 server components hosting – Recommendations</h1>
                                            <h2>Hardware generic recommendations</h2>
                                            <p>Below are generic recommendations on hardware to achieve best performance.</p>
                                            <p>More precise sizing recommendations will be detailed in a later version of this document.</p>
                                            <h2>CPU considerations</h2>
                                            <h3>Intel® CPUs</h3>
                                            <p>Whether <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> V12 is hosted in physical servers or virtualized, underlying hardware should leverage recent processor generations (Intel® Xeon® E5 v4 or later, E7 v4 or later).</p>
                                            <p><span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> recommends using the latest (third generation) or previous generation (second and first) Intel® Xeon® Scalable Processors, Gold or Platinum variants</p>
                                            <h3>AMD™ CPUs</h3>
                                            <p>Opteron™ processors, that are optimized for floating point, are slower than equivalent Intel® Xeon® processors for most <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> computations that are performed with BCD integers (to avoid floating-point precision loss) and should not be used at all.</p>
                                            <p>EPYC™ gen.1 (7001 series) are behind equivalent Intel® Xeon® CPUs of the same generation. Their use is discouraged.</p>
                                            <p>EPYC™ gen.2 (7002 series) can be used. Its performance is similar to equivalent Intel® Xeon® Scalable processors.</p>
                                            <h3>Processor clock frequency</h3>
                                            <p>High CPU clock speed gives higher application throughput for single operations and high CPU core count gives a best overall resilience with multi-user workloads.</p>
                                            <p>Since having both at the same time implies expensive processors, you might have to balance a high number of cores vs a high clock speed.</p>
                                            <p>Avoid low-energy consumption processors with low clock frequency (Xeon® L models). These will give poor results. Use CPUs running at 2.4 GHz or higher to get good performances.</p>
                                            <p>For heavy single-threaded loads, consider using a processor with a 2.8 GHz or higher base clock speed.</p>
                                            <h2>Memory considerations</h2>
                                            <p>Memory bus speed should be as fast as possible as <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> architecture uses a small amount of memory bandwidth.</p>
                                            <p>Please note that on certain motherboard generations/chipsets, the real memory bus bandwidth decreases with the number of memory sticks (and chips) installed.</p>
                                            <p>In such cases, the memory bus speed is slower when used for a total memory composed of a high number of small capacity memory sticks (leveraging small memory chips). It is better to use a small number of high capacity memory sticks (leveraging big memory chips). Even though this recommended configuration is usually more expensive.</p>
                                            <p>Please consult the technical documentation of your server’s vendor before choosing between possible options of components configuration for RAM.</p>
                                            <h2>Network considerations</h2>
                                            <h3>Networking between RDBMS server(s) and runtime/application</h3>
                                            <p><span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> is a highly interactive product with a lot of communications between the application tier and the database tier.</p>
                                            <p>To get the best performance and user experience, you should ensure that the network latency between database and application tiers is as low as possible.</p>
                                            <p>When RDBMS and application/runtime tiers are not hosted in the same server, this is achieved by using 10 Gbit/s high quality networking equipment and paying attention to the whole networking stack (network adapters drivers, network switches firmware, virtual NIC types, etc.)</p>
                                            <h3>Networking between runtime/application and <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> Syracuse server</h3>
                                            <p>There is less exigence on this network path, so when the database and application are hosted in the same server (so you don’t have a physical network path between RDBMS and Runtime), you can use 1 Gbit/s network equipment.</p>
                                            <h2>Storage considerations</h2>
                                            <h3>Oracle or SQL Server database storage</h3>
                                            <p>Storage quality is paramount for database performance.</p>
                                            <p>You should use a storage configuration giving high IOPS performance for volumes hosting databases datafiles, whether it’s Oracle (system tablespaces, redo logs, data and indexes tablespaces) or SQL Server (TempDB datafiles, log, data and indexes filegroups).</p>
                                            <p>This is achieved by using SSD storage (with RAID-10, RAID-1, RAID-5 or RAID-6 redundancy), or if you cannot use SSD, by using the best spinning disks in the optimal performance RAID configuration, that is a high number of 15krpm disk drives with RAID-10 redundancy.</p>
                                            <p>A high number of small disk drives is better than a few bigger drives, as the IOPS capability is given by the number of drives in a RAID array, not by their sizes.</p>
                                            <p>7.2krpm drives and/or RAID-5 or RAID-6 redundancy should never be used for hosting a production database.</p>
                                            <h3><span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> application storage</h3>
                                            <p><span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> application storage does not require as many IOPS as database storage.</p>
                                            <p>In your <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> application, components can reside on a storage tier providing moderate IOPS, like 10krpm disk drives with RAID-5 or RAID-6 redundancy.</p>
                                            <p>7.2krpm drives are not recommended as they might impair performance in technical operations like patch integration, folders creation, etc.</p>
                                            <h3>MongoDB data storage</h3>
                                            <p>Unless you plan to use MongoDB for intensively storing <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> attachments, IOPS needs are moderate.</p>
                                            <p>You can then use the same kind of storage configuration as for <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> application.</p>
                                            <p>7.2krpm drives are not recommended as they might slow down operations when there is high concurrency on MongoDB access, for instance when there are many user logs <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> within a short amount of time.</p>
                                            <h3>Elasticsearch data storage</h3>
                                            <p>If you plan to make a massive use of Elasticsearch indexing, you can consider using a performing storage tier for hosting Elasticsearch data.</p>
                                            <p>SSD might be too much, using 10krpm drives in RAID-10 gives adequate performance to users’ search queries, and to Elasticsearch indexes updates.</p>
                                            <h3>Other <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> components storage</h3>
                                            <p>Other <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> components are mostly static data, with little disk access and don’t require high-end storage. 10krpm disks in RAID-5 or RAID-6 are enough.</p>
                                            <p>7.2krpm drives might impair technical operations like components updating.</p>
                                            <h2>Virtualization considerations</h2>
                                            <p>You can deploy the solution on physical servers or in a virtual environment like VMware vSphere, Hyper-V, RedHat KVM, Citrix XenServer or Oracle VM.</p>
                                            <p>Most <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> components below can be deployed on virtual machines:</p>
                                            <ul>
                                                <li>Application and main process server(s)</li>
                                                <li>Additional process server(s)</li>
                                                <li>MongoDB server(s)</li>
                                                <li>Elasticsearch server(s)</li>
                                                <li>Syracuse web server(s)</li>
                                                <li>Print server(s)</li>
                                                <li>ADC server(s)</li>
                                            </ul>
                                            <p>If you decide to virtualize your architecture, you must build a physical infrastructure adapted to a virtual environment for optimum performance. We recommend dedicated resources assigned to your  <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> environment, rather than sharing resources.</p>
                                            <p>A production virtualization architecture is usually built with multiple physical hosts and relies on a shared storage system (SAN) providing high availability and adequate performance to cope with the I/O and throughput needs of all hosted VMs and applications.</p>
                                            <p>Apart from development / test or small production environments, it is NOT RECOMMENDED to run the RDBMS (SQL Server or Oracle) in a virtualized environment.</p>
                                            <p>However, if you decide to run RDBMS in a virtual machine, you must take all precautions to ensure this virtual machine is able to run at full throttle any time, and not suffer from bottlenecks on CPU, memory or storage I/Os due to resource overprovisioning in the virtualization platform.</p>
                                            <p>CPU bottlenecks due to over-provisioning is also a performance killer for the servers that host the 4GL execution engines (<span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> runtime).</p>
                                            <p>To help determine the quality of an infrastructure regardless of its nature (physical or virtual, single or multi-tier, Oracle or SQL Server, Unix-Linux or Windows, etc.), <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> provides the AIOBENCH test program to meter the performance of <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> by performing a set of data I/O operations of the reference folder to simulate some high-demand transactions.</p>
                                            <p>The results of this program can help to compare metered performance to known reference systems and feedback from other customers’ production infrastructures.</p>
                                            <h3>Security considerations</h3>
                                            <div class="note-info">Plan to acquire adequate backup tools so that you can save online virtual machines.<br />Ensure redundancy for physical servers and storage systems.
</div>
                                            <h3>Important sizing considerations for virtualization</h3>
                                            <div class="note-warning">Keep virtual machines small!<br />Huge virtual machines won’t work properly, unless they run in a dedicated virtualization environment where there is NO overprovisioning at all (which removes most benefits from virtualization).</div>
                                            <p>A full <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> environment you would put in a physical, dual-socket 24-core server does NOT run properly in a big 24-vCPU VM in most cases and MUST be split on several smaller VMs.</p>
                                            <p>4 to 6 vCPUs per VM is considered a reasonable upper limit. This number can be raised to higher values if virtualization platform consists of servers with a high core count AND there is no or moderate CPU overprovisioning.</p>
                                            <h3>Virtualizing MongoDB, Elasticsearch and Syracuse: good practices</h3>
                                            <div class="note-warning">On PRODUCTION systems, do NOT deploy Elasticsearch in the same VM as Syracuse (node.js).<br />In most cases, MongoDB can be deployed in the same server than Syracuse (node.js), but if you use MongoDB intensively to store documents, it is wise to host it on a dedicated server.</div>
                                            <p>Using different servers makes it much easier to tune the configuration because different components won't be competing for the same resources (memory, CPU, disk I/O) inside a single VM. It also makes it easier to modify the deployment if you identify a performance bottleneck in one of the components.</p>
                                            <p><strong>MongoDB</strong> usually requires less CPU and memory than the node.js component. You can start with a smaller VM configuration.  Ideally you should set up a cluster (replica set) with an odd number of nodes (3 is a good start). There are many resources on the Internet about tools and techniques to tune MongoDB deployment. Don't oversize/over-architect it unless you see that Mongo is your performance bottleneck. Mongo is designed to handle very large datasets and very high transaction rates and <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> is stressing it very little in comparison to some of the larger web apps/sites that use Mongo.</p>
                                            <p><strong>Elasticsearch</strong> uses more memory and CPU than MongoDB but usage varies widely. You can start with the same configuration as MongoDB and then scale up if necessary. Some interesting facts about the Elasticsearch component: It is decoupled from the rest so if you have a performance issue in this layer it does not impact the rest of the application, just the search function. It is easy to redeploy on a larger VM because it does not hold critical data. It is only an index that can be rebuilt from data in a MongoDB or <span class="mc-variable Sage-Product.ProductFamily variable">Sage</span> <span class="mc-variable Sage-Product.ProductName variable">X3</span> database (SQL or Oracle). It can be clustered and you'll find resources on the Internet about cluster deployment.</p>
                                            <p><strong>Node.js (Syracuse server)</strong> is the most difficult of the three to configure and the most likely to be responsible for poor performance.</p>
                                            <h3>Tips for presentation tier virtualization</h3>
                                            <h4>Memory and CPU considerations for Syracuse</h4>
                                            <p>With default configuration values, a healthy node.js process should take less than 1.5 GB of RAM. If it goes above, it starts to garbage collect aggressively and that's usually when it starts to saturate its CPU thread. It is important to keep the individual node.js processes below 75% of 1 CPU (20% of overall CPU on a 4-core VM) and below 1.5 GB.</p>
                                            <p>As you need to keep CPU resources for the operating system, a Syracuse VM should at least have 2 cores. A minimum of 2 GB RAM should be available for the operating system.</p>
                                            <p>A node.js process is required for about 25 interactive sessions, depending on their activity. A session corresponds to an opened tab if the user uses a Classic page, plus one session for all tabs opened by a user on Syracuse functions.</p>
                                            <p>A CPU core is required for 2 to 4 node.js process (according to their activity).</p>
                                            <p>For instance, a VM with 2 cores and 8 GB is adequate to run 4 node.js processes with default sizing values.</p>
                                            <p>If you manage huge grids in classic pages, you might need to increase the memory size associated to node.js (it can be raised up to 8 GB). Refer to the dedicated node.js sizing documentation for more details.</p>
                                            <p>Remember the following rules:</p>
                                            <ul>
                                                <li>Node.js is single threaded so if you have 4 cores and a node.js process is taking 25% of overall CPU it means it is saturating its CPU thread - not good.</li>
                                                <li>You should observe overall memory usage while the app is running and bump the number of node processes until overall memory usage reaches 75-80%.</li>
                                            </ul>
                                            <h4>Web services sizing</h4>
                                            <p>If a significant part of your transactions to go through web services, you should deploy a node.js cluster and dedicate one or more nodes of your cluster to web services.</p>
                                            <p>In this case, do not mix web services and interactive sessions on the same cluster node(s).</p>
                                            <h4>MongoDB sizing</h4>
                                            <p>For your MongoDB instance, you should consider:</p>
                                            <ul>
                                                <li>The memory sizing of MongoDB is not correlated to the Syracuse memory sizing. MongoDB generally uses less than 1 GB which makes a 3 GB VM suitable.</li>
                                                <li>As a rule of thumb, give MongoDB less than 20% VM CPU allocation than for Syracuse.</li>
                                            </ul>
                                            <h4>Elasticsearch sizing</h4>
                                            <p>Elasticsearch requires at least two cores and 4 GB of RAM and should be hosted on a dedicated VM. If you index huge database, more CPU and memory might be required.</p>
                                            <h4>Storage considerations</h4>
                                            <p>Syracuse does very little I/O. Save the high-end disks for MongoDB and Elasticsearch.</p>
                                        </div>
                                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_Toolbar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic NextTopic;position: relative;left: 45%; width: 200px; overflow: auto;">
                                            <div class="button-group-container-left">
                                                <button class="button needs-pie previous-topic-button" title="Navigate previous" disabled="true">
                                                    <div>
                                                        <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                            <div class="button-icon"> </div>
                                                        </div>
                                                    </div>
                                                </button>
                                                <button class="button needs-pie next-topic-button" title="Navigate next" disabled="true">
                                                    <div>
                                                        <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                            <div class="button-icon"> </div>
                                                        </div>
                                                    </div>
                                                </button>
                                            </div>
                                        </div>
                                    </section><a class="go-to-top" href="#"><!-- icon and label are inserted --></a>
                                    <section class="sage-footer colour-dark-1" id="footer" role="contentinfo">
                                        <div class="row">
                                            <div class="small-6 medium-3 columns">
                                                <h5>Sage links</h5>
                                                <p><a href="https://www.sage.com/en-us/support/" target="_blank" class="external">Sage Support Hub</a>
                                                </p>
                                                <p><a href="https://www.sagecity.com/sage-global-solutions/subgrouplist" class="external" target="_blank" title="Your place to get product support from other customers and Sage experts" alt="Your place to get product support from other customers and Sage experts">Product support community</a>
                                                </p>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5>Page info</h5>
                                                <p>Date published: <span class="mc-variable Dates.DateProjectBuilt variable">07 December 2022</span></p>
                                                <!-- script moves last published date to here -->
                                                <div id="last-published-footer">
                                                </div>
                                            </div>
                                            <div class="small-6 medium-3 columns">
                                                <h5><a href="https://www.sage.com" target="_blank" alt="Sage" title="Sage"><img class="sage-logo" src="../../../Resources/Images/Sage_logo_green.svg" alt="Sage" /></a>
                                                </h5>
                                                <p><a href="https://www.facebook.com/Sage/" target="_blank" alt="Facebook" title="Facebook"><i class="fa fa-lg fa-facebook" aria-hidden="true"></i></a>&#160;
						<a href="https://www.linkedin.com/company/sage-software" target="_blank" alt="LinkedIn" title="LinkedIn"><i class="fa fa-lg fa-linkedin" aria-hidden="true"></i></a>&#160;
						<a href="https://twitter.com/sagegroupplc/" target="_blank" alt="Twitter" title="Twitter"><i class="fa fa-lg fa-twitter" aria-hidden="true"></i></a>&#160;
						<a href="https://www.youtube.com/sage/ " target="_blank" alt="YouTube" title="YouTube"><i class="fa fa-lg fa-youtube" aria-hidden="true"></i></a></p>
                                                <p style="display: none;"><a href="../../../Resources/MasterPages/SearchResults_X3.htm"> </a>
                                                </p>
                                            </div>
                                        </div>
                                    </section>
                                    <!-- Skin type scripts -->
                                    <script type="text/javascript" src="../../../Resources/Scripts/TopNav-template.js" data-mc-conditions="Other.HTML5-TopNav">
                                    </script>
                                    <!-- Page TOC -->
                                    <script type="text/javascript" src="../../../Resources/Scripts/TopNav-page-toc.js">
                                    </script>
                                    <!-- Business size -->
                                    <script type="text/javascript" src="../../../Resources/Scripts/Business-Medium.js" data-mc-conditions="Other.Business-Medium">
                                    </script>
                                    <!-- Google Analytics -->
                                    <div data-mc-conditions="Other.Production only">
                                        <!-- Google analytics script -->
                                        <!-- Copy and paste full HTML of tracking code here for Global site tag (gtag.js) -->
                                        <!-- Remember to edit 'async' parameter to read async="" -->
                                        <!-- Analytics for events -->
                                        <script type="text/javascript" src="../../../Resources/Scripts/google-analytics-events.js">
                                        </script>
                                    </div>
                                    <!-- cookies -->
                                    <script src="../../../Resources/Scripts/jquery.cookiesdirective.sage_X3.js">
                                    </script>
                                    <script src="../../../Resources/Scripts/jquery.cookiesdirective.sage.config.js">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>